/*!
 * jQuery JavaScript Library v1.10.0
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-05-24T18:39Z
 */
function toggle(t){var e=document.getElementById(t);"none"==e.style.display?e.style.display="block":e.style.display="none"}function blanket_size(t){"undefined"!=typeof window.innerWidth?viewportheight=window.innerHeight:viewportheight=document.documentElement.clientHeight,viewportheight>document.body.parentNode.scrollHeight&&viewportheight>document.body.parentNode.clientHeight?blanket_height=viewportheight:document.body.parentNode.clientHeight>document.body.parentNode.scrollHeight?blanket_height=document.body.parentNode.clientHeight:blanket_height=document.body.parentNode.scrollHeight;var e=document.getElementById("blanket");e.style.height=blanket_height+"px";document.getElementById(t);popUpDiv_height=blanket_height/2-150}function window_pos(t){"undefined"!=typeof window.innerWidth?viewportwidth=window.innerHeight:viewportwidth=document.documentElement.clientHeight,viewportwidth>document.body.parentNode.scrollWidth&&viewportwidth>document.body.parentNode.clientWidth?window_width=viewportwidth:document.body.parentNode.clientWidth>document.body.parentNode.scrollWidth?window_width=document.body.parentNode.clientWidth:window_width=document.body.parentNode.scrollWidth;document.getElementById(t);window_width=window_width/2-150}function popup(t){blanket_size(t),window_pos(t),toggle("blanket"),toggle(t)}function setActiveTab(t){$("ul#Newtabs").find("li").removeClass("tab_active"),$("li#all_variant").addClass("tab_active"),$("div#all_variants").show(),$("div#overview").hide()}function contentSearchFilterAction(t,e,i,n,o,r,s){$.ajax({url:"/contents/"+t,dataType:"script",type:"get",data:"sub_type="+e+"&items="+i+"&page="+n+"&itemtype_id="+o+"&sort_by="+r+"&search_type="+$("#search_type").val()+"&quick_create="+$("#quick_create").val()+"&guide="+s,before:$("#spinner6").show(),success:function(t){$("#spinner6").hide()}})}function contentscrollAction(t,e,i,n,o,r,s){$.ajax({url:"/contents/"+t,dataType:"script",type:"get",data:"sub_type="+e+"&items="+i+"&page="+n+"&itemtype_id="+o+"&sort_by="+r+"&search_type="+$("#search_type").val()+"&quick_create="+$("#quick_create").val()+"&guide="+s,before:$("#spinner1").show(),success:function(t){$("#spinner1").hide()}})}function find_sub_type(t){switch(t){case"All":var e="All";break;case"HowTo":var e="HowTo/Guide";break;case"HowTo/Tips":var e="HowTo/Guide";break;case"Q&A":var e="QandA";break;default:var e=t}return e}function triggerScrollFunction(t,e,i,n){$(window).scroll(function(){if(lnk=$("#content_next"),!running&&lnk&&$(window).scrollTop()>=$("#content_all").height()-$(window).height()){running=!0;var t=find_sub_type($(".filter_option.tab_active").attr("id")),o=$("#filter_page_no").val(),r=$("span#sortBy a.link_active").text(),s="feeds";return contentscrollAction(s,t,e,o,i,r,n),!1}})}function triggerScrollFunctionMyfeeds(t,e,i,n){$(window).scroll(function(){if(lnk=$("#content_next"),!running&&lnk&&$(window).scrollTop()>=$("#content_all").height()-$(window).height()){running=!0;var t=find_sub_type($("div#Filterby div.Filternav ul li.Currentfilter").attr("id")),e=$("#filter_page_no").val(),i=$("span#sortBy a.link_active").text(),o=$("#item_types").val(),r=($("#items").val(),"feeds");return contentscrollAction(r,t,"",e,o,i,n),!1}})}function autoPlayVideo(t,e){$("#youtube_image"+e).html('<iframe type="text/html" width="640" height="385" src="https://www.youtube.com/embed/'+t+'?autoplay=1&loop=1&rel=0&wmode=transparent" frameborder="0" allowfullscreen wmode="Opaque"></iframe>')}function openLoginPopup(t,e){1!=login_flag&&(plannto_popup_login_id=t,click_type=e,$("#login-feed").bPopup({closeClass:"Closebut",modalClose:!1,position:[screen.width/2-135,$(window).scrollTop()+150],follow:[!1,!1]}))}function closeLoginPopup(){login_flag=!0,$("#login-feed").dialog("close"),$(""+plannto_popup_login_id).trigger(click_type)}function showSearchPack(){0==$(".search_category").find("li").length&&$(".searchPack").slideDown()}function showClearTag(){0==$(".search_category").find("li").length&&$("#clearTag").show()}function validateSearchField(t,e){return""==t||""==e?(alert("Please select a search criteria."),!1):void 0}function hideSearchPack(){0==$(".search_category").find("li").length&&$(".searchPack").slideUp()}function searchData(t){var e={lines:12,length:4,width:4,radius:8,color:"#000",speed:1,trail:60,shadow:!0,hwaccel:!1},i=document.getElementById(t),n=new Spinner(e).spin(i);$.get(SEARCH_URL,$("#searchForm").serialize(),null,"script").success(function(){n.stop()})}function removeAllTags(){$(".search_category").find("li").remove(),$(".box").show()}function hideClearTag(){0==$(".search_category").find("li").length&&$("#clearTag").hide()}function hidePreferenceTag(){0==$(".search_category").find("li").length&&$("#addPreferenceTag").hide()}function hideGetAdviceTag(){0==$(".search_category").find("li").length&&$("#getAdviceTag").hide()}function store_info_div(t,e){var i="#"+t;if(""==$(i).text())var n=[];else var n=$(i).text().split(",");var o=!0;$.each(n,function(t,i){i.toString()==e.value.toString()&&(o=!1)}),1==o&&n.push(e.value),$(i).text(n.toString())}function store_ids(t,e){var i="#"+t;if(""==$(i).val())var n=[];else var n=$(i).val().split(",");var o=!0;$.each(n,function(t,i){i.toString()==e.value.toString()&&(o=!1)}),1==o&&n.push(e.value),$(i).val(n.toString())}function resetForm(t){$(":input","#"+t).not(":button, :submit, :reset, :hidden").val("").removeAttr("checked").removeAttr("selected")}function intToFormat(t){t+="",x=t.split("."),x1=x[0],x2=x.length>1?"."+x[1]:"";for(var e=/(\d+)(\d{3})/,i=0,n=String(x1).length,o=parseInt(n/2-1);e.test(x1)&&(i>0?x1=x1.replace(e,"$1,$2"):(x1=x1.replace(e,"$1,$2"),e=/(\d+)(\d{2})/),i++,o--,0!=o););return x1+x2}function openInfoBox(t,e,i){var n=$(i).attr("id");if(resetUnwantedFormFields(),$("#searchCriteriaLabel").html(" "),$("#criteriaHeading").html(" "),$("#which_attribute").val($(i).attr("id")),$("#which_form_field").val(e),$("#which_type").val(t.vth),$("#which_unit").val(t.ut),$(".ui-autocomplete").hide(),$("#criteriaPopup #autocompleteField").hide(),$(".jslider").hide(),"Between"==t.vt){var o,r;o=""==$("#min_"+e).val()?t.min_v:$("#min_"+e).val(),r=""==$("#max_"+e).val()?t.max_v:$("#max_"+e).val(),$("#which_type").val("Between");var s=$("#"+n).position();$("#criteriaPopup").hide(),$("#criteriaPopup").css({position:"absolute",top:s.top-5+"px",left:s.left+210+"px"}).show(),$("#criteriaHeading").html(t.adn);var a=t.range.split(","),l="25/"+a[1],c="50/"+a[2],u="75/"+a[3];if($("#Slider"+e).val(""+t.min_v+";"+t.max_v),0==$("#Slider"+e).next(".jslider").length)jQuery("#Slider"+e).slider({from:parseFloat(t.min_v),to:parseFloat(t.max_v),step:t.step,round:0,dimension:"&nbsp;"+t.ut,heterogeneity:[l,c,u],scale:[a[0],"|",a[1],"|",a[2],"|",a[3],"|",a[4]],skin:"plastic",calculate:function(t){return t},onstatechange:function(t){var e=t.split(";");$("#form_field_val").val(t);var i=$("#which_type").val()+" "+intToFormat(e[0])+" "+$("#which_unit").val()+" - "+intToFormat(e[1])+" "+$("#which_unit").val();$("#searchCriteriaLabel").html(i)}});else{$("#Slider"+e).next(".jslider").show(),$("#Slider"+e).slider("value",parseFloat(t.min_v),parseFloat(t.max_v));var d=$("#which_type").val()+" "+intToFormat(o)+" "+$("#which_unit").val()+" - "+intToFormat(r)+" "+$("#which_unit").val();$("#searchCriteriaLabel").html(d)}return!1}if("GreaterThan"==t.vt||"LessThen"==t.vt){var h;h="GreaterThan"==t.vt?""==$("#"+e).val()?parseFloat(t.av):parseFloat($("#"+e).val()):""==$("#"+e).val()?parseFloat(t.max_v):parseFloat($("#"+e).val());var s=$("#"+n).position();$("#criteriaPopup").css({position:"absolute",top:s.top-5+"px",left:s.left+210+"px"}).show(),$("#criteriaHeading").html(t.adn);var a=t.range.split(","),l="25/"+a[1],c="50/"+a[2],u="75/"+a[3];if($("#Slider"+e).val(h),0==$("#Slider"+e).next(".jslider").length)jQuery("#Slider"+e).slider({from:parseFloat(t.min_v),to:parseFloat(t.max_v),step:t.step,round:1,dimension:"&nbsp;"+t.ut,heterogeneity:[l,c,u],scale:[a[0],"|",a[1],"|",a[2],"|",a[3],"|",a[4]],skin:"plastic",calculate:function(t){return parseFloat(t)},onstatechange:function(t){var e=t;$("#form_field_val").val(e);var i=$("#which_type").val()+" "+e+" "+$("#which_unit").val();$("#searchCriteriaLabel").html(i)}});else{$("#Slider"+e).next(".jslider").show();var d=$("#which_type").val()+" "+h+" "+$("#which_unit").val();$("#Slider"+e).slider("value",h),$("#searchCriteriaLabel").html(d),$("#form_field_val").val(h)}return!1}if("Click"==t.vt){showSearchPack(),showClearTag(),showPreferenceTag(),showGetAdviceTag();var f=jQuery.parseJSON(e);$("#which_form_field").val(f.field_id);var p=$("#which_attribute").val()+"_tag";if(removeMultipleAttributeInstance(f.field_id,p),$("#"+p+" span").text()==f.display_name)return $("#"+$("#which_attribute").val()).hide(),!1;var m="<li id='"+p+"' class='middlebg'  style= 'height:40px;'><span class='title_txt'>"+f.display_name+"<a id= 'deleteTag' class='icon_close'></a></span></li>";return $(m).appendTo(".search_category"),$("#"+$("#which_attribute").val()).hide(),$("#"+f.field_id).val(f.value),$("#page").val(1),searchData("spinner"),!1}if("ListOfValues"==t.vt){var s=$("#"+n).position();if($("#criteriaPopup").css({position:"absolute",top:s.top-5+"px",left:s.left+210+"px"}).show(),$("#criteriaHeading").html(t.adn),$("#searchCriteriaLabel").text(""),$("#"+e).val(""),$("#criteriaPopup #autocompleteField").size()>0){var g=loadTypes();$("#criteriaPopup #autocompleteField").autocomplete({minLength:0,minChars:0,max:10,source:g,focus:function(t,e){return!1},select:function(t,i){return store_ids(e,i.item),$("#criteriaPopup #autocompleteField").val(""),setUpLOV(e),!1}}),$.ui.autocomplete.prototype._renderMenu=function(t,e){var i=this;$.each(e,function(e,n){10>e&&i._renderItem(t,n)})},$("#criteriaPopup #autocompleteField").show(),$("#autocompleteField").select(),$("#autocompleteField").autocomplete("search","")}}return!1}function setUpLOV(t){var e,i=$("#"+t).val().split(","),n="removableListofValues"+t,o=[];$.each(i,function(i,n){e="removeThis_"+i+"_"+t,o.push(n+"<a id='"+e+"' class='removablePopupList'> x </a>")}),$("#searchCriteriaLabel").html("<span id='"+n+"'>"+o.toString()+"</span>")}function openManufacturerBox(t,e){$(".jslider").hide(),$("#which_attribute").val($(e).attr("id")),$("#which_form_field").val("manufacturer"),$("#which_type").val("manufacturer"),$("#"+$("#which_form_field").val()).val(""),$(".ui-autocomplete").hide(),$("#searchCriteriaLabel").text("");var i=$("#"+$(e).attr("id")).position();if($("#criteriaPopup").css({position:"absolute",top:i.top-5+"px",left:i.left+210+"px"}).show(),$("#criteriaHeading").html("Manufacturer"),$("#criteriaPopup #autocompleteField").size()>0){var n=loadManufacturers();$("#criteriaPopup #autocompleteField").autocomplete({minLength:0,cacheLength:5,max:5,minChars:0,source:n,focus:function(t,e){return!1},select:function(t,e){return store_ids("manufacturer",e.item),$("#criteriaPopup #autocompleteField").val(""),setUpLOV("manufacturer"),!1}}),$.ui.autocomplete.prototype._renderMenu=function(t,e){var i=this;$.each(e,function(e,n){10>e&&i._renderItem(t,n)})},$("#criteriaPopup #autocompleteField").show(),$("#autocompleteField").select(),$("#autocompleteField").autocomplete("search","")}}function setUpCompareButton(t){if(t){var e="input[value='"+t+"']";$(e).closest("div").find("a.txt_compare").hasClass("btn_selected_compare")?$(e).closest("div").find("a.txt_compare").removeClass("btn_selected_compare"):$(e).closest("div").find("a.txt_compare").addClass("btn_selected_compare")}}function setCompareCheckBox(){var t=checkBoxIds.split(",");$.each(t,function(t,e){$("input[value='"+e+"']").attr("checked",!0),setUpCompareButton(e)})}function store_checkbox_ids(t){if(""==checkBoxIds)var e=[];else var e=checkBoxIds.split(",");if(t.checked){if(4==e.length)return alert("You can only select 4 items to compare."),void $("input[value='"+t.value+"']").attr("checked",!1);e.push(t.value)}else{var i=t.value;e=$.grep(e,function(t){return t!=i})}checkBoxIds=e.toString(),setUpCompareButton(t.value)}function enableDocumentMouseOverEvent(){$(document).mouseover(function(t){$(t.target).parents().andSelf().is(".box")||$(t.target).parents().andSelf().is(".ui-autocomplete")||$(t.target).parents().andSelf().is("#criteriaPopup")||($("#criteriaPopup").hide(),$(".ui-autocomplete").hide())})}!function(t,e){function i(t){var e=t.length,i=ut.type(t);return ut.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===i||"function"!==i&&(0===e||"number"==typeof e&&e>0&&e-1 in t)}function n(t){var e=Tt[t]={};return ut.each(t.match(ht)||[],function(t,i){e[i]=!0}),e}function o(t,i,n,o){if(ut.acceptData(t)){var r,s,a=ut.expando,l=t.nodeType,c=l?ut.cache:t,u=l?t[a]:t[a]&&a;if(u&&c[u]&&(o||c[u].data)||n!==e||"string"!=typeof i)return u||(u=l?t[a]=et.pop()||ut.guid++:a),c[u]||(c[u]=l?{}:{toJSON:ut.noop}),("object"==typeof i||"function"==typeof i)&&(o?c[u]=ut.extend(c[u],i):c[u].data=ut.extend(c[u].data,i)),s=c[u],o||(s.data||(s.data={}),s=s.data),n!==e&&(s[ut.camelCase(i)]=n),"string"==typeof i?(r=s[i],null==r&&(r=s[ut.camelCase(i)])):r=s,r}}function r(t,e,i){if(ut.acceptData(t)){var n,o,r=t.nodeType,s=r?ut.cache:t,l=r?t[ut.expando]:ut.expando;if(s[l]){if(e&&(n=i?s[l]:s[l].data)){ut.isArray(e)?e=e.concat(ut.map(e,ut.camelCase)):e in n?e=[e]:(e=ut.camelCase(e),e=e in n?[e]:e.split(" ")),o=e.length;for(;o--;)delete n[e[o]];if(i?!a(n):!ut.isEmptyObject(n))return}(i||(delete s[l].data,a(s[l])))&&(r?ut.cleanData([t],!0):ut.support.deleteExpando||s!=s.window?delete s[l]:s[l]=null)}}}function s(t,i,n){if(n===e&&1===t.nodeType){var o="data-"+i.replace(Nt,"-$1").toLowerCase();if(n=t.getAttribute(o),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:St.test(n)?ut.parseJSON(n):n}catch(r){}ut.data(t,i,n)}else n=e}return n}function a(t){var e;for(e in t)if(("data"!==e||!ut.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function l(){return!0}function c(){return!1}function u(){try{return K.activeElement}catch(t){}}function d(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function h(t,e,i){if(ut.isFunction(e))return ut.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return ut.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(Wt.test(e))return ut.filter(e,t,i);e=ut.filter(e,t)}return ut.grep(t,function(t){return ut.inArray(t,e)>=0!==i})}function f(t){var e=qt.split("|"),i=t.createDocumentFragment();if(i.createElement)for(;e.length;)i.createElement(e.pop());return i}function p(t,e){return ut.nodeName(t,"table")&&ut.nodeName(1===e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function m(t){return t.type=(null!==ut.find.attr(t,"type"))+"/"+t.type,t}function g(t){var e=oe.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function v(t,e){for(var i,n=0;null!=(i=t[n]);n++)ut._data(i,"globalEval",!e||ut._data(e[n],"globalEval"))}function y(t,e){if(1===e.nodeType&&ut.hasData(t)){var i,n,o,r=ut._data(t),s=ut._data(e,r),a=r.events;if(a){delete s.handle,s.events={};for(i in a)for(n=0,o=a[i].length;o>n;n++)ut.event.add(e,i,a[i][n])}s.data&&(s.data=ut.extend({},s.data))}}function b(t,e){var i,n,o;if(1===e.nodeType){if(i=e.nodeName.toLowerCase(),!ut.support.noCloneEvent&&e[ut.expando]){o=ut._data(e);for(n in o.events)ut.removeEvent(e,n,o.handle);e.removeAttribute(ut.expando)}"script"===i&&e.text!==t.text?(m(e).text=t.text,g(e)):"object"===i?(e.parentNode&&(e.outerHTML=t.outerHTML),ut.support.html5Clone&&t.innerHTML&&!ut.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===i&&ee.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===i?e.defaultSelected=e.selected=t.defaultSelected:("input"===i||"textarea"===i)&&(e.defaultValue=t.defaultValue)}}function x(t,i){var n,o,r=0,s=typeof t.getElementsByTagName!==X?t.getElementsByTagName(i||"*"):typeof t.querySelectorAll!==X?t.querySelectorAll(i||"*"):e;if(!s)for(s=[],n=t.childNodes||t;null!=(o=n[r]);r++)!i||ut.nodeName(o,i)?s.push(o):ut.merge(s,x(o,i));return i===e||i&&ut.nodeName(t,i)?ut.merge([t],s):s}function _(t){ee.test(t.type)&&(t.defaultChecked=t.checked)}function w(t,e){if(e in t)return e;for(var i=e.charAt(0).toUpperCase()+e.slice(1),n=e,o=ke.length;o--;)if(e=ke[o]+i,e in t)return e;return n}function C(t,e){return t=e||t,"none"===ut.css(t,"display")||!ut.contains(t.ownerDocument,t)}function k(t,e){for(var i,n,o,r=[],s=0,a=t.length;a>s;s++)n=t[s],n.style&&(r[s]=ut._data(n,"olddisplay"),i=n.style.display,e?(r[s]||"none"!==i||(n.style.display=""),""===n.style.display&&C(n)&&(r[s]=ut._data(n,"olddisplay",D(n.nodeName)))):r[s]||(o=C(n),(i&&"none"!==i||!o)&&ut._data(n,"olddisplay",o?i:ut.css(n,"display"))));for(s=0;a>s;s++)n=t[s],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?r[s]||"":"none"));return t}function T(t,e,i){var n=ve.exec(e);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):e}function S(t,e,i,n,o){for(var r=i===(n?"border":"content")?4:"width"===e?1:0,s=0;4>r;r+=2)"margin"===i&&(s+=ut.css(t,i+Ce[r],!0,o)),n?("content"===i&&(s-=ut.css(t,"padding"+Ce[r],!0,o)),"margin"!==i&&(s-=ut.css(t,"border"+Ce[r]+"Width",!0,o))):(s+=ut.css(t,"padding"+Ce[r],!0,o),"padding"!==i&&(s+=ut.css(t,"border"+Ce[r]+"Width",!0,o)));return s}function N(t,e,i){var n=!0,o="width"===e?t.offsetWidth:t.offsetHeight,r=ue(t),s=ut.support.boxSizing&&"border-box"===ut.css(t,"boxSizing",!1,r);if(0>=o||null==o){if(o=de(t,e,r),(0>o||null==o)&&(o=t.style[e]),ye.test(o))return o;n=s&&(ut.support.boxSizingReliable||o===t.style[e]),o=parseFloat(o)||0}return o+S(t,e,i||(s?"border":"content"),n,r)+"px"}function D(t){var e=K,i=xe[t];return i||(i=E(t,e),"none"!==i&&i||(ce=(ce||ut("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(e.documentElement),e=(ce[0].contentWindow||ce[0].contentDocument).document,e.write("<!doctype html><html><body>"),e.close(),i=E(t,e),ce.detach()),xe[t]=i),i}function E(t,e){var i=ut(e.createElement(t)).appendTo(e.body),n=ut.css(i[0],"display");return i.remove(),n}function P(t,e,i,n){var o;if(ut.isArray(e))ut.each(e,function(e,o){i||Se.test(t)?n(t,o):P(t+"["+("object"==typeof o?e:"")+"]",o,i,n)});else if(i||"object"!==ut.type(e))n(t,e);else for(o in e)P(t+"["+o+"]",e[o],i,n)}function A(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,o=0,r=e.toLowerCase().match(ht)||[];if(ut.isFunction(i))for(;n=r[o++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function M(t,e,i,n){function o(a){var l;return r[a]=!0,ut.each(t[a]||[],function(t,a){var c=a(e,i,n);return"string"!=typeof c||s||r[c]?s?!(l=c):void 0:(e.dataTypes.unshift(c),o(c),!1)}),l}var r={},s=t===je;return o(e.dataTypes[0])||!r["*"]&&o("*")}function I(t,i){var n,o,r=ut.ajaxSettings.flatOptions||{};for(o in i)i[o]!==e&&((r[o]?t:n||(n={}))[o]=i[o]);return n&&ut.extend(!0,t,n),t}function $(t,i,n){for(var o,r,s,a,l=t.contents,c=t.dataTypes;"*"===c[0];)c.shift(),r===e&&(r=t.mimeType||i.getResponseHeader("Content-Type"));if(r)for(a in l)if(l[a]&&l[a].test(r)){c.unshift(a);break}if(c[0]in n)s=c[0];else{for(a in n){if(!c[0]||t.converters[a+" "+c[0]]){s=a;break}o||(o=a)}s=s||o}return s?(s!==c[0]&&c.unshift(s),n[s]):void 0}function R(t,e,i,n){var o,r,s,a,l,c={},u=t.dataTypes.slice();if(u[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(r=u.shift();r;)if(t.responseFields[r]&&(i[t.responseFields[r]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(s=c[l+" "+r]||c["* "+r],!s)for(o in c)if(a=o.split(" "),a[1]===r&&(s=c[l+" "+a[0]]||c["* "+a[0]])){s===!0?s=c[o]:c[o]!==!0&&(r=a[0],u.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(d){return{state:"parsererror",error:s?d:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}function O(){try{return new t.XMLHttpRequest}catch(e){}}function L(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function F(){return setTimeout(function(){Je=e}),Je=ut.now()}function H(t,e,i){for(var n,o=(oi[e]||[]).concat(oi["*"]),r=0,s=o.length;s>r;r++)if(n=o[r].call(i,e,t))return n}function B(t,e,i){var n,o,r=0,s=ni.length,a=ut.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var e=Je||F(),i=Math.max(0,c.startTime+c.duration-e),n=i/c.duration||0,r=1-n,s=0,l=c.tweens.length;l>s;s++)c.tweens[s].run(r);return a.notifyWith(t,[c,r,i]),1>r&&l?i:(a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:ut.extend({},e),opts:ut.extend(!0,{specialEasing:{}},i),originalProperties:e,originalOptions:i,startTime:Je||F(),duration:i.duration,tweens:[],createTween:function(e,i){var n=ut.Tween(t,c.opts,e,i,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var i=0,n=e?c.tweens.length:0;if(o)return this;for(o=!0;n>i;i++)c.tweens[i].run(1);return e?a.resolveWith(t,[c,e]):a.rejectWith(t,[c,e]),this}}),u=c.props;for(z(u,c.opts.specialEasing);s>r;r++)if(n=ni[r].call(c,t,u,c.opts))return n;return ut.map(u,H,c),ut.isFunction(c.opts.start)&&c.opts.start.call(t,c),ut.fx.timer(ut.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function z(t,e){var i,n,o,r,s;for(i in t)if(n=ut.camelCase(i),o=e[n],r=t[i],ut.isArray(r)&&(o=r[1],r=t[i]=r[0]),i!==n&&(t[n]=r,delete t[i]),s=ut.cssHooks[n],s&&"expand"in s){r=s.expand(r),delete t[n];for(i in r)i in t||(t[i]=r[i],e[i]=o)}else e[n]=o}function W(t,e,i){var n,o,r,s,a,l,c=this,u={},d=t.style,h=t.nodeType&&C(t),f=ut._data(t,"fxshow");i.queue||(a=ut._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,c.always(function(){c.always(function(){a.unqueued--,ut.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===ut.css(t,"display")&&"none"===ut.css(t,"float")&&(ut.support.inlineBlockNeedsLayout&&"inline"!==D(t.nodeName)?d.zoom=1:d.display="inline-block")),i.overflow&&(d.overflow="hidden",ut.support.shrinkWrapBlocks||c.always(function(){d.overflow=i.overflow[0],d.overflowX=i.overflow[1],d.overflowY=i.overflow[2]}));for(n in e)if(o=e[n],ti.exec(o)){if(delete e[n],r=r||"toggle"===o,o===(h?"hide":"show"))continue;u[n]=f&&f[n]||ut.style(t,n)}if(!ut.isEmptyObject(u)){f?"hidden"in f&&(h=f.hidden):f=ut._data(t,"fxshow",{}),r&&(f.hidden=!h),h?ut(t).show():c.done(function(){ut(t).hide()}),c.done(function(){var e;ut._removeData(t,"fxshow");for(e in u)ut.style(t,e,u[e])});for(n in u)s=H(h?f[n]:0,n,c),n in f||(f[n]=s.start,h&&(s.end=s.start,s.start="width"===n||"height"===n?1:0))}}function j(t,e,i,n,o){return new j.prototype.init(t,e,i,n,o)}function V(t,e){var i,n={height:t},o=0;for(e=e?1:0;4>o;o+=2-e)i=Ce[o],n["margin"+i]=n["padding"+i]=t;return e&&(n.opacity=n.width=t),n}function U(t){return ut.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var q,Y,X=typeof e,G=t.location,K=t.document,Q=K.documentElement,J=t.jQuery,Z=t.$,tt={},et=[],it="1.10.0",nt=et.concat,ot=et.push,rt=et.slice,st=et.indexOf,at=tt.toString,lt=tt.hasOwnProperty,ct=it.trim,ut=function(t,e){return new ut.fn.init(t,e,Y)},dt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ht=/\S+/g,ft=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,pt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,mt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,gt=/^[\],:{}\s]*$/,vt=/(?:^|:|,)(?:\s*\[)+/g,yt=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,bt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,xt=/^-ms-/,_t=/-([\da-z])/gi,wt=function(t,e){return e.toUpperCase()},Ct=function(t){(K.addEventListener||"load"===t.type||"complete"===K.readyState)&&(kt(),ut.ready())},kt=function(){K.addEventListener?(K.removeEventListener("DOMContentLoaded",Ct,!1),t.removeEventListener("load",Ct,!1)):(K.detachEvent("onreadystatechange",Ct),t.detachEvent("onload",Ct))};ut.fn=ut.prototype={jquery:it,constructor:ut,init:function(t,i,n){var o,r;if(!t)return this;if("string"==typeof t){if(o="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:pt.exec(t),!o||!o[1]&&i)return!i||i.jquery?(i||n).find(t):this.constructor(i).find(t);if(o[1]){if(i=i instanceof ut?i[0]:i,ut.merge(this,ut.parseHTML(o[1],i&&i.nodeType?i.ownerDocument||i:K,!0)),mt.test(o[1])&&ut.isPlainObject(i))for(o in i)ut.isFunction(this[o])?this[o](i[o]):this.attr(o,i[o]);return this}if(r=K.getElementById(o[2]),r&&r.parentNode){if(r.id!==o[2])return n.find(t);this.length=1,this[0]=r}return this.context=K,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):ut.isFunction(t)?n.ready(t):(t.selector!==e&&(this.selector=t.selector,this.context=t.context),ut.makeArray(t,this))},selector:"",length:0,toArray:function(){return rt.call(this)},get:function(t){return null==t?this.toArray():0>t?this[this.length+t]:this[t]},pushStack:function(t){var e=ut.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return ut.each(this,t,e)},ready:function(t){return ut.ready.promise().done(t),this},slice:function(){return this.pushStack(rt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(0>t?e:0);return this.pushStack(i>=0&&e>i?[this[i]]:[])},map:function(t){return this.pushStack(ut.map(this,function(e,i){return t.call(e,i,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:ot,sort:[].sort,splice:[].splice},ut.fn.init.prototype=ut.fn,ut.extend=ut.fn.extend=function(){var t,i,n,o,r,s,a=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[1]||{},l=2),"object"==typeof a||ut.isFunction(a)||(a={}),c===l&&(a=this,--l);c>l;l++)if(null!=(r=arguments[l]))for(o in r)t=a[o],n=r[o],a!==n&&(u&&n&&(ut.isPlainObject(n)||(i=ut.isArray(n)))?(i?(i=!1,s=t&&ut.isArray(t)?t:[]):s=t&&ut.isPlainObject(t)?t:{},a[o]=ut.extend(u,s,n)):n!==e&&(a[o]=n));return a},ut.extend({expando:"jQuery"+(it+Math.random()).replace(/\D/g,""),noConflict:function(e){return t.$===ut&&(t.$=Z),e&&t.jQuery===ut&&(t.jQuery=J),ut},isReady:!1,readyWait:1,holdReady:function(t){t?ut.readyWait++:ut.ready(!0)},ready:function(t){if(t===!0?!--ut.readyWait:!ut.isReady){if(!K.body)return setTimeout(ut.ready);ut.isReady=!0,t!==!0&&--ut.readyWait>0||(q.resolveWith(K,[ut]),ut.fn.trigger&&ut(K).trigger("ready").off("ready"))}},isFunction:function(t){return"function"===ut.type(t)},isArray:Array.isArray||function(t){return"array"===ut.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?String(t):"object"==typeof t||"function"==typeof t?tt[at.call(t)]||"object":typeof t},isPlainObject:function(t){var i;if(!t||"object"!==ut.type(t)||t.nodeType||ut.isWindow(t))return!1;try{if(t.constructor&&!lt.call(t,"constructor")&&!lt.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(ut.support.ownLast)for(i in t)return lt.call(t,i);for(i in t);return i===e||lt.call(t,i)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},error:function(t){throw new Error(t)},parseHTML:function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||K;var n=mt.exec(t),o=!i&&[];return n?[e.createElement(n[1])]:(n=ut.buildFragment([t],e,o),o&&ut(o).remove(),ut.merge([],n.childNodes))},parseJSON:function(e){return t.JSON&&t.JSON.parse?t.JSON.parse(e):null===e?e:"string"==typeof e&&(e=ut.trim(e),e&&gt.test(e.replace(yt,"@").replace(bt,"]").replace(vt,"")))?new Function("return "+e)():void ut.error("Invalid JSON: "+e)},parseXML:function(i){var n,o;if(!i||"string"!=typeof i)return null;try{t.DOMParser?(o=new DOMParser,n=o.parseFromString(i,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(i))}catch(r){n=e}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||ut.error("Invalid XML: "+i),n},noop:function(){},globalEval:function(e){e&&ut.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(xt,"ms-").replace(_t,wt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var o,r=0,s=t.length,a=i(t);if(n){if(a)for(;s>r&&(o=e.apply(t[r],n),o!==!1);r++);else for(r in t)if(o=e.apply(t[r],n),o===!1)break}else if(a)for(;s>r&&(o=e.call(t[r],r,t[r]),o!==!1);r++);else for(r in t)if(o=e.call(t[r],r,t[r]),o===!1)break;return t},trim:ct&&!ct.call("\ufeff\xa0")?function(t){return null==t?"":ct.call(t)}:function(t){return null==t?"":(t+"").replace(ft,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?ut.merge(n,"string"==typeof t?[t]:t):ot.call(n,t)),n},inArray:function(t,e,i){var n;if(e){if(st)return st.call(e,t,i);for(n=e.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in e&&e[i]===t)return i}return-1},merge:function(t,i){var n=i.length,o=t.length,r=0;if("number"==typeof n)for(;n>r;r++)t[o++]=i[r];else for(;i[r]!==e;)t[o++]=i[r++];return t.length=o,t},grep:function(t,e,i){var n,o=[],r=0,s=t.length;for(i=!!i;s>r;r++)n=!!e(t[r],r),i!==n&&o.push(t[r]);return o},map:function(t,e,n){var o,r=0,s=t.length,a=i(t),l=[];if(a)for(;s>r;r++)o=e(t[r],r,n),null!=o&&(l[l.length]=o);else for(r in t)o=e(t[r],r,n),null!=o&&(l[l.length]=o);return nt.apply([],l)},guid:1,proxy:function(t,i){var n,o,r;return"string"==typeof i&&(r=t[i],i=t,t=r),ut.isFunction(t)?(n=rt.call(arguments,2),o=function(){return t.apply(i||this,n.concat(rt.call(arguments)))},o.guid=t.guid=t.guid||ut.guid++,o):e},access:function(t,i,n,o,r,s,a){var l=0,c=t.length,u=null==n;if("object"===ut.type(n)){r=!0;for(l in n)ut.access(t,i,l,n[l],!0,s,a)}else if(o!==e&&(r=!0,ut.isFunction(o)||(a=!0),u&&(a?(i.call(t,o),i=null):(u=i,i=function(t,e,i){return u.call(ut(t),i)})),i))for(;c>l;l++)i(t[l],n,a?o:o.call(t[l],l,i(t[l],n)));return r?t:u?i.call(t):c?i(t[0],n):s},now:function(){return(new Date).getTime()},swap:function(t,e,i,n){var o,r,s={};for(r in e)s[r]=t.style[r],t.style[r]=e[r];o=i.apply(t,n||[]);for(r in e)t.style[r]=s[r];return o}}),ut.ready.promise=function(e){if(!q)if(q=ut.Deferred(),"complete"===K.readyState)setTimeout(ut.ready);else if(K.addEventListener)K.addEventListener("DOMContentLoaded",Ct,!1),t.addEventListener("load",Ct,!1);else{K.attachEvent("onreadystatechange",Ct),t.attachEvent("onload",Ct);var i=!1;try{i=null==t.frameElement&&K.documentElement}catch(n){}i&&i.doScroll&&!function o(){if(!ut.isReady){try{i.doScroll("left")}catch(t){return setTimeout(o,50)}kt(),ut.ready()}}()}return q.promise(e)},ut.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){tt["[object "+e+"]"]=e.toLowerCase()}),Y=ut(K),/*!
 * Sizzle CSS Selector Engine v1.9.4-pre
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-05-15
 */
function(t,e){function i(t,e,i,n){var o,r,s,a,l,c,u,d,h,f;if((e?e.ownerDocument||e:V)!==O&&R(e),e=e||O,i=i||[],!t||"string"!=typeof t)return i;if(1!==(a=e.nodeType)&&9!==a)return[];if(F&&!n){if(o=Ct.exec(t))if(s=o[1]){if(9===a){if(r=e.getElementById(s),!r||!r.parentNode)return i;if(r.id===s)return i.push(r),i}else if(e.ownerDocument&&(r=e.ownerDocument.getElementById(s))&&W(e,r)&&r.id===s)return i.push(r),i}else{if(o[2])return ot.apply(i,e.getElementsByTagName(t)),i;if((s=o[3])&&N.getElementsByClassName&&e.getElementsByClassName)return ot.apply(i,e.getElementsByClassName(s)),i}if(N.qsa&&(!H||!H.test(t))){if(d=u=j,h=e,f=9===a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(c=m(t),(u=e.getAttribute("id"))?d=u.replace(St,"\\$&"):e.setAttribute("id",d),d="[id='"+d+"'] ",l=c.length;l--;)c[l]=d+g(c[l]);h=vt.test(t)&&e.parentNode||e,f=c.join(",")}if(f)try{return ot.apply(i,h.querySelectorAll(f)),i}catch(p){}finally{u||e.removeAttribute("id")}}}return k(t.replace(pt,"$1"),e,i,n)}function n(t){return wt.test(t+"")}function o(){function t(i,n){return e.push(i+=" ")>E.cacheLength&&delete t[e.shift()],t[i]=n}var e=[];return t}function r(t){return t[j]=!0,t}function s(t){var e=O.createElement("div");try{return!!t(e)}catch(i){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function a(t,e,i){t=t.split("|");for(var n,o=t.length,r=i?null:e;o--;)(n=E.attrHandle[t[o]])&&n!==e||(E.attrHandle[t[o]]=r)}function l(t,e){var i=t.getAttributeNode(e);return i&&i.specified?i.value:t[e]===!0?e.toLowerCase():null}function c(t,e){return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}function u(t){return"input"===t.nodeName.toLowerCase()?t.defaultValue:void 0}function d(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||Z)-(~t.sourceIndex||Z);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function h(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function f(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function p(t){return r(function(e){return e=+e,r(function(i,n){for(var o,r=t([],i.length,e),s=r.length;s--;)i[o=r[s]]&&(i[o]=!(n[o]=i[o]))})})}function m(t,e){var n,o,r,s,a,l,c,u=X[t+" "];if(u)return e?0:u.slice(0);for(a=t,l=[],c=E.preFilter;a;){(!n||(o=mt.exec(a)))&&(o&&(a=a.slice(o[0].length)||a),l.push(r=[])),n=!1,(o=gt.exec(a))&&(n=o.shift(),r.push({value:n,type:o[0].replace(pt," ")}),a=a.slice(n.length));for(s in E.filter)!(o=_t[s].exec(a))||c[s]&&!(o=c[s](o))||(n=o.shift(),r.push({value:n,type:s,matches:o}),a=a.slice(n.length));if(!n)break}return e?a.length:a?i.error(t):X(t,l).slice(0)}function g(t){for(var e=0,i=t.length,n="";i>e;e++)n+=t[e].value;return n}function v(t,e,i){var n=e.dir,o=i&&"parentNode"===n,r=q++;return e.first?function(e,i,r){for(;e=e[n];)if(1===e.nodeType||o)return t(e,i,r)}:function(e,i,s){var a,l,c,u=U+" "+r;if(s){for(;e=e[n];)if((1===e.nodeType||o)&&t(e,i,s))return!0}else for(;e=e[n];)if(1===e.nodeType||o)if(c=e[j]||(e[j]={}),(l=c[n])&&l[0]===u){if((a=l[1])===!0||a===D)return a===!0}else if(l=c[n]=[u],l[1]=t(e,i,s)||D,l[1]===!0)return!0}}function y(t){return t.length>1?function(e,i,n){for(var o=t.length;o--;)if(!t[o](e,i,n))return!1;return!0}:t[0]}function b(t,e,i,n,o){for(var r,s=[],a=0,l=t.length,c=null!=e;l>a;a++)(r=t[a])&&(!i||i(r,n,o))&&(s.push(r),c&&e.push(a));return s}function x(t,e,i,n,o,s){return n&&!n[j]&&(n=x(n)),o&&!o[j]&&(o=x(o,s)),r(function(r,s,a,l){var c,u,d,h=[],f=[],p=s.length,m=r||C(e||"*",a.nodeType?[a]:a,[]),g=!t||!r&&e?m:b(m,h,t,a,l),v=i?o||(r?t:p||n)?[]:s:g;if(i&&i(g,v,a,l),n)for(c=b(v,f),n(c,[],a,l),u=c.length;u--;)(d=c[u])&&(v[f[u]]=!(g[f[u]]=d));if(r){if(o||t){if(o){for(c=[],u=v.length;u--;)(d=v[u])&&c.push(g[u]=d);o(null,v=[],c,l)}for(u=v.length;u--;)(d=v[u])&&(c=o?st.call(r,d):h[u])>-1&&(r[c]=!(s[c]=d))}}else v=b(v===s?v.splice(p,v.length):v),o?o(null,s,v,l):ot.apply(s,v)})}function _(t){for(var e,i,n,o=t.length,r=E.relative[t[0].type],s=r||E.relative[" "],a=r?1:0,l=v(function(t){return t===e},s,!0),c=v(function(t){return st.call(e,t)>-1},s,!0),u=[function(t,i,n){return!r&&(n||i!==I)||((e=i).nodeType?l(t,i,n):c(t,i,n))}];o>a;a++)if(i=E.relative[t[a].type])u=[v(y(u),i)];else{if(i=E.filter[t[a].type].apply(null,t[a].matches),i[j]){for(n=++a;o>n&&!E.relative[t[n].type];n++);return x(a>1&&y(u),a>1&&g(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(pt,"$1"),i,n>a&&_(t.slice(a,n)),o>n&&_(t=t.slice(n)),o>n&&g(t))}u.push(i)}return y(u)}function w(t,e){var n=0,o=e.length>0,s=t.length>0,a=function(r,a,l,c,u){var d,h,f,p=[],m=0,g="0",v=r&&[],y=null!=u,x=I,_=r||s&&E.find.TAG("*",u&&a.parentNode||a),w=U+=null==x?1:Math.random()||.1;for(y&&(I=a!==O&&a,D=n);null!=(d=_[g]);g++){if(s&&d){for(h=0;f=t[h++];)if(f(d,a,l)){c.push(d);break}y&&(U=w,D=++n)}o&&((d=!f&&d)&&m--,r&&v.push(d))}if(m+=g,o&&g!==m){for(h=0;f=e[h++];)f(v,p,a,l);if(r){if(m>0)for(;g--;)v[g]||p[g]||(p[g]=it.call(c));p=b(p)}ot.apply(c,p),y&&!r&&p.length>0&&m+e.length>1&&i.uniqueSort(c)}return y&&(U=w,I=x),v};return o?r(a):a}function C(t,e,n){for(var o=0,r=e.length;r>o;o++)i(t,e[o],n);return n}function k(t,e,i,n){var o,r,s,a,l,c=m(t);if(!n&&1===c.length){if(r=c[0]=c[0].slice(0),r.length>2&&"ID"===(s=r[0]).type&&N.getById&&9===e.nodeType&&F&&E.relative[r[1].type]){if(e=(E.find.ID(s.matches[0].replace(Nt,Dt),e)||[])[0],!e)return i;t=t.slice(r.shift().value.length)}for(o=_t.needsContext.test(t)?0:r.length;o--&&(s=r[o],!E.relative[a=s.type]);)if((l=E.find[a])&&(n=l(s.matches[0].replace(Nt,Dt),vt.test(r[0].type)&&e.parentNode||e))){if(r.splice(o,1),t=n.length&&g(r),!t)return ot.apply(i,n),i;break}}return M(t,c)(n,e,!F,i,vt.test(t)),i}function T(){}var S,N,D,E,P,A,M,I,$,R,O,L,F,H,B,z,W,j="sizzle"+-new Date,V=t.document,U=0,q=0,Y=o(),X=o(),G=o(),K=!1,Q=function(){return 0},J=typeof e,Z=1<<31,tt={}.hasOwnProperty,et=[],it=et.pop,nt=et.push,ot=et.push,rt=et.slice,st=et.indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(this[e]===t)return e;return-1},at="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",lt="[\\x20\\t\\r\\n\\f]",ct="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",dt=ct.replace("w","w#"),ht="\\["+lt+"*("+ct+")"+lt+"*(?:([*^$|!~]?=)"+lt+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+dt+")|)|)"+lt+"*\\]",ft=":("+ct+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ht.replace(3,8)+")*)|.*)\\)|)",pt=new RegExp("^"+lt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+lt+"+$","g"),mt=new RegExp("^"+lt+"*,"+lt+"*"),gt=new RegExp("^"+lt+"*([>+~]|"+lt+")"+lt+"*"),vt=new RegExp(lt+"*[+~]"),yt=new RegExp("="+lt+"*([^\\]'\"]*)"+lt+"*\\]","g"),bt=new RegExp(ft),xt=new RegExp("^"+dt+"$"),_t={ID:new RegExp("^#("+ct+")"),CLASS:new RegExp("^\\.("+ct+")"),TAG:new RegExp("^("+ct.replace("w","w*")+")"),ATTR:new RegExp("^"+ht),PSEUDO:new RegExp("^"+ft),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+lt+"*(even|odd|(([+-]|)(\\d*)n|)"+lt+"*(?:([+-]|)"+lt+"*(\\d+)|))"+lt+"*\\)|)","i"),bool:new RegExp("^(?:"+at+")$","i"),needsContext:new RegExp("^"+lt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+lt+"*((?:-\\d)?\\d*)"+lt+"*\\)|)(?=[^-]|$)","i")},wt=/^[^{]+\{\s*\[native \w/,Ct=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,kt=/^(?:input|select|textarea|button)$/i,Tt=/^h\d$/i,St=/'|\\/g,Nt=new RegExp("\\\\([\\da-f]{1,6}"+lt+"?|("+lt+")|.)","ig"),Dt=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{ot.apply(et=rt.call(V.childNodes),V.childNodes),et[V.childNodes.length].nodeType}catch(Et){ot={apply:et.length?function(t,e){nt.apply(t,rt.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}A=i.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},N=i.support={},R=i.setDocument=function(t){var e=t?t.ownerDocument||t:V;return e!==O&&9===e.nodeType&&e.documentElement?(O=e,L=e.documentElement,F=!A(e),N.attributes=s(function(t){return t.innerHTML="<a href='#'></a>",a("type|href|height|width",c,"#"===t.firstChild.getAttribute("href")),a(at,l,null==t.getAttribute("disabled")),t.className="i",!t.getAttribute("className")}),N.input=s(function(t){return t.innerHTML="<input>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}),a("value",u,N.attributes&&N.input),N.getElementsByTagName=s(function(t){return t.appendChild(e.createComment("")),!t.getElementsByTagName("*").length}),N.getElementsByClassName=s(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),N.getById=s(function(t){return L.appendChild(t).id=j,!e.getElementsByName||!e.getElementsByName(j).length}),N.getById?(E.find.ID=function(t,e){if(typeof e.getElementById!==J&&F){var i=e.getElementById(t);return i&&i.parentNode?[i]:[]}},E.filter.ID=function(t){var e=t.replace(Nt,Dt);return function(t){return t.getAttribute("id")===e}}):(delete E.find.ID,E.filter.ID=function(t){var e=t.replace(Nt,Dt);return function(t){var i=typeof t.getAttributeNode!==J&&t.getAttributeNode("id");return i&&i.value===e}}),E.find.TAG=N.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==J?e.getElementsByTagName(t):void 0}:function(t,e){var i,n=[],o=0,r=e.getElementsByTagName(t);if("*"===t){for(;i=r[o++];)1===i.nodeType&&n.push(i);return n}return r},E.find.CLASS=N.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==J&&F?e.getElementsByClassName(t):void 0},B=[],H=[],(N.qsa=n(e.querySelectorAll))&&(s(function(t){t.innerHTML="<select><option selected=''></option></select>",t.querySelectorAll("[selected]").length||H.push("\\["+lt+"*(?:value|"+at+")"),t.querySelectorAll(":checked").length||H.push(":checked")}),s(function(t){var i=e.createElement("input");i.setAttribute("type","hidden"),t.appendChild(i).setAttribute("t",""),t.querySelectorAll("[t^='']").length&&H.push("[*^$]="+lt+"*(?:''|\"\")"),t.querySelectorAll(":enabled").length||H.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),H.push(",.*:")})),(N.matchesSelector=n(z=L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&s(function(t){N.disconnectedMatch=z.call(t,"div"),z.call(t,"[s!='']:x"),B.push("!=",ft)}),H=H.length&&new RegExp(H.join("|")),B=B.length&&new RegExp(B.join("|")),W=n(L.contains)||L.compareDocumentPosition?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},N.sortDetached=s(function(t){return 1&t.compareDocumentPosition(e.createElement("div"))}),Q=L.compareDocumentPosition?function(t,i){if(t===i)return K=!0,0;var n=i.compareDocumentPosition&&t.compareDocumentPosition&&t.compareDocumentPosition(i);return n?1&n||!N.sortDetached&&i.compareDocumentPosition(t)===n?t===e||W(V,t)?-1:i===e||W(V,i)?1:$?st.call($,t)-st.call($,i):0:4&n?-1:1:t.compareDocumentPosition?-1:1}:function(t,i){var n,o=0,r=t.parentNode,s=i.parentNode,a=[t],l=[i];if(t===i)return K=!0,0;if(!r||!s)return t===e?-1:i===e?1:r?-1:s?1:$?st.call($,t)-st.call($,i):0;if(r===s)return d(t,i);for(n=t;n=n.parentNode;)a.unshift(n);for(n=i;n=n.parentNode;)l.unshift(n);for(;a[o]===l[o];)o++;return o?d(a[o],l[o]):a[o]===V?-1:l[o]===V?1:0},e):O},i.matches=function(t,e){return i(t,null,null,e)},i.matchesSelector=function(t,e){if((t.ownerDocument||t)!==O&&R(t),e=e.replace(yt,"='$1']"),N.matchesSelector&&F&&(!B||!B.test(e))&&(!H||!H.test(e)))try{var n=z.call(t,e);if(n||N.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(o){}return i(e,O,null,[t]).length>0},i.contains=function(t,e){return(t.ownerDocument||t)!==O&&R(t),W(t,e)},i.attr=function(t,i){(t.ownerDocument||t)!==O&&R(t);var n=E.attrHandle[i.toLowerCase()],o=n&&tt.call(E.attrHandle,i.toLowerCase())?n(t,i,!F):e;return o===e?N.attributes||!F?t.getAttribute(i):(o=t.getAttributeNode(i))&&o.specified?o.value:null:o},i.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},i.uniqueSort=function(t){var e,i=[],n=0,o=0;if(K=!N.detectDuplicates,$=!N.sortStable&&t.slice(0),t.sort(Q),K){for(;e=t[o++];)e===t[o]&&(n=i.push(o));for(;n--;)t.splice(i[n],1)}return t},P=i.getText=function(t){var e,i="",n=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=P(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[n];n++)i+=P(e);return i},E=i.selectors={cacheLength:50,createPseudo:r,match:_t,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Nt,Dt),t[3]=(t[4]||t[5]||"").replace(Nt,Dt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||i.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&i.error(t[0]),t},PSEUDO:function(t){var i,n=!t[5]&&t[2];return _t.CHILD.test(t[0])?null:(t[3]&&t[4]!==e?t[2]=t[4]:n&&bt.test(n)&&(i=m(n,!0))&&(i=n.indexOf(")",n.length-i)-n.length)&&(t[0]=t[0].slice(0,i),t[2]=n.slice(0,i)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Nt,Dt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=Y[t+" "];return e||(e=new RegExp("(^|"+lt+")"+t+"("+lt+"|$)"))&&Y(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==J&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(o){var r=i.attr(o,t);return null==r?"!="===e:e?(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r+" ").indexOf(n)>-1:"|="===e?r===n||r.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(t,e,i,n,o){var r="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===o?function(t){return!!t.parentNode}:function(e,i,l){var c,u,d,h,f,p,m=r!==s?"nextSibling":"previousSibling",g=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a;if(g){if(r){for(;m;){for(d=e;d=d[m];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?g.firstChild:g.lastChild],s&&y){for(u=g[j]||(g[j]={}),c=u[t]||[],f=c[0]===U&&c[1],h=c[0]===U&&c[2],d=f&&g.childNodes[f];d=++f&&d&&d[m]||(h=f=0)||p.pop();)if(1===d.nodeType&&++h&&d===e){u[t]=[U,f,h];break}}else if(y&&(c=(e[j]||(e[j]={}))[t])&&c[0]===U)h=c[1];else for(;(d=++f&&d&&d[m]||(h=f=0)||p.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++h||(y&&((d[j]||(d[j]={}))[t]=[U,h]),d!==e)););return h-=o,h===n||h%n===0&&h/n>=0}}},PSEUDO:function(t,e){var n,o=E.pseudos[t]||E.setFilters[t.toLowerCase()]||i.error("unsupported pseudo: "+t);return o[j]?o(e):o.length>1?(n=[t,t,"",e],E.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,i){for(var n,r=o(t,e),s=r.length;s--;)n=st.call(t,r[s]),t[n]=!(i[n]=r[s])}):function(t){return o(t,0,n)}):o}},pseudos:{not:r(function(t){var e=[],i=[],n=M(t.replace(pt,"$1"));return n[j]?r(function(t,e,i,o){for(var r,s=n(t,null,o,[]),a=t.length;a--;)(r=s[a])&&(t[a]=!(e[a]=r))}):function(t,o,r){return e[0]=t,n(e,null,r,i),!i.pop()}}),has:r(function(t){return function(e){return i(t,e).length>0}}),contains:r(function(t){return function(e){return(e.textContent||e.innerText||P(e)).indexOf(t)>-1}}),lang:r(function(t){return xt.test(t||"")||i.error("unsupported lang: "+t),t=t.replace(Nt,Dt).toLowerCase(),function(e){var i;do if(i=F?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return i=i.toLowerCase(),i===t||0===i.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===L},focus:function(t){return t===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeName>"@"||3===t.nodeType||4===t.nodeType)return!1;return!0},parent:function(t){return!E.pseudos.empty(t)},header:function(t){return Tt.test(t.nodeName)},input:function(t){return kt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||e.toLowerCase()===t.type)},first:p(function(){return[0]}),last:p(function(t,e){return[e-1]}),eq:p(function(t,e,i){return[0>i?i+e:i]}),even:p(function(t,e){for(var i=0;e>i;i+=2)t.push(i);return t}),odd:p(function(t,e){for(var i=1;e>i;i+=2)t.push(i);return t}),lt:p(function(t,e,i){for(var n=0>i?i+e:i;--n>=0;)t.push(n);return t}),gt:p(function(t,e,i){for(var n=0>i?i+e:i;++n<e;)t.push(n);return t})}};for(S in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})E.pseudos[S]=h(S);for(S in{submit:!0,reset:!0})E.pseudos[S]=f(S);M=i.compile=function(t,e){var i,n=[],o=[],r=G[t+" "];if(!r){for(e||(e=m(t)),i=e.length;i--;)r=_(e[i]),r[j]?n.push(r):o.push(r);r=G(t,w(o,n))}return r},E.pseudos.nth=E.pseudos.eq,T.prototype=E.filters=E.pseudos,E.setFilters=new T,N.sortStable=j.split("").sort(Q).join("")===j,R(),[0,0].sort(Q),N.detectDuplicates=K,ut.find=i,ut.expr=i.selectors,ut.expr[":"]=ut.expr.pseudos,ut.unique=i.uniqueSort,ut.text=i.getText,ut.isXMLDoc=i.isXML,ut.contains=i.contains}(t);var Tt={};ut.Callbacks=function(t){t="string"==typeof t?Tt[t]||n(t):ut.extend({},t);var i,o,r,s,a,l,c=[],u=!t.once&&[],d=function(e){for(o=t.memory&&e,r=!0,a=l||0,l=0,s=c.length,i=!0;c&&s>a;a++)if(c[a].apply(e[0],e[1])===!1&&t.stopOnFalse){o=!1;break}i=!1,c&&(u?u.length&&d(u.shift()):o?c=[]:h.disable())},h={add:function(){if(c){var e=c.length;!function n(e){ut.each(e,function(e,i){var o=ut.type(i);"function"===o?t.unique&&h.has(i)||c.push(i):i&&i.length&&"string"!==o&&n(i)})}(arguments),i?s=c.length:o&&(l=e,d(o))}return this},remove:function(){return c&&ut.each(arguments,function(t,e){for(var n;(n=ut.inArray(e,c,n))>-1;)c.splice(n,1),i&&(s>=n&&s--,a>=n&&a--)}),this},has:function(t){return t?ut.inArray(t,c)>-1:!(!c||!c.length)},empty:function(){return c=[],s=0,this},disable:function(){return c=u=o=e,this},disabled:function(){return!c},lock:function(){return u=e,o||h.disable(),this},locked:function(){return!u},fireWith:function(t,e){return e=e||[],e=[t,e.slice?e.slice():e],!c||r&&!u||(i?u.push(e):d(e)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!r}};return h},ut.extend({Deferred:function(t){var e=[["resolve","done",ut.Callbacks("once memory"),"resolved"],["reject","fail",ut.Callbacks("once memory"),"rejected"],["notify","progress",ut.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var t=arguments;return ut.Deferred(function(i){ut.each(e,function(e,r){var s=r[0],a=ut.isFunction(t[e])&&t[e];o[r[1]](function(){var t=a&&a.apply(this,arguments);t&&ut.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[s+"With"](this===n?i.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?ut.extend(t,n):n}},o={};return n.pipe=n.then,ut.each(e,function(t,r){var s=r[2],a=r[3];n[r[1]]=s.add,a&&s.add(function(){i=a},e[1^t][2].disable,e[2][2].lock),o[r[0]]=function(){return o[r[0]+"With"](this===o?n:this,arguments),this},o[r[0]+"With"]=s.fireWith}),n.promise(o),t&&t.call(o,o),o},when:function(t){var e,i,n,o=0,r=rt.call(arguments),s=r.length,a=1!==s||t&&ut.isFunction(t.promise)?s:0,l=1===a?t:ut.Deferred(),c=function(t,i,n){return function(o){i[t]=this,n[t]=arguments.length>1?rt.call(arguments):o,n===e?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(s>1)for(e=new Array(s),i=new Array(s),n=new Array(s);s>o;o++)r[o]&&ut.isFunction(r[o].promise)?r[o].promise().done(c(o,n,r)).fail(l.reject).progress(c(o,i,e)):--a;return a||l.resolveWith(n,r),l.promise()}}),ut.support=function(e){var i,n,o,r,s,a,l,c,u,d=K.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=d.getElementsByTagName("*")||[],n=d.getElementsByTagName("a")[0],!n||!n.style||!i.length)return e;r=K.createElement("select"),a=r.appendChild(K.createElement("option")),o=d.getElementsByTagName("input")[0],n.style.cssText="top:1px;float:left;opacity:.5",e.getSetAttribute="t"!==d.className,e.leadingWhitespace=3===d.firstChild.nodeType,e.tbody=!d.getElementsByTagName("tbody").length,e.htmlSerialize=!!d.getElementsByTagName("link").length,e.style=/top/.test(n.getAttribute("style")),e.hrefNormalized="/a"===n.getAttribute("href"),e.opacity=/^0.5/.test(n.style.opacity),e.cssFloat=!!n.style.cssFloat,e.checkOn=!!o.value,e.optSelected=a.selected,e.enctype=!!K.createElement("form").enctype,e.html5Clone="<:nav></:nav>"!==K.createElement("nav").cloneNode(!0).outerHTML,e.inlineBlockNeedsLayout=!1,e.shrinkWrapBlocks=!1,e.pixelPosition=!1,e.deleteExpando=!0,e.noCloneEvent=!0,e.reliableMarginRight=!0,e.boxSizingReliable=!0,o.checked=!0,e.noCloneChecked=o.cloneNode(!0).checked,r.disabled=!0,e.optDisabled=!a.disabled;try{delete d.test}catch(h){e.deleteExpando=!1}o=K.createElement("input"),o.setAttribute("value",""),e.input=""===o.getAttribute("value"),o.value="t",o.setAttribute("type","radio"),e.radioValue="t"===o.value,o.setAttribute("checked","t"),o.setAttribute("name","t"),s=K.createDocumentFragment(),s.appendChild(o),e.appendChecked=o.checked,e.checkClone=s.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){e.noCloneEvent=!1}),d.cloneNode(!0).click());for(u in{submit:!0,change:!0,focusin:!0})d.setAttribute(l="on"+u,"t"),e[u+"Bubbles"]=l in t||d.attributes[l].expando===!1;d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",e.clearCloneStyle="content-box"===d.style.backgroundClip;for(u in ut(e))break;return e.ownLast="0"!==u,ut(function(){var i,n,o,r="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",s=K.getElementsByTagName("body")[0];s&&(i=K.createElement("div"),i.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",s.appendChild(i).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=d.getElementsByTagName("td"),o[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===o[0].offsetHeight,o[0].style.display="",o[1].style.display="none",e.reliableHiddenOffsets=c&&0===o[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",ut.swap(s,null!=s.style.zoom?{zoom:1}:{},function(){e.boxSizing=4===d.offsetWidth}),t.getComputedStyle&&(e.pixelPosition="1%"!==(t.getComputedStyle(d,null)||{}).top,e.boxSizingReliable="4px"===(t.getComputedStyle(d,null)||{width:"4px"}).width,n=d.appendChild(K.createElement("div")),n.style.cssText=d.style.cssText=r,n.style.marginRight=n.style.width="0",d.style.width="1px",e.reliableMarginRight=!parseFloat((t.getComputedStyle(n,null)||{}).marginRight)),typeof d.style.zoom!==X&&(d.innerHTML="",d.style.cssText=r+"width:1px;padding:1px;display:inline;zoom:1",e.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",e.shrinkWrapBlocks=3!==d.offsetWidth,e.inlineBlockNeedsLayout&&(s.style.zoom=1)),s.removeChild(i),i=d=o=n=null)}),i=r=s=a=n=o=null,e}({});var St=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Nt=/([A-Z])/g;ut.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return t=t.nodeType?ut.cache[t[ut.expando]]:t[ut.expando],!!t&&!a(t)},data:function(t,e,i){return o(t,e,i)},removeData:function(t,e){return r(t,e)},_data:function(t,e,i){return o(t,e,i,!0)},_removeData:function(t,e){return r(t,e,!0)},acceptData:function(t){if(t.nodeType&&1!==t.nodeType&&9!==t.nodeType)return!1;var e=t.nodeName&&ut.noData[t.nodeName.toLowerCase()];return!e||e!==!0&&t.getAttribute("classid")===e}}),ut.fn.extend({data:function(t,i){var n,o,r=null,a=0,l=this[0];if(t===e){if(this.length&&(r=ut.data(l),1===l.nodeType&&!ut._data(l,"parsedAttrs"))){for(n=l.attributes;a<n.length;a++)o=n[a].name,0===o.indexOf("data-")&&(o=ut.camelCase(o.slice(5)),s(l,o,r[o]));ut._data(l,"parsedAttrs",!0)}return r}return"object"==typeof t?this.each(function(){ut.data(this,t)}):arguments.length>1?this.each(function(){ut.data(this,t,i)}):l?s(l,t,ut.data(l,t)):null},removeData:function(t){return this.each(function(){ut.removeData(this,t)})}}),ut.extend({queue:function(t,e,i){var n;return t?(e=(e||"fx")+"queue",n=ut._data(t,e),i&&(!n||ut.isArray(i)?n=ut._data(t,e,ut.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(t,e){e=e||"fx";var i=ut.queue(t,e),n=i.length,o=i.shift(),r=ut._queueHooks(t,e),s=function(){ut.dequeue(t,e)};"inprogress"===o&&(o=i.shift(),n--),r.cur=o,o&&("fx"===e&&i.unshift("inprogress"),delete r.stop,o.call(t,s,r)),!n&&r&&r.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return ut._data(t,i)||ut._data(t,i,{empty:ut.Callbacks("once memory").add(function(){ut._removeData(t,e+"queue"),ut._removeData(t,i)})})}}),ut.fn.extend({queue:function(t,i){var n=2;return"string"!=typeof t&&(i=t,t="fx",n--),arguments.length<n?ut.queue(this[0],t):i===e?this:this.each(function(){var e=ut.queue(this,t,i);ut._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&ut.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ut.dequeue(this,t)})},delay:function(t,e){return t=ut.fx?ut.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var n=setTimeout(e,t);i.stop=function(){clearTimeout(n)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,i){var n,o=1,r=ut.Deferred(),s=this,a=this.length,l=function(){--o||r.resolveWith(s,[s])};for("string"!=typeof t&&(i=t,t=e),t=t||"fx";a--;)n=ut._data(s[a],t+"queueHooks"),n&&n.empty&&(o++,n.empty.add(l));return l(),r.promise(i)}});var Dt,Et,Pt=/[\t\r\n\f]/g,At=/\r/g,Mt=/^(?:input|select|textarea|button|object)$/i,It=/^(?:a|area)$/i,$t=/^(?:checked|selected)$/i,Rt=ut.support.getSetAttribute,Ot=ut.support.input;ut.fn.extend({attr:function(t,e){return ut.access(this,ut.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ut.removeAttr(this,t)})},prop:function(t,e){return ut.access(this,ut.prop,t,e,arguments.length>1)},removeProp:function(t){return t=ut.propFix[t]||t,this.each(function(){try{this[t]=e,delete this[t]}catch(i){}})},addClass:function(t){var e,i,n,o,r,s=0,a=this.length,l="string"==typeof t&&t;if(ut.isFunction(t))return this.each(function(e){ut(this).addClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(ht)||[];a>s;s++)if(i=this[s],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Pt," "):" ")){for(r=0;o=e[r++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");i.className=ut.trim(n)}return this},removeClass:function(t){var e,i,n,o,r,s=0,a=this.length,l=0===arguments.length||"string"==typeof t&&t;if(ut.isFunction(t))return this.each(function(e){ut(this).removeClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(ht)||[];a>s;s++)if(i=this[s],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Pt," "):"")){for(r=0;o=e[r++];)for(;n.indexOf(" "+o+" ")>=0;)n=n.replace(" "+o+" "," ");i.className=t?ut.trim(n):""}return this},toggleClass:function(t,e){var i=typeof t,n="boolean"==typeof e;return ut.isFunction(t)?this.each(function(i){ut(this).toggleClass(t.call(this,i,this.className,e),e)}):this.each(function(){if("string"===i)for(var o,r=0,s=ut(this),a=e,l=t.match(ht)||[];o=l[r++];)a=n?a:!s.hasClass(o),s[a?"addClass":"removeClass"](o);else(i===X||"boolean"===i)&&(this.className&&ut._data(this,"__className__",this.className),this.className=this.className||t===!1?"":ut._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(Pt," ").indexOf(e)>=0)return!0;return!1},val:function(t){var i,n,o,r=this[0];{if(arguments.length)return o=ut.isFunction(t),this.each(function(i){var r;1===this.nodeType&&(r=o?t.call(this,i,ut(this).val()):t,null==r?r="":"number"==typeof r?r+="":ut.isArray(r)&&(r=ut.map(r,function(t){return null==t?"":t+""})),n=ut.valHooks[this.type]||ut.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,r,"value")!==e||(this.value=r))});if(r)return n=ut.valHooks[r.type]||ut.valHooks[r.nodeName.toLowerCase()],n&&"get"in n&&(i=n.get(r,"value"))!==e?i:(i=r.value,"string"==typeof i?i.replace(At,""):null==i?"":i)}}}),ut.extend({valHooks:{option:{get:function(t){var e=ut.find.attr(t,"value");return null!=e?e:t.text}},select:{get:function(t){for(var e,i,n=t.options,o=t.selectedIndex,r="select-one"===t.type||0>o,s=r?null:[],a=r?o+1:n.length,l=0>o?a:r?o:0;a>l;l++)if(i=n[l],(i.selected||l===o)&&(ut.support.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!ut.nodeName(i.parentNode,"optgroup"))){if(e=ut(i).val(),r)return e;s.push(e)}return s},set:function(t,e){for(var i,n,o=t.options,r=ut.makeArray(e),s=o.length;s--;)n=o[s],(n.selected=ut.inArray(ut(n).val(),r)>=0)&&(i=!0);return i||(t.selectedIndex=-1),r}}},attr:function(t,i,n){var o,r,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return typeof t.getAttribute===X?ut.prop(t,i,n):(1===s&&ut.isXMLDoc(t)||(i=i.toLowerCase(),o=ut.attrHooks[i]||(ut.expr.match.bool.test(i)?Et:Dt)),n===e?o&&"get"in o&&null!==(r=o.get(t,i))?r:(r=ut.find.attr(t,i),null==r?e:r):null!==n?o&&"set"in o&&(r=o.set(t,n,i))!==e?r:(t.setAttribute(i,n+""),n):void ut.removeAttr(t,i))},removeAttr:function(t,e){var i,n,o=0,r=e&&e.match(ht);if(r&&1===t.nodeType)for(;i=r[o++];)n=ut.propFix[i]||i,ut.expr.match.bool.test(i)?Ot&&Rt||!$t.test(i)?t[n]=!1:t[ut.camelCase("default-"+i)]=t[n]=!1:ut.attr(t,i,""),t.removeAttribute(Rt?i:n)},attrHooks:{type:{set:function(t,e){if(!ut.support.radioValue&&"radio"===e&&ut.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(t,i,n){var o,r,s,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return s=1!==a||!ut.isXMLDoc(t),s&&(i=ut.propFix[i]||i,r=ut.propHooks[i]),n!==e?r&&"set"in r&&(o=r.set(t,n,i))!==e?o:t[i]=n:r&&"get"in r&&null!==(o=r.get(t,i))?o:t[i]},propHooks:{tabIndex:{get:function(t){var e=ut.find.attr(t,"tabindex");return e?parseInt(e,10):Mt.test(t.nodeName)||It.test(t.nodeName)&&t.href?0:-1}}}}),Et={set:function(t,e,i){return e===!1?ut.removeAttr(t,i):Ot&&Rt||!$t.test(i)?t.setAttribute(!Rt&&ut.propFix[i]||i,i):t[ut.camelCase("default-"+i)]=t[i]=!0,i}},ut.each(ut.expr.match.bool.source.match(/\w+/g),function(t,i){var n=ut.expr.attrHandle[i]||ut.find.attr;ut.expr.attrHandle[i]=Ot&&Rt||!$t.test(i)?function(t,i,o){var r=ut.expr.attrHandle[i],s=o?e:(ut.expr.attrHandle[i]=e)!=n(t,i,o)?i.toLowerCase():null;return ut.expr.attrHandle[i]=r,s}:function(t,i,n){return n?e:t[ut.camelCase("default-"+i)]?i.toLowerCase():null}}),Ot&&Rt||(ut.attrHooks.value={set:function(t,e,i){return ut.nodeName(t,"input")?void(t.defaultValue=e):Dt&&Dt.set(t,e,i)}}),Rt||(Dt={set:function(t,i,n){var o=t.getAttributeNode(n);return o||t.setAttributeNode(o=t.ownerDocument.createAttribute(n)),o.value=i+="","value"===n||i===t.getAttribute(n)?i:e}},ut.expr.attrHandle.id=ut.expr.attrHandle.name=ut.expr.attrHandle.coords=function(t,i,n){var o;return n?e:(o=t.getAttributeNode(i))&&""!==o.value?o.value:null},ut.valHooks.button={get:function(t,i){var n=t.getAttributeNode(i);return n&&n.specified?n.value:e},set:Dt.set},ut.attrHooks.contenteditable={set:function(t,e,i){Dt.set(t,""===e?!1:e,i)}},ut.each(["width","height"],function(t,e){ut.attrHooks[e]={set:function(t,i){return""===i?(t.setAttribute(e,"auto"),i):void 0}}})),ut.support.hrefNormalized||ut.each(["href","src"],function(t,e){ut.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),ut.support.style||(ut.attrHooks.style={get:function(t){return t.style.cssText||e},set:function(t,e){return t.style.cssText=e+""}}),ut.support.optSelected||(ut.propHooks.selected={get:function(t){var e=t.parentNode;
return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),ut.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ut.propFix[this.toLowerCase()]=this}),ut.support.enctype||(ut.propFix.enctype="encoding"),ut.each(["radio","checkbox"],function(){ut.valHooks[this]={set:function(t,e){return ut.isArray(e)?t.checked=ut.inArray(ut(t).val(),e)>=0:void 0}},ut.support.checkOn||(ut.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Lt=/^(?:input|select|textarea)$/i,Ft=/^key/,Ht=/^(?:mouse|contextmenu)|click/,Bt=/^(?:focusinfocus|focusoutblur)$/,zt=/^([^.]*)(?:\.(.+)|)$/;ut.event={global:{},add:function(t,i,n,o,r){var s,a,l,c,u,d,h,f,p,m,g,v=ut._data(t);if(v){for(n.handler&&(c=n,n=c.handler,r=c.selector),n.guid||(n.guid=ut.guid++),(a=v.events)||(a=v.events={}),(d=v.handle)||(d=v.handle=function(t){return typeof ut===X||t&&ut.event.triggered===t.type?e:ut.event.dispatch.apply(d.elem,arguments)},d.elem=t),i=(i||"").match(ht)||[""],l=i.length;l--;)s=zt.exec(i[l])||[],p=g=s[1],m=(s[2]||"").split(".").sort(),p&&(u=ut.event.special[p]||{},p=(r?u.delegateType:u.bindType)||p,u=ut.event.special[p]||{},h=ut.extend({type:p,origType:g,data:o,handler:n,guid:n.guid,selector:r,needsContext:r&&ut.expr.match.needsContext.test(r),namespace:m.join(".")},c),(f=a[p])||(f=a[p]=[],f.delegateCount=0,u.setup&&u.setup.call(t,o,m,d)!==!1||(t.addEventListener?t.addEventListener(p,d,!1):t.attachEvent&&t.attachEvent("on"+p,d))),u.add&&(u.add.call(t,h),h.handler.guid||(h.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,h):f.push(h),ut.event.global[p]=!0);t=null}},remove:function(t,e,i,n,o){var r,s,a,l,c,u,d,h,f,p,m,g=ut.hasData(t)&&ut._data(t);if(g&&(u=g.events)){for(e=(e||"").match(ht)||[""],c=e.length;c--;)if(a=zt.exec(e[c])||[],f=m=a[1],p=(a[2]||"").split(".").sort(),f){for(d=ut.event.special[f]||{},f=(n?d.delegateType:d.bindType)||f,h=u[f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=h.length;r--;)s=h[r],!o&&m!==s.origType||i&&i.guid!==s.guid||a&&!a.test(s.namespace)||n&&n!==s.selector&&("**"!==n||!s.selector)||(h.splice(r,1),s.selector&&h.delegateCount--,d.remove&&d.remove.call(t,s));l&&!h.length&&(d.teardown&&d.teardown.call(t,p,g.handle)!==!1||ut.removeEvent(t,f,g.handle),delete u[f])}else for(f in u)ut.event.remove(t,f+e[c],i,n,!0);ut.isEmptyObject(u)&&(delete g.handle,ut._removeData(t,"events"))}},trigger:function(i,n,o,r){var s,a,l,c,u,d,h,f=[o||K],p=lt.call(i,"type")?i.type:i,m=lt.call(i,"namespace")?i.namespace.split("."):[];if(l=d=o=o||K,3!==o.nodeType&&8!==o.nodeType&&!Bt.test(p+ut.event.triggered)&&(p.indexOf(".")>=0&&(m=p.split("."),p=m.shift(),m.sort()),a=p.indexOf(":")<0&&"on"+p,i=i[ut.expando]?i:new ut.Event(p,"object"==typeof i&&i),i.isTrigger=r?2:3,i.namespace=m.join("."),i.namespace_re=i.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,i.result=e,i.target||(i.target=o),n=null==n?[i]:ut.makeArray(n,[i]),u=ut.event.special[p]||{},r||!u.trigger||u.trigger.apply(o,n)!==!1)){if(!r&&!u.noBubble&&!ut.isWindow(o)){for(c=u.delegateType||p,Bt.test(c+p)||(l=l.parentNode);l;l=l.parentNode)f.push(l),d=l;d===(o.ownerDocument||K)&&f.push(d.defaultView||d.parentWindow||t)}for(h=0;(l=f[h++])&&!i.isPropagationStopped();)i.type=h>1?c:u.bindType||p,s=(ut._data(l,"events")||{})[i.type]&&ut._data(l,"handle"),s&&s.apply(l,n),s=a&&l[a],s&&ut.acceptData(l)&&s.apply&&s.apply(l,n)===!1&&i.preventDefault();if(i.type=p,!r&&!i.isDefaultPrevented()&&(!u._default||u._default.apply(f.pop(),n)===!1)&&ut.acceptData(o)&&a&&o[p]&&!ut.isWindow(o)){d=o[a],d&&(o[a]=null),ut.event.triggered=p;try{o[p]()}catch(g){}ut.event.triggered=e,d&&(o[a]=d)}return i.result}},dispatch:function(t){t=ut.event.fix(t);var i,n,o,r,s,a=[],l=rt.call(arguments),c=(ut._data(this,"events")||{})[t.type]||[],u=ut.event.special[t.type]||{};if(l[0]=t,t.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,t)!==!1){for(a=ut.event.handlers.call(this,t,c),i=0;(r=a[i++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,s=0;(o=r.handlers[s++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(o.namespace))&&(t.handleObj=o,t.data=o.data,n=((ut.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l),n!==e&&(t.result=n)===!1&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,i){var n,o,r,s,a=[],l=i.delegateCount,c=t.target;if(l&&c.nodeType&&(!t.button||"click"!==t.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==t.type)){for(r=[],s=0;l>s;s++)o=i[s],n=o.selector+" ",r[n]===e&&(r[n]=o.needsContext?ut(n,this).index(c)>=0:ut.find(n,this,null,[c]).length),r[n]&&r.push(o);r.length&&a.push({elem:c,handlers:r})}return l<i.length&&a.push({elem:this,handlers:i.slice(l)}),a},fix:function(t){if(t[ut.expando])return t;var e,i,n,o=t.type,r=t,s=this.fixHooks[o];for(s||(this.fixHooks[o]=s=Ht.test(o)?this.mouseHooks:Ft.test(o)?this.keyHooks:{}),n=s.props?this.props.concat(s.props):this.props,t=new ut.Event(r),e=n.length;e--;)i=n[e],t[i]=r[i];return t.target||(t.target=r.srcElement||K),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,s.filter?s.filter(t,r):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,i){var n,o,r,s=i.button,a=i.fromElement;return null==t.pageX&&null!=i.clientX&&(o=t.target.ownerDocument||K,r=o.documentElement,n=o.body,t.pageX=i.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),t.pageY=i.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&a&&(t.relatedTarget=a===t.target?i.toElement:a),t.which||s===e||(t.which=1&s?1:2&s?3:4&s?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==u()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===u()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ut.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(t){return ut.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==e&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,i,n){var o=ut.extend(new ut.Event,i,{type:t,isSimulated:!0,originalEvent:{}});n?ut.event.trigger(o,null,e):ut.event.dispatch.call(e,o),o.isDefaultPrevented()&&i.preventDefault()}},ut.removeEvent=K.removeEventListener?function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i,!1)}:function(t,e,i){var n="on"+e;t.detachEvent&&(typeof t[n]===X&&(t[n]=null),t.detachEvent(n,i))},ut.Event=function(t,e){return this instanceof ut.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.returnValue===!1||t.getPreventDefault&&t.getPreventDefault()?l:c):this.type=t,e&&ut.extend(this,e),this.timeStamp=t&&t.timeStamp||ut.now(),void(this[ut.expando]=!0)):new ut.Event(t,e)},ut.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=l,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=l,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},ut.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){ut.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,o=t.relatedTarget,r=t.handleObj;return(!o||o!==n&&!ut.contains(n,o))&&(t.type=r.origType,i=r.handler.apply(this,arguments),t.type=e),i}}}),ut.support.submitBubbles||(ut.event.special.submit={setup:function(){return ut.nodeName(this,"form")?!1:void ut.event.add(this,"click._submit keypress._submit",function(t){var i=t.target,n=ut.nodeName(i,"input")||ut.nodeName(i,"button")?i.form:e;n&&!ut._data(n,"submitBubbles")&&(ut.event.add(n,"submit._submit",function(t){t._submit_bubble=!0}),ut._data(n,"submitBubbles",!0))})},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&ut.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return ut.nodeName(this,"form")?!1:void ut.event.remove(this,"._submit")}}),ut.support.changeBubbles||(ut.event.special.change={setup:function(){return Lt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ut.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),ut.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),ut.event.simulate("change",this,t,!0)})),!1):void ut.event.add(this,"beforeactivate._change",function(t){var e=t.target;Lt.test(e.nodeName)&&!ut._data(e,"changeBubbles")&&(ut.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||ut.event.simulate("change",this.parentNode,t,!0)}),ut._data(e,"changeBubbles",!0))})},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ut.event.remove(this,"._change"),!Lt.test(this.nodeName)}}),ut.support.focusinBubbles||ut.each({focus:"focusin",blur:"focusout"},function(t,e){var i=0,n=function(t){ut.event.simulate(e,t.target,ut.event.fix(t),!0)};ut.event.special[e]={setup:function(){0===i++&&K.addEventListener(t,n,!0)},teardown:function(){0===--i&&K.removeEventListener(t,n,!0)}}}),ut.fn.extend({on:function(t,i,n,o,r){var s,a;if("object"==typeof t){"string"!=typeof i&&(n=n||i,i=e);for(s in t)this.on(s,i,n,t[s],r);return this}if(null==n&&null==o?(o=i,n=i=e):null==o&&("string"==typeof i?(o=n,n=e):(o=n,n=i,i=e)),o===!1)o=c;else if(!o)return this;return 1===r&&(a=o,o=function(t){return ut().off(t),a.apply(this,arguments)},o.guid=a.guid||(a.guid=ut.guid++)),this.each(function(){ut.event.add(this,t,o,n,i)})},one:function(t,e,i,n){return this.on(t,e,i,n,1)},off:function(t,i,n){var o,r;if(t&&t.preventDefault&&t.handleObj)return o=t.handleObj,ut(t.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof t){for(r in t)this.off(r,i,t[r]);return this}return(i===!1||"function"==typeof i)&&(n=i,i=e),n===!1&&(n=c),this.each(function(){ut.event.remove(this,t,n,i)})},trigger:function(t,e){return this.each(function(){ut.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];return i?ut.event.trigger(t,e,i,!0):void 0}});var Wt=/^.[^:#\[\.,]*$/,jt=/^(?:parents|prev(?:Until|All))/,Vt=ut.expr.match.needsContext,Ut={children:!0,contents:!0,next:!0,prev:!0};ut.fn.extend({find:function(t){var e,i=[],n=this,o=n.length;if("string"!=typeof t)return this.pushStack(ut(t).filter(function(){for(e=0;o>e;e++)if(ut.contains(n[e],this))return!0}));for(e=0;o>e;e++)ut.find(t,n[e],i);return i=this.pushStack(o>1?ut.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},has:function(t){var e,i=ut(t,this),n=i.length;return this.filter(function(){for(e=0;n>e;e++)if(ut.contains(this,i[e]))return!0})},not:function(t){return this.pushStack(h(this,t||[],!0))},filter:function(t){return this.pushStack(h(this,t||[],!1))},is:function(t){return!!h(this,"string"==typeof t&&Vt.test(t)?ut(t):t||[],!1).length},closest:function(t,e){for(var i,n=0,o=this.length,r=[],s=Vt.test(t)||"string"!=typeof t?ut(t,e||this.context):0;o>n;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(s?s.index(i)>-1:1===i.nodeType&&ut.find.matchesSelector(i,t))){i=r.push(i);break}return this.pushStack(r.length>1?ut.unique(r):r)},index:function(t){return t?"string"==typeof t?ut.inArray(this[0],ut(t)):ut.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){var i="string"==typeof t?ut(t,e):ut.makeArray(t&&t.nodeType?[t]:t),n=ut.merge(this.get(),i);return this.pushStack(ut.unique(n))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ut.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return ut.dir(t,"parentNode")},parentsUntil:function(t,e,i){return ut.dir(t,"parentNode",i)},next:function(t){return d(t,"nextSibling")},prev:function(t){return d(t,"previousSibling")},nextAll:function(t){return ut.dir(t,"nextSibling")},prevAll:function(t){return ut.dir(t,"previousSibling")},nextUntil:function(t,e,i){return ut.dir(t,"nextSibling",i)},prevUntil:function(t,e,i){return ut.dir(t,"previousSibling",i)},siblings:function(t){return ut.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return ut.sibling(t.firstChild)},contents:function(t){return ut.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:ut.merge([],t.childNodes)}},function(t,e){ut.fn[t]=function(i,n){var o=ut.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(o=ut.filter(n,o)),this.length>1&&(Ut[t]||(o=ut.unique(o)),jt.test(t)&&(o=o.reverse())),this.pushStack(o)}}),ut.extend({filter:function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?ut.find.matchesSelector(n,t)?[n]:[]:ut.find.matches(t,ut.grep(e,function(t){return 1===t.nodeType}))},dir:function(t,i,n){for(var o=[],r=t[i];r&&9!==r.nodeType&&(n===e||1!==r.nodeType||!ut(r).is(n));)1===r.nodeType&&o.push(r),r=r[i];return o},sibling:function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}});var qt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Yt=/ jQuery\d+="(?:null|\d+)"/g,Xt=new RegExp("<(?:"+qt+")[\\s/>]","i"),Gt=/^\s+/,Kt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Qt=/<([\w:]+)/,Jt=/<tbody/i,Zt=/<|&#?\w+;/,te=/<(?:script|style|link)/i,ee=/^(?:checkbox|radio)$/i,ie=/checked\s*(?:[^=]|=\s*.checked.)/i,ne=/^$|\/(?:java|ecma)script/i,oe=/^true\/(.*)/,re=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,se={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ut.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ae=f(K),le=ae.appendChild(K.createElement("div"));se.optgroup=se.option,se.tbody=se.tfoot=se.colgroup=se.caption=se.thead,se.th=se.td,ut.fn.extend({text:function(t){return ut.access(this,function(t){return t===e?ut.text(this):this.empty().append((this[0]&&this[0].ownerDocument||K).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=p(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=p(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var i,n=t?ut.filter(t,this):this,o=0;null!=(i=n[o]);o++)e||1!==i.nodeType||ut.cleanData(x(i)),i.parentNode&&(e&&ut.contains(i.ownerDocument,i)&&v(x(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&ut.cleanData(x(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&ut.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return ut.clone(this,t,e)})},html:function(t){return ut.access(this,function(t){var i=this[0]||{},n=0,o=this.length;if(t===e)return 1===i.nodeType?i.innerHTML.replace(Yt,""):e;if("string"==typeof t&&!te.test(t)&&(ut.support.htmlSerialize||!Xt.test(t))&&(ut.support.leadingWhitespace||!Gt.test(t))&&!se[(Qt.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Kt,"<$1></$2>");try{for(;o>n;n++)i=this[n]||{},1===i.nodeType&&(ut.cleanData(x(i,!1)),i.innerHTML=t);i=0}catch(r){}}i&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=ut.map(this,function(t){return[t.nextSibling,t.parentNode]}),e=0;return this.domManip(arguments,function(i){var n=t[e++],o=t[e++];o&&(n&&n.parentNode!==o&&(n=this.nextSibling),ut(this).remove(),o.insertBefore(i,n))},!0),e?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e,i){t=nt.apply([],t);var n,o,r,s,a,l,c=0,u=this.length,d=this,h=u-1,f=t[0],p=ut.isFunction(f);if(p||!(1>=u||"string"!=typeof f||ut.support.checkClone)&&ie.test(f))return this.each(function(n){var o=d.eq(n);p&&(t[0]=f.call(this,n,o.html())),o.domManip(t,e,i)});if(u&&(l=ut.buildFragment(t,this[0].ownerDocument,!1,!i&&this),n=l.firstChild,1===l.childNodes.length&&(l=n),n)){for(s=ut.map(x(l,"script"),m),r=s.length;u>c;c++)o=l,c!==h&&(o=ut.clone(o,!0,!0),r&&ut.merge(s,x(o,"script"))),e.call(this[c],o,c);if(r)for(a=s[s.length-1].ownerDocument,ut.map(s,g),c=0;r>c;c++)o=s[c],ne.test(o.type||"")&&!ut._data(o,"globalEval")&&ut.contains(a,o)&&(o.src?ut._evalUrl(o.src):ut.globalEval((o.text||o.textContent||o.innerHTML||"").replace(re,"")));l=n=null}return this}}),ut.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ut.fn[t]=function(t){for(var i,n=0,o=[],r=ut(t),s=r.length-1;s>=n;n++)i=n===s?this:this.clone(!0),ut(r[n])[e](i),ot.apply(o,i.get());return this.pushStack(o)}}),ut.extend({clone:function(t,e,i){var n,o,r,s,a,l=ut.contains(t.ownerDocument,t);if(ut.support.html5Clone||ut.isXMLDoc(t)||!Xt.test("<"+t.nodeName+">")?r=t.cloneNode(!0):(le.innerHTML=t.outerHTML,le.removeChild(r=le.firstChild)),!(ut.support.noCloneEvent&&ut.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ut.isXMLDoc(t)))for(n=x(r),a=x(t),s=0;null!=(o=a[s]);++s)n[s]&&b(o,n[s]);if(e)if(i)for(a=a||x(t),n=n||x(r),s=0;null!=(o=a[s]);s++)y(o,n[s]);else y(t,r);return n=x(r,"script"),n.length>0&&v(n,!l&&x(t,"script")),n=a=o=null,r},buildFragment:function(t,e,i,n){for(var o,r,s,a,l,c,u,d=t.length,h=f(e),p=[],m=0;d>m;m++)if(r=t[m],r||0===r)if("object"===ut.type(r))ut.merge(p,r.nodeType?[r]:r);else if(Zt.test(r)){for(a=a||h.appendChild(e.createElement("div")),l=(Qt.exec(r)||["",""])[1].toLowerCase(),u=se[l]||se._default,a.innerHTML=u[1]+r.replace(Kt,"<$1></$2>")+u[2],o=u[0];o--;)a=a.lastChild;if(!ut.support.leadingWhitespace&&Gt.test(r)&&p.push(e.createTextNode(Gt.exec(r)[0])),!ut.support.tbody)for(r="table"!==l||Jt.test(r)?"<table>"!==u[1]||Jt.test(r)?0:a:a.firstChild,o=r&&r.childNodes.length;o--;)ut.nodeName(c=r.childNodes[o],"tbody")&&!c.childNodes.length&&r.removeChild(c);for(ut.merge(p,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=h.lastChild}else p.push(e.createTextNode(r));for(a&&h.removeChild(a),ut.support.appendChecked||ut.grep(x(p,"input"),_),m=0;r=p[m++];)if((!n||-1===ut.inArray(r,n))&&(s=ut.contains(r.ownerDocument,r),a=x(h.appendChild(r),"script"),s&&v(a),i))for(o=0;r=a[o++];)ne.test(r.type||"")&&i.push(r);return a=null,h},cleanData:function(t,e){for(var i,n,o,r,s=0,a=ut.expando,l=ut.cache,c=ut.support.deleteExpando,u=ut.event.special;null!=(i=t[s]);s++)if((e||ut.acceptData(i))&&(o=i[a],r=o&&l[o])){if(r.events)for(n in r.events)u[n]?ut.event.remove(i,n):ut.removeEvent(i,n,r.handle);l[o]&&(delete l[o],c?delete i[a]:typeof i.removeAttribute!==X?i.removeAttribute(a):i[a]=null,et.push(o))}},_evalUrl:function(t){return ut.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),ut.fn.extend({wrapAll:function(t){if(ut.isFunction(t))return this.each(function(e){ut(this).wrapAll(t.call(this,e))});if(this[0]){var e=ut(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return ut.isFunction(t)?this.each(function(e){ut(this).wrapInner(t.call(this,e))}):this.each(function(){var e=ut(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=ut.isFunction(t);return this.each(function(i){ut(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){ut.nodeName(this,"body")||ut(this).replaceWith(this.childNodes)}).end()}});var ce,ue,de,he=/alpha\([^)]*\)/i,fe=/opacity\s*=\s*([^)]*)/,pe=/^(top|right|bottom|left)$/,me=/^(none|table(?!-c[ea]).+)/,ge=/^margin/,ve=new RegExp("^("+dt+")(.*)$","i"),ye=new RegExp("^("+dt+")(?!px)[a-z%]+$","i"),be=new RegExp("^([+-])=("+dt+")","i"),xe={BODY:"block"},_e={position:"absolute",visibility:"hidden",display:"block"},we={letterSpacing:0,fontWeight:400},Ce=["Top","Right","Bottom","Left"],ke=["Webkit","O","Moz","ms"];ut.fn.extend({css:function(t,i){return ut.access(this,function(t,i,n){var o,r,s={},a=0;if(ut.isArray(i)){for(r=ue(t),o=i.length;o>a;a++)s[i[a]]=ut.css(t,i[a],!1,r);return s}return n!==e?ut.style(t,i,n):ut.css(t,i)},t,i,arguments.length>1)},show:function(){return k(this,!0)},hide:function(){return k(this)},toggle:function(t){var e="boolean"==typeof t;return this.each(function(){(e?t:C(this))?ut(this).show():ut(this).hide()})}}),ut.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=de(t,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ut.support.cssFloat?"cssFloat":"styleFloat"},style:function(t,i,n,o){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,s,a,l=ut.camelCase(i),c=t.style;if(i=ut.cssProps[l]||(ut.cssProps[l]=w(c,l)),a=ut.cssHooks[i]||ut.cssHooks[l],n===e)return a&&"get"in a&&(r=a.get(t,!1,o))!==e?r:c[i];if(s=typeof n,"string"===s&&(r=be.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(ut.css(t,i)),s="number"),!(null==n||"number"===s&&isNaN(n)||("number"!==s||ut.cssNumber[l]||(n+="px"),ut.support.clearCloneStyle||""!==n||0!==i.indexOf("background")||(c[i]="inherit"),a&&"set"in a&&(n=a.set(t,n,o))===e)))try{c[i]=n}catch(u){}}},css:function(t,i,n,o){var r,s,a,l=ut.camelCase(i);return i=ut.cssProps[l]||(ut.cssProps[l]=w(t.style,l)),a=ut.cssHooks[i]||ut.cssHooks[l],a&&"get"in a&&(s=a.get(t,!0,n)),s===e&&(s=de(t,i,o)),"normal"===s&&i in we&&(s=we[i]),""===n||n?(r=parseFloat(s),n===!0||ut.isNumeric(r)?r||0:s):s}}),t.getComputedStyle?(ue=function(e){return t.getComputedStyle(e,null)},de=function(t,i,n){var o,r,s,a=n||ue(t),l=a?a.getPropertyValue(i)||a[i]:e,c=t.style;return a&&(""!==l||ut.contains(t.ownerDocument,t)||(l=ut.style(t,i)),ye.test(l)&&ge.test(i)&&(o=c.width,r=c.minWidth,s=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=a.width,c.width=o,c.minWidth=r,c.maxWidth=s)),l}):K.documentElement.currentStyle&&(ue=function(t){return t.currentStyle},de=function(t,i,n){var o,r,s,a=n||ue(t),l=a?a[i]:e,c=t.style;return null==l&&c&&c[i]&&(l=c[i]),ye.test(l)&&!pe.test(i)&&(o=c.left,r=t.runtimeStyle,s=r&&r.left,s&&(r.left=t.currentStyle.left),c.left="fontSize"===i?"1em":l,l=c.pixelLeft+"px",c.left=o,s&&(r.left=s)),""===l?"auto":l}),ut.each(["height","width"],function(t,e){ut.cssHooks[e]={get:function(t,i,n){return i?0===t.offsetWidth&&me.test(ut.css(t,"display"))?ut.swap(t,_e,function(){return N(t,e,n)}):N(t,e,n):void 0},set:function(t,i,n){var o=n&&ue(t);return T(t,i,n?S(t,e,n,ut.support.boxSizing&&"border-box"===ut.css(t,"boxSizing",!1,o),o):0)}}}),ut.support.opacity||(ut.cssHooks.opacity={get:function(t,e){return fe.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var i=t.style,n=t.currentStyle,o=ut.isNumeric(e)?"alpha(opacity="+100*e+")":"",r=n&&n.filter||i.filter||"";i.zoom=1,(e>=1||""===e)&&""===ut.trim(r.replace(he,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===e||n&&!n.filter)||(i.filter=he.test(r)?r.replace(he,o):r+" "+o)}}),ut(function(){ut.support.reliableMarginRight||(ut.cssHooks.marginRight={get:function(t,e){return e?ut.swap(t,{display:"inline-block"},de,[t,"marginRight"]):void 0}}),!ut.support.pixelPosition&&ut.fn.position&&ut.each(["top","left"],function(t,e){ut.cssHooks[e]={get:function(t,i){return i?(i=de(t,e),ye.test(i)?ut(t).position()[e]+"px":i):void 0}}})}),ut.expr&&ut.expr.filters&&(ut.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||!ut.support.reliableHiddenOffsets&&"none"===(t.style&&t.style.display||ut.css(t,"display"))},ut.expr.filters.visible=function(t){return!ut.expr.filters.hidden(t)}),ut.each({margin:"",padding:"",border:"Width"},function(t,e){ut.cssHooks[t+e]={expand:function(i){for(var n=0,o={},r="string"==typeof i?i.split(" "):[i];4>n;n++)o[t+Ce[n]+e]=r[n]||r[n-2]||r[0];return o}},ge.test(t)||(ut.cssHooks[t+e].set=T)});var Te=/%20/g,Se=/\[\]$/,Ne=/\r?\n/g,De=/^(?:submit|button|image|reset|file)$/i,Ee=/^(?:input|select|textarea|keygen)/i;ut.fn.extend({serialize:function(){return ut.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ut.prop(this,"elements");return t?ut.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ut(this).is(":disabled")&&Ee.test(this.nodeName)&&!De.test(t)&&(this.checked||!ee.test(t))}).map(function(t,e){var i=ut(this).val();return null==i?null:ut.isArray(i)?ut.map(i,function(t){return{name:e.name,value:t.replace(Ne,"\r\n")}}):{name:e.name,value:i.replace(Ne,"\r\n")}}).get()}}),ut.param=function(t,i){var n,o=[],r=function(t,e){e=ut.isFunction(e)?e():null==e?"":e,o[o.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(i===e&&(i=ut.ajaxSettings&&ut.ajaxSettings.traditional),ut.isArray(t)||t.jquery&&!ut.isPlainObject(t))ut.each(t,function(){r(this.name,this.value)});else for(n in t)P(n,t[n],i,r);return o.join("&").replace(Te,"+")},ut.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){ut.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),ut.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}});var Pe,Ae,Me=ut.now(),Ie=/\?/,$e=/#.*$/,Re=/([?&])_=[^&]*/,Oe=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Le=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Fe=/^(?:GET|HEAD)$/,He=/^\/\//,Be=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,ze=ut.fn.load,We={},je={},Ve="*/".concat("*");try{Ae=G.href}catch(Ue){Ae=K.createElement("a"),Ae.href="",Ae=Ae.href}Pe=Be.exec(Ae.toLowerCase())||[],ut.fn.load=function(t,i,n){if("string"!=typeof t&&ze)return ze.apply(this,arguments);var o,r,s,a=this,l=t.indexOf(" ");return l>=0&&(o=t.slice(l,t.length),t=t.slice(0,l)),ut.isFunction(i)?(n=i,i=e):i&&"object"==typeof i&&(s="POST"),a.length>0&&ut.ajax({url:t,type:s,dataType:"html",data:i}).done(function(t){r=arguments,a.html(o?ut("<div>").append(ut.parseHTML(t)).find(o):t)}).complete(n&&function(t,e){a.each(n,r||[t.responseText,e,t])}),this},ut.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ut.fn[e]=function(t){return this.on(e,t)}}),ut.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ae,type:"GET",isLocal:Le.test(Pe[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ve,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ut.parseJSON,"text xml":ut.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?I(I(t,ut.ajaxSettings),e):I(ut.ajaxSettings,t)},ajaxPrefilter:A(We),ajaxTransport:A(je),ajax:function(t,i){function n(t,i,n,o){var r,d,y,b,_,C=i;2!==x&&(x=2,l&&clearTimeout(l),u=e,a=o||"",w.readyState=t>0?4:0,r=t>=200&&300>t||304===t,n&&(b=$(h,w,n)),b=R(h,b,w,r),r?(h.ifModified&&(_=w.getResponseHeader("Last-Modified"),_&&(ut.lastModified[s]=_),_=w.getResponseHeader("etag"),_&&(ut.etag[s]=_)),204===t||"HEAD"===h.type?C="nocontent":304===t?C="notmodified":(C=b.state,d=b.data,y=b.error,r=!y)):(y=C,(t||!C)&&(C="error",0>t&&(t=0))),w.status=t,w.statusText=(i||C)+"",r?m.resolveWith(f,[d,C,w]):m.rejectWith(f,[w,C,y]),w.statusCode(v),v=e,c&&p.trigger(r?"ajaxSuccess":"ajaxError",[w,h,r?d:y]),g.fireWith(f,[w,C]),c&&(p.trigger("ajaxComplete",[w,h]),--ut.active||ut.event.trigger("ajaxStop")))}"object"==typeof t&&(i=t,t=e),i=i||{};var o,r,s,a,l,c,u,d,h=ut.ajaxSetup({},i),f=h.context||h,p=h.context&&(f.nodeType||f.jquery)?ut(f):ut.event,m=ut.Deferred(),g=ut.Callbacks("once memory"),v=h.statusCode||{},y={},b={},x=0,_="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===x){if(!d)for(d={};e=Oe.exec(a);)d[e[1].toLowerCase()]=e[2];e=d[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===x?a:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return x||(t=b[i]=b[i]||t,y[t]=e),this},overrideMimeType:function(t){return x||(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>x)for(e in t)v[e]=[v[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||_;return u&&u.abort(e),n(0,e),this}};if(m.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,h.url=((t||h.url||Ae)+"").replace($e,"").replace(He,Pe[1]+"//"),h.type=i.method||i.type||h.method||h.type,h.dataTypes=ut.trim(h.dataType||"*").toLowerCase().match(ht)||[""],null==h.crossDomain&&(o=Be.exec(h.url.toLowerCase()),h.crossDomain=!(!o||o[1]===Pe[1]&&o[2]===Pe[2]&&(o[3]||("http:"===o[1]?"80":"443"))===(Pe[3]||("http:"===Pe[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=ut.param(h.data,h.traditional)),M(We,h,i,w),2===x)return w;c=h.global,c&&0===ut.active++&&ut.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Fe.test(h.type),s=h.url,h.hasContent||(h.data&&(s=h.url+=(Ie.test(s)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=Re.test(s)?s.replace(Re,"$1_="+Me++):s+(Ie.test(s)?"&":"?")+"_="+Me++)),h.ifModified&&(ut.lastModified[s]&&w.setRequestHeader("If-Modified-Since",ut.lastModified[s]),ut.etag[s]&&w.setRequestHeader("If-None-Match",ut.etag[s])),(h.data&&h.hasContent&&h.contentType!==!1||i.contentType)&&w.setRequestHeader("Content-Type",h.contentType),w.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Ve+"; q=0.01":""):h.accepts["*"]);for(r in h.headers)w.setRequestHeader(r,h.headers[r]);if(h.beforeSend&&(h.beforeSend.call(f,w,h)===!1||2===x))return w.abort();_="abort";for(r in{success:1,error:1,complete:1})w[r](h[r]);if(u=M(je,h,i,w)){w.readyState=1,c&&p.trigger("ajaxSend",[w,h]),h.async&&h.timeout>0&&(l=setTimeout(function(){w.abort("timeout")},h.timeout));try{x=1,u.send(y,n)}catch(C){if(!(2>x))throw C;n(-1,C)}}else n(-1,"No Transport");return w},getJSON:function(t,e,i){return ut.get(t,e,i,"json")},getScript:function(t,i){return ut.get(t,e,i,"script")}}),ut.each(["get","post"],function(t,i){ut[i]=function(t,n,o,r){return ut.isFunction(n)&&(r=r||o,o=n,n=e),ut.ajax({url:t,type:i,dataType:r,data:n,success:o})}}),ut.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return ut.globalEval(t),t}}}),ut.ajaxPrefilter("script",function(t){t.cache===e&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),ut.ajaxTransport("script",function(t){if(t.crossDomain){var i,n=K.head||ut("head")[0]||K.documentElement;
return{send:function(e,o){i=K.createElement("script"),i.async=!0,t.scriptCharset&&(i.charset=t.scriptCharset),i.src=t.url,i.onload=i.onreadystatechange=function(t,e){(e||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),i=null,e||o(200,"success"))},n.insertBefore(i,n.firstChild)},abort:function(){i&&i.onload(e,!0)}}}});var qe=[],Ye=/(=)\?(?=&|$)|\?\?/;ut.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=qe.pop()||ut.expando+"_"+Me++;return this[t]=!0,t}}),ut.ajaxPrefilter("json jsonp",function(i,n,o){var r,s,a,l=i.jsonp!==!1&&(Ye.test(i.url)?"url":"string"==typeof i.data&&!(i.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ye.test(i.data)&&"data");return l||"jsonp"===i.dataTypes[0]?(r=i.jsonpCallback=ut.isFunction(i.jsonpCallback)?i.jsonpCallback():i.jsonpCallback,l?i[l]=i[l].replace(Ye,"$1"+r):i.jsonp!==!1&&(i.url+=(Ie.test(i.url)?"&":"?")+i.jsonp+"="+r),i.converters["script json"]=function(){return a||ut.error(r+" was not called"),a[0]},i.dataTypes[0]="json",s=t[r],t[r]=function(){a=arguments},o.always(function(){t[r]=s,i[r]&&(i.jsonpCallback=n.jsonpCallback,qe.push(r)),a&&ut.isFunction(s)&&s(a[0]),a=s=e}),"script"):void 0});var Xe,Ge,Ke=0,Qe=t.ActiveXObject&&function(){var t;for(t in Xe)Xe[t](e,!0)};ut.ajaxSettings.xhr=t.ActiveXObject?function(){return!this.isLocal&&O()||L()}:O,Ge=ut.ajaxSettings.xhr(),ut.support.cors=!!Ge&&"withCredentials"in Ge,Ge=ut.support.ajax=!!Ge,Ge&&ut.ajaxTransport(function(i){if(!i.crossDomain||ut.support.cors){var n;return{send:function(o,r){var s,a,l=i.xhr();if(i.username?l.open(i.type,i.url,i.async,i.username,i.password):l.open(i.type,i.url,i.async),i.xhrFields)for(a in i.xhrFields)l[a]=i.xhrFields[a];i.mimeType&&l.overrideMimeType&&l.overrideMimeType(i.mimeType),i.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");try{for(a in o)l.setRequestHeader(a,o[a])}catch(c){}l.send(i.hasContent&&i.data||null),n=function(t,o){var a,c,u,d;try{if(n&&(o||4===l.readyState))if(n=e,s&&(l.onreadystatechange=ut.noop,Qe&&delete Xe[s]),o)4!==l.readyState&&l.abort();else{d={},a=l.status,c=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(d.text=l.responseText);try{u=l.statusText}catch(h){u=""}a||!i.isLocal||i.crossDomain?1223===a&&(a=204):a=d.text?200:404}}catch(f){o||r(-1,f)}d&&r(a,u,d,c)},i.async?4===l.readyState?setTimeout(n):(s=++Ke,Qe&&(Xe||(Xe={},ut(t).unload(Qe)),Xe[s]=n),l.onreadystatechange=n):n()},abort:function(){n&&n(e,!0)}}}});var Je,Ze,ti=/^(?:toggle|show|hide)$/,ei=new RegExp("^(?:([+-])=|)("+dt+")([a-z%]*)$","i"),ii=/queueHooks$/,ni=[W],oi={"*":[function(t,e){var i=this.createTween(t,e),n=i.cur(),o=ei.exec(e),r=o&&o[3]||(ut.cssNumber[t]?"":"px"),s=(ut.cssNumber[t]||"px"!==r&&+n)&&ei.exec(ut.css(i.elem,t)),a=1,l=20;if(s&&s[3]!==r){r=r||s[3],o=o||[],s=+n||1;do a=a||".5",s/=a,ut.style(i.elem,t,s+r);while(a!==(a=i.cur()/n)&&1!==a&&--l)}return o&&(i.unit=r,i.start=+s||+n||0,i.end=o[1]?s+(o[1]+1)*o[2]:+o[2]),i}]};ut.Animation=ut.extend(B,{tweener:function(t,e){ut.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var i,n=0,o=t.length;o>n;n++)i=t[n],oi[i]=oi[i]||[],oi[i].unshift(e)},prefilter:function(t,e){e?ni.unshift(t):ni.push(t)}}),ut.Tween=j,j.prototype={constructor:j,init:function(t,e,i,n,o,r){this.elem=t,this.prop=i,this.easing=o||"swing",this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=r||(ut.cssNumber[i]?"":"px")},cur:function(){var t=j.propHooks[this.prop];return t&&t.get?t.get(this):j.propHooks._default.get(this)},run:function(t){var e,i=j.propHooks[this.prop];return this.options.duration?this.pos=e=ut.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):j.propHooks._default.set(this),this}},j.prototype.init.prototype=j.prototype,j.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=ut.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){ut.fx.step[t.prop]?ut.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[ut.cssProps[t.prop]]||ut.cssHooks[t.prop])?ut.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},j.propHooks.scrollTop=j.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ut.each(["toggle","show","hide"],function(t,e){var i=ut.fn[e];ut.fn[e]=function(t,n,o){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(V(e,!0),t,n,o)}}),ut.fn.extend({fadeTo:function(t,e,i,n){return this.filter(C).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var o=ut.isEmptyObject(t),r=ut.speed(e,i,n),s=function(){var e=B(this,ut.extend({},t),r);s.finish=function(){e.stop(!0)},(o||ut._data(this,"finish"))&&e.stop(!0)};return s.finish=s,o||r.queue===!1?this.each(s):this.queue(r.queue,s)},stop:function(t,i,n){var o=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=i,i=t,t=e),i&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",r=ut.timers,s=ut._data(this);if(i)s[i]&&s[i].stop&&o(s[i]);else for(i in s)s[i]&&s[i].stop&&ii.test(i)&&o(s[i]);for(i=r.length;i--;)r[i].elem!==this||null!=t&&r[i].queue!==t||(r[i].anim.stop(n),e=!1,r.splice(i,1));(e||!n)&&ut.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,i=ut._data(this),n=i[t+"queue"],o=i[t+"queueHooks"],r=ut.timers,s=n?n.length:0;for(i.finish=!0,ut.queue(this,t,[]),o&&o.cur&&o.cur.finish&&o.cur.finish.call(this),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;s>e;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),ut.each({slideDown:V("show"),slideUp:V("hide"),slideToggle:V("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ut.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),ut.speed=function(t,e,i){var n=t&&"object"==typeof t?ut.extend({},t):{complete:i||!i&&e||ut.isFunction(t)&&t,duration:t,easing:i&&e||e&&!ut.isFunction(e)&&e};return n.duration=ut.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in ut.fx.speeds?ut.fx.speeds[n.duration]:ut.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){ut.isFunction(n.old)&&n.old.call(this),n.queue&&ut.dequeue(this,n.queue)},n},ut.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},ut.timers=[],ut.fx=j.prototype.init,ut.fx.tick=function(){var t,i=ut.timers,n=0;for(Je=ut.now();n<i.length;n++)t=i[n],t()||i[n]!==t||i.splice(n--,1);i.length||ut.fx.stop(),Je=e},ut.fx.timer=function(t){t()&&ut.timers.push(t)&&ut.fx.start()},ut.fx.interval=13,ut.fx.start=function(){Ze||(Ze=setInterval(ut.fx.tick,ut.fx.interval))},ut.fx.stop=function(){clearInterval(Ze),Ze=null},ut.fx.speeds={slow:600,fast:200,_default:400},ut.fx.step={},ut.expr&&ut.expr.filters&&(ut.expr.filters.animated=function(t){return ut.grep(ut.timers,function(e){return t===e.elem}).length}),ut.fn.offset=function(t){if(arguments.length)return t===e?this:this.each(function(e){ut.offset.setOffset(this,t,e)});var i,n,o={top:0,left:0},r=this[0],s=r&&r.ownerDocument;if(s)return i=s.documentElement,ut.contains(i,r)?(typeof r.getBoundingClientRect!==X&&(o=r.getBoundingClientRect()),n=U(s),{top:o.top+(n.pageYOffset||i.scrollTop)-(i.clientTop||0),left:o.left+(n.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}):o},ut.offset={setOffset:function(t,e,i){var n=ut.css(t,"position");"static"===n&&(t.style.position="relative");var o,r,s=ut(t),a=s.offset(),l=ut.css(t,"top"),c=ut.css(t,"left"),u=("absolute"===n||"fixed"===n)&&ut.inArray("auto",[l,c])>-1,d={},h={};u?(h=s.position(),o=h.top,r=h.left):(o=parseFloat(l)||0,r=parseFloat(c)||0),ut.isFunction(e)&&(e=e.call(t,i,a)),null!=e.top&&(d.top=e.top-a.top+o),null!=e.left&&(d.left=e.left-a.left+r),"using"in e?e.using.call(t,d):s.css(d)}},ut.fn.extend({position:function(){if(this[0]){var t,e,i={top:0,left:0},n=this[0];return"fixed"===ut.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ut.nodeName(t[0],"html")||(i=t.offset()),i.top+=ut.css(t[0],"borderTopWidth",!0),i.left+=ut.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-ut.css(n,"marginTop",!0),left:e.left-i.left-ut.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Q;t&&!ut.nodeName(t,"html")&&"static"===ut.css(t,"position");)t=t.offsetParent;return t||Q})}}),ut.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var n=/Y/.test(i);ut.fn[t]=function(o){return ut.access(this,function(t,o,r){var s=U(t);return r===e?s?i in s?s[i]:s.document.documentElement[o]:t[o]:void(s?s.scrollTo(n?ut(s).scrollLeft():r,n?r:ut(s).scrollTop()):t[o]=r)},t,o,arguments.length,null)}}),ut.each({Height:"height",Width:"width"},function(t,i){ut.each({padding:"inner"+t,content:i,"":"outer"+t},function(n,o){ut.fn[o]=function(o,r){var s=arguments.length&&(n||"boolean"!=typeof o),a=n||(o===!0||r===!0?"margin":"border");return ut.access(this,function(i,n,o){var r;return ut.isWindow(i)?i.document.documentElement["client"+t]:9===i.nodeType?(r=i.documentElement,Math.max(i.body["scroll"+t],r["scroll"+t],i.body["offset"+t],r["offset"+t],r["client"+t])):o===e?ut.css(i,n,a):ut.style(i,n,o,a)},i,s?o:e,s,null)}})}),ut.fn.size=function(){return this.length},ut.fn.andSelf=ut.fn.addBack,"object"==typeof module&&"object"==typeof module.exports?module.exports=ut:(t.jQuery=t.$=ut,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ut}))}(window),function(t,e){t.rails!==e&&t.error("jquery-ujs has already been loaded!");var i;t.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",buttonClickSelector:"button[data-remote]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(e){var i=t('meta[name="csrf-token"]').attr("content");i&&e.setRequestHeader("X-CSRF-Token",i)},fire:function(e,i,n){var o=t.Event(i);return e.trigger(o,n),o.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t.attr("href")},handleRemote:function(n){var o,r,s,a,l,c,u,d;if(i.fire(n,"ajax:before")){if(a=n.data("cross-domain"),l=a===e?null:a,c=n.data("with-credentials")||null,u=n.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,n.is("form")){o=n.attr("method"),r=n.attr("action"),s=n.serializeArray();var h=n.data("ujs:submit-button");h&&(s.push(h),n.data("ujs:submit-button",null))}else n.is(i.inputChangeSelector)?(o=n.data("method"),r=n.data("url"),s=n.serialize(),n.data("params")&&(s=s+"&"+n.data("params"))):n.is(i.buttonClickSelector)?(o=n.data("method")||"get",r=n.data("url"),s=n.serialize(),n.data("params")&&(s=s+"&"+n.data("params"))):(o=n.data("method"),r=i.href(n),s=n.data("params")||null);d={type:o||"GET",data:s,dataType:u,beforeSend:function(t,o){return o.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+o.accepts.script),i.fire(n,"ajax:beforeSend",[t,o])},success:function(t,e,i){n.trigger("ajax:success",[t,e,i])},complete:function(t,e){n.trigger("ajax:complete",[t,e])},error:function(t,e,i){n.trigger("ajax:error",[t,e,i])},crossDomain:l},c&&(d.xhrFields={withCredentials:c}),r&&(d.url=r);var f=i.ajax(d);return n.trigger("ajax:send",f),f}return!1},handleMethod:function(n){var o=i.href(n),r=n.data("method"),s=n.attr("target"),a=t("meta[name=csrf-token]").attr("content"),l=t("meta[name=csrf-param]").attr("content"),c=t('<form method="post" action="'+o+'"></form>'),u='<input name="_method" value="'+r+'" type="hidden" />';l!==e&&a!==e&&(u+='<input name="'+l+'" value="'+a+'" type="hidden" />'),s&&c.attr("target",s),c.hide().append(u).appendTo("body"),c.submit()},disableFormElements:function(e){e.find(i.disableSelector).each(function(){var e=t(this),i=e.is("button")?"html":"val";e.data("ujs:enable-with",e[i]()),e[i](e.data("disable-with")),e.prop("disabled",!0)})},enableFormElements:function(e){e.find(i.enableSelector).each(function(){var e=t(this),i=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[i](e.data("ujs:enable-with")),e.prop("disabled",!1)})},allowAction:function(t){var e,n=t.data("confirm"),o=!1;return n?(i.fire(t,"confirm")&&(o=i.confirm(n),e=i.fire(t,"confirm:complete",[o])),o&&e):!0},blankInputs:function(e,i,n){var o,r,s=t(),a=i||"input,textarea",l=e.find(a);return l.each(function(){if(o=t(this),r=o.is("input[type=checkbox],input[type=radio]")?o.is(":checked"):o.val(),!r==!n){if(o.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+o.attr("name")+'"]').length)return!0;s=s.add(o)}}),s.length?s:!1},nonBlankInputs:function(t,e){return i.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){t.data("ujs:enable-with",t.html()),t.html(t.data("disable-with")),t.bind("click.railsDisable",function(t){return i.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable")}},i.fire(t(document),"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,n){t.crossDomain||i.CSRFProtection(n)}),t(document).delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(t(this))}),t(document).delegate(i.linkClickSelector,"click.rails",function(n){var o=t(this),r=o.data("method"),s=o.data("params");if(!i.allowAction(o))return i.stopEverything(n);if(o.is(i.linkDisableSelector)&&i.disableElement(o),o.data("remote")!==e){if((n.metaKey||n.ctrlKey)&&(!r||"GET"===r)&&!s)return!0;var a=i.handleRemote(o);return a===!1?i.enableElement(o):a.error(function(){i.enableElement(o)}),!1}return o.data("method")?(i.handleMethod(o),!1):void 0}),t(document).delegate(i.buttonClickSelector,"click.rails",function(e){var n=t(this);return i.allowAction(n)?(i.handleRemote(n),!1):i.stopEverything(e)}),t(document).delegate(i.inputChangeSelector,"change.rails",function(e){var n=t(this);return i.allowAction(n)?(i.handleRemote(n),!1):i.stopEverything(e)}),t(document).delegate(i.formSubmitSelector,"submit.rails",function(n){var o=t(this),r=o.data("remote")!==e,s=i.blankInputs(o,i.requiredInputSelector),a=i.nonBlankInputs(o,i.fileInputSelector);if(!i.allowAction(o))return i.stopEverything(n);if(s&&o.attr("novalidate")==e&&i.fire(o,"ajax:aborted:required",[s]))return i.stopEverything(n);if(r){if(a){setTimeout(function(){i.disableFormElements(o)},13);var l=i.fire(o,"ajax:aborted:file",[a]);return l||setTimeout(function(){i.enableFormElements(o)},13),l}return i.handleRemote(o),!1}setTimeout(function(){i.disableFormElements(o)},13)}),t(document).delegate(i.formInputClickSelector,"click.rails",function(e){var n=t(this);if(!i.allowAction(n))return i.stopEverything(e);var o=n.attr("name"),r=o?{name:o,value:n.val()}:null;n.closest("form").data("ujs:submit-button",r)}),t(document).delegate(i.formSubmitSelector,"ajax:beforeSend.rails",function(e){this==e.target&&i.disableFormElements(t(this))}),t(document).delegate(i.formSubmitSelector,"ajax:complete.rails",function(e){this==e.target&&i.enableFormElements(t(this))}),t(function(){var e=t("meta[name=csrf-token]").attr("content"),i=t("meta[name=csrf-param]").attr("content");t('form input[name="'+i+'"]').val(e)}))}(jQuery),/*! jQuery UI - v1.10.3 - 2013-05-03
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js, jquery.ui.effect.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js, jquery.ui.menu.js, jquery.ui.position.js, jquery.ui.progressbar.js, jquery.ui.slider.js, jquery.ui.spinner.js, jquery.ui.tabs.js, jquery.ui.tooltip.js
* Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */
function(t,e){function i(e,i){var o,r,s,a=e.nodeName.toLowerCase();return"area"===a?(o=e.parentNode,r=o.name,e.href&&r&&"map"===o.nodeName.toLowerCase()?(s=t("img[usemap=#"+r+"]")[0],!!s&&n(s)):!1):(/input|select|textarea|button|object/.test(a)?!e.disabled:"a"===a?e.href||i:i)&&n(e)}function n(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var o=0,r=/^ui-id-\d+$/;t.ui=t.ui||{},t.extend(t.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({focus:function(e){return function(i,n){return"number"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),n&&n.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(i){if(i!==e)return this.css("zIndex",i);if(this.length)for(var n,o,r=t(this[0]);r.length&&r[0]!==document;){if(n=r.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(o=parseInt(r.css("zIndex"),10),!isNaN(o)&&0!==o))return o;r=r.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++o)})},removeUniqueId:function(){return this.each(function(){r.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])},focusable:function(e){return i(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var n=t.attr(e,"tabindex"),o=isNaN(n);return(o||n>=0)&&i(e,!o)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(i,n){function o(e,i,n,o){return t.each(r,function(){i-=parseFloat(t.css(e,"padding"+this))||0,n&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var r="Width"===n?["Left","Right"]:["Top","Bottom"],s=n.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+n]=function(i){return i===e?a["inner"+n].call(this):this.each(function(){t(this).css(s,o(this,i)+"px")})},t.fn["outer"+n]=function(e,i){return"number"!=typeof e?a["outer"+n].call(this,e):this.each(function(){t(this).css(s,o(this,e,!0,i)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.support.selectstart="onselectstart"in document.createElement("div"),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,i,n){var o,r=t.ui[e].prototype;for(o in n)r.plugins[o]=r.plugins[o]||[],r.plugins[o].push([i,n[o]])},call:function(t,e,i){var n,o=t.plugins[e];if(o&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(n=0;n<o.length;n++)t.options[o[n][0]]&&o[n][1].apply(t.element,i)}},hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",o=!1;return e[n]>0?!0:(e[n]=1,o=e[n]>0,e[n]=0,o)}})}(jQuery),function(t,e){var i=0,n=Array.prototype.slice,o=t.cleanData;t.cleanData=function(e){for(var i,n=0;null!=(i=e[n]);n++)try{t(i).triggerHandler("remove")}catch(r){}o(e)},t.widget=function(e,i,n){var o,r,s,a,l={},c=e.split(".")[0];e=e.split(".")[1],o=c+"-"+e,n||(n=i,i=t.Widget),t.expr[":"][o.toLowerCase()]=function(e){return!!t.data(e,o)},t[c]=t[c]||{},r=t[c][e],s=t[c][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new s(t,e)},t.extend(s,r,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),a=new i,a.options=t.widget.extend({},a.options),t.each(n,function(e,n){return t.isFunction(n)?void(l[e]=function(){var t=function(){return i.prototype[e].apply(this,arguments)},o=function(t){return i.prototype[e].apply(this,t)};return function(){var e,i=this._super,r=this._superApply;return this._super=t,this._superApply=o,e=n.apply(this,arguments),this._super=i,this._superApply=r,e}}()):void(l[e]=n)}),s.prototype=t.widget.extend(a,{widgetEventPrefix:r?a.widgetEventPrefix:e},l,{constructor:s,namespace:c,widgetName:e,widgetFullName:o}),r?(t.each(r._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,s,i._proto)}),delete r._childConstructors):i._childConstructors.push(s),t.widget.bridge(e,s)},t.widget.extend=function(i){for(var o,r,s=n.call(arguments,1),a=0,l=s.length;l>a;a++)for(o in s[a])r=s[a][o],s[a].hasOwnProperty(o)&&r!==e&&(t.isPlainObject(r)?i[o]=t.isPlainObject(i[o])?t.widget.extend({},i[o],r):t.widget.extend({},r):i[o]=r);return i},t.widget.bridge=function(i,o){var r=o.prototype.widgetFullName||i;t.fn[i]=function(s){var a="string"==typeof s,l=n.call(arguments,1),c=this;return s=!a&&l.length?t.widget.extend.apply(null,[s].concat(l)):s,a?this.each(function(){var n,o=t.data(this,r);return o?t.isFunction(o[s])&&"_"!==s.charAt(0)?(n=o[s].apply(o,l),n!==o&&n!==e?(c=n&&n.jquery?c.pushStack(n.get()):n,!1):void 0):t.error("no such method '"+s+"' for "+i+" widget instance"):t.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+s+"'")}):this.each(function(){var e=t.data(this,r);e?e.option(s||{})._init():t.data(this,r,new o(s,this))}),c}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(i,n){var o,r,s,a=i;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof i)if(a={},o=i.split("."),i=o.shift(),o.length){for(r=a[i]=t.widget.extend({},this.options[i]),s=0;s<o.length-1;s++)r[o[s]]=r[o[s]]||{},r=r[o[s]];if(i=o.pop(),n===e)return r[i]===e?null:r[i];r[i]=n}else{if(n===e)return this.options[i]===e?null:this.options[i];a[i]=n}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(e,i,n){var o,r=this;"boolean"!=typeof e&&(n=i,i=e,e=!1),n?(i=o=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,o=this.widget()),t.each(n,function(n,s){function a(){return e||r.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof s?r[s]:s).apply(r,arguments):void 0}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var l=n.match(/^(\w+)\s*(.*)$/),c=l[1]+r.eventNamespace,u=l[2];u?o.delegate(u,c,a):i.bind(c,a)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function i(){return("string"==typeof t?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,n){var o,r,s=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],r=i.originalEvent)for(o in r)o in i||(i[o]=r[o]);return this.element.trigger(i,n),!(t.isFunction(s)&&s.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,o,r){"string"==typeof o&&(o={effect:o});var s,a=o?o===!0||"number"==typeof o?i:o.effect||i:e;o=o||{},"number"==typeof o&&(o={duration:o}),s=!t.isEmptyObject(o),o.complete=r,o.delay&&n.delay(o.delay),s&&t.effects&&t.effects.effect[a]?n[e](o):a!==e&&n[a]?n[a](o.duration,o.easing,r):n.queue(function(i){t(this)[e](),r&&r.call(n[0]),i()})}})}(jQuery),function(t,e){var i=!1;t(document).mouseup(function(){i=!1}),t.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!i){this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var n=this,o=1===e.which,r="string"==typeof this.options.cancel&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return o&&!r&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),i=!0,!0)):!0}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(t,e){t.widget("ui.draggable",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(t(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){t("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,i){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",e,n)===!1)return this._mouseUp({}),!1;this.position=n.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,n=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(n=t.ui.ddmanager.drop(this,e)),this.dropped&&(n=this.dropped,this.dropped=!1),"original"!==this.options.helper||t.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1):!1},_mouseUp:function(e){return t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.element.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,o=this.options;return o.containment?"window"===o.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===o.containment?void(this.containment=[0,0,t(document).width()-this.helperProportions.width-this.margins.left,(t(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):o.containment.constructor===Array?void(this.containment=o.containment):("parent"===o.containment&&(o.containment=this.helper[0].parentNode),i=t(o.containment),n=i[0],void(n&&(e="hidden"!==i.css("overflow"),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i))):void(this.containment=null)},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"===e?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:o.scrollTop(),left:o.scrollLeft()}),{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*n}},_generatePosition:function(e){var i,n,o,r,s=this.options,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=e.pageX,c=e.pageY;return this.offset.scroll||(this.offset.scroll={top:a.scrollTop(),left:a.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(n=this.relative_container.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(c=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(c=i[3]+this.offset.click.top)),s.grid&&(o=s.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,c=i?o-this.offset.click.top>=i[1]||o-this.offset.click.top>i[3]?o:o-this.offset.click.top>=i[1]?o-s.grid[1]:o+s.grid[1]:o,r=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=i?r-this.offset.click.left>=i[0]||r-this.offset.click.left>i[2]?r:r-this.offset.click.left>=i[0]?r-s.grid[0]:r+s.grid[0]:r)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,i,n){return n=n||this._uiHash(),t.ui.plugin.call(this,e,[i,n]),"drag"===e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i){var n=t(this).data("ui-draggable"),o=n.options,r=t.extend({},i,{item:n.element});n.sortables=[],t(o.connectToSortable).each(function(){var i=t.data(this,"ui-sortable");i&&!i.options.disabled&&(n.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",e,r))})},stop:function(e,i){var n=t(this).data("ui-draggable"),o=t.extend({},i,{item:n.element});t.each(n.sortables,function(){this.instance.isOver?(this.instance.isOver=0,n.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"===n.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,o))})},drag:function(e,i){var n=t(this).data("ui-draggable"),o=this;t.each(n.sortables,function(){var r=!1,s=this;this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(r=!0,t.each(n.sortables,function(){return this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this!==s&&this.instance._intersectsWith(this.instance.containerCache)&&t.contains(s.instance.element[0],this.instance.element[0])&&(r=!1),r})),r?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(o).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=n.offset.click.top,this.instance.offset.click.left=n.offset.click.left,this.instance.offset.parent.left-=n.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=n.offset.parent.top-this.instance.offset.parent.top,n._trigger("toSortable",e),n.dropped=this.instance.element,n.currentItem=n.element,this.instance.fromOutside=n),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),n._trigger("fromSortable",e),n.dropped=!1)})}}),t.ui.plugin.add("draggable","cursor",{start:function(){var e=t("body"),i=t(this).data("ui-draggable").options;e.css("cursor")&&(i._cursor=e.css("cursor")),e.css("cursor",i.cursor)},stop:function(){var e=t(this).data("ui-draggable").options;e._cursor&&t("body").css("cursor",e._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i){var n=t(i.helper),o=t(this).data("ui-draggable").options;n.css("opacity")&&(o._opacity=n.css("opacity")),n.css("opacity",o.opacity)},stop:function(e,i){var n=t(this).data("ui-draggable").options;n._opacity&&t(i.helper).css("opacity",n._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(){var e=t(this).data("ui-draggable");e.scrollParent[0]!==document&&"HTML"!==e.scrollParent[0].tagName&&(e.overflowOffset=e.scrollParent.offset())},drag:function(e){var i=t(this).data("ui-draggable"),n=i.options,o=!1;i.scrollParent[0]!==document&&"HTML"!==i.scrollParent[0].tagName?(n.axis&&"x"===n.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-e.pageY<n.scrollSensitivity?i.scrollParent[0].scrollTop=o=i.scrollParent[0].scrollTop+n.scrollSpeed:e.pageY-i.overflowOffset.top<n.scrollSensitivity&&(i.scrollParent[0].scrollTop=o=i.scrollParent[0].scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-e.pageX<n.scrollSensitivity?i.scrollParent[0].scrollLeft=o=i.scrollParent[0].scrollLeft+n.scrollSpeed:e.pageX-i.overflowOffset.left<n.scrollSensitivity&&(i.scrollParent[0].scrollLeft=o=i.scrollParent[0].scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(e.pageY-t(document).scrollTop()<n.scrollSensitivity?o=t(document).scrollTop(t(document).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<n.scrollSensitivity&&(o=t(document).scrollTop(t(document).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(e.pageX-t(document).scrollLeft()<n.scrollSensitivity?o=t(document).scrollLeft(t(document).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<n.scrollSensitivity&&(o=t(document).scrollLeft(t(document).scrollLeft()+n.scrollSpeed)))),o!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(){var e=t(this).data("ui-draggable"),i=e.options;e.snapElements=[],t(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=t(this),n=i.offset();this!==e.element[0]&&e.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:n.top,left:n.left})})},drag:function(e,i){var n,o,r,s,a,l,c,u,d,h,f=t(this).data("ui-draggable"),p=f.options,m=p.snapTolerance,g=i.offset.left,v=g+f.helperProportions.width,y=i.offset.top,b=y+f.helperProportions.height;for(d=f.snapElements.length-1;d>=0;d--)a=f.snapElements[d].left,l=a+f.snapElements[d].width,c=f.snapElements[d].top,u=c+f.snapElements[d].height,a-m>v||g>l+m||c-m>b||y>u+m||!t.contains(f.snapElements[d].item.ownerDocument,f.snapElements[d].item)?(f.snapElements[d].snapping&&f.options.snap.release&&f.options.snap.release.call(f.element,e,t.extend(f._uiHash(),{snapItem:f.snapElements[d].item})),f.snapElements[d].snapping=!1):("inner"!==p.snapMode&&(n=Math.abs(c-b)<=m,o=Math.abs(u-y)<=m,r=Math.abs(a-v)<=m,s=Math.abs(l-g)<=m,n&&(i.position.top=f._convertPositionTo("relative",{top:c-f.helperProportions.height,left:0}).top-f.margins.top),o&&(i.position.top=f._convertPositionTo("relative",{top:u,left:0}).top-f.margins.top),r&&(i.position.left=f._convertPositionTo("relative",{top:0,left:a-f.helperProportions.width}).left-f.margins.left),s&&(i.position.left=f._convertPositionTo("relative",{top:0,left:l}).left-f.margins.left)),h=n||o||r||s,"outer"!==p.snapMode&&(n=Math.abs(c-y)<=m,o=Math.abs(u-b)<=m,r=Math.abs(a-g)<=m,s=Math.abs(l-v)<=m,n&&(i.position.top=f._convertPositionTo("relative",{top:c,left:0}).top-f.margins.top),o&&(i.position.top=f._convertPositionTo("relative",{top:u-f.helperProportions.height,left:0}).top-f.margins.top),r&&(i.position.left=f._convertPositionTo("relative",{top:0,left:a}).left-f.margins.left),s&&(i.position.left=f._convertPositionTo("relative",{top:0,left:l-f.helperProportions.width}).left-f.margins.left)),!f.snapElements[d].snapping&&(n||o||r||s||h)&&f.options.snap.snap&&f.options.snap.snap.call(f.element,e,t.extend(f._uiHash(),{snapItem:f.snapElements[d].item})),f.snapElements[d].snapping=n||o||r||s||h)}}),t.ui.plugin.add("draggable","stack",{start:function(){var e,i=this.data("ui-draggable").options,n=t.makeArray(t(i.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});n.length&&(e=parseInt(t(n[0]).css("zIndex"),10)||0,t(n).each(function(i){t(this).css("zIndex",e+i)}),this.css("zIndex",e+n.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i){var n=t(i.helper),o=t(this).data("ui-draggable").options;n.css("zIndex")&&(o._zIndex=n.css("zIndex")),n.css("zIndex",o.zIndex)},stop:function(e,i){var n=t(this).data("ui-draggable").options;n._zIndex&&t(i.helper).css("zIndex",n._zIndex)}})}(jQuery),function(t,e){function i(t,e,i){return t>e&&e+i>t}t.widget("ui.droppable",{version:"1.10.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e=this.options,i=e.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(i)?i:function(t){return t.is(i)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},t.ui.ddmanager.droppables[e.scope]=t.ui.ddmanager.droppables[e.scope]||[],t.ui.ddmanager.droppables[e.scope].push(this),e.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var e=0,i=t.ui.ddmanager.droppables[this.options.scope];e<i.length;e++)i[e]===this&&i.splice(e,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,i){"accept"===e&&(this.accept=t.isFunction(i)?i:function(t){return t.is(i)}),t.Widget.prototype._setOption.apply(this,arguments)},_activate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),
i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var n=i||t.ui.ddmanager.current,o=!1;return n&&(n.currentItem||n.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var e=t.data(this,"ui-droppable");return e.options.greedy&&!e.options.disabled&&e.options.scope===n.options.scope&&e.accept.call(e.element[0],n.currentItem||n.element)&&t.ui.intersect(n,t.extend(e,{offset:e.element.offset()}),e.options.tolerance)?(o=!0,!1):void 0}),o?!1:this.accept.call(this.element[0],n.currentItem||n.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(n)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(t,e,n){if(!e.offset)return!1;var o,r,s=(t.positionAbs||t.position.absolute).left,a=s+t.helperProportions.width,l=(t.positionAbs||t.position.absolute).top,c=l+t.helperProportions.height,u=e.offset.left,d=u+e.proportions.width,h=e.offset.top,f=h+e.proportions.height;switch(n){case"fit":return s>=u&&d>=a&&l>=h&&f>=c;case"intersect":return u<s+t.helperProportions.width/2&&a-t.helperProportions.width/2<d&&h<l+t.helperProportions.height/2&&c-t.helperProportions.height/2<f;case"pointer":return o=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,r=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,i(r,h,e.proportions.height)&&i(o,u,e.proportions.width);case"touch":return(l>=h&&f>=l||c>=h&&f>=c||h>l&&c>f)&&(s>=u&&d>=s||a>=u&&d>=a||u>s&&a>d);default:return!1}},t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var n,o,r=t.ui.ddmanager.droppables[e.options.scope]||[],s=i?i.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(n=0;n<r.length;n++)if(!(r[n].options.disabled||e&&!r[n].accept.call(r[n].element[0],e.currentItem||e.element))){for(o=0;o<a.length;o++)if(a[o]===r[n].element[0]){r[n].proportions.height=0;continue t}r[n].visible="none"!==r[n].element.css("display"),r[n].visible&&("mousedown"===s&&r[n]._activate.call(r[n],i),r[n].offset=r[n].element.offset(),r[n].proportions={width:r[n].element[0].offsetWidth,height:r[n].element[0].offsetHeight})}},drop:function(e,i){var n=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),n},dragStart:function(e,i){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,o,r,s=t.ui.intersect(e,this,this.options.tolerance),a=!s&&this.isover?"isout":s&&!this.isover?"isover":null;a&&(this.options.greedy&&(o=this.options.scope,r=this.element.parents(":data(ui-droppable)").filter(function(){return t.data(this,"ui-droppable").options.scope===o}),r.length&&(n=t.data(r[0],"ui-droppable"),n.greedyChild="isover"===a)),n&&"isover"===a&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,i),n&&"isout"===a&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}}}(jQuery),function(t,e){function i(t){return parseInt(t,10)||0}function n(t){return!isNaN(parseInt(t,10))}t.widget("ui.resizable",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var e,i,n,o,r,s=this,a=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},i=0;i<e.length;i++)n=t.trim(e[i]),r="ui-resizable-"+n,o=t("<div class='ui-resizable-handle "+r+"'></div>"),o.css({zIndex:a.zIndex}),"se"===n&&o.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(o);this._renderAxis=function(e){var i,n,o,r;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=t(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(n=t(this.handles[i],this.element),r=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),o=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(o,r),this._proportionallyResize()),t(this.handles[i]).length},this._renderAxis(this.element),this._handles=t(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){s.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=o&&o[1]?o[1]:"se")}),a.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){a.disabled||(t(this).removeClass("ui-resizable-autohide"),s._handles.show())}).mouseleave(function(){a.disabled||s.resizing||(t(this).addClass("ui-resizable-autohide"),s._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(e){var i,n,o=!1;for(i in this.handles)n=t(this.handles[i])[0],(n===e.target||t.contains(n,e.target))&&(o=!0);return!this.options.disabled&&o},_mouseStart:function(e){var n,o,r,s=this.options,a=this.element.position(),l=this.element;return this.resizing=!0,/absolute/.test(l.css("position"))?l.css({position:"absolute",top:l.css("top"),left:l.css("left")}):l.is(".ui-draggable")&&l.css({position:"absolute",top:a.top,left:a.left}),this._renderProxy(),n=i(this.helper.css("left")),o=i(this.helper.css("top")),s.containment&&(n+=t(s.containment).scrollLeft()||0,o+=t(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:o},this.size=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalPosition={left:n,top:o},this.sizeDiff={width:l.outerWidth()-l.width(),height:l.outerHeight()-l.height()},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===r?this.axis+"-resize":r),l.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,n=this.helper,o={},r=this.originalMousePosition,s=this.axis,a=this.position.top,l=this.position.left,c=this.size.width,u=this.size.height,d=e.pageX-r.left||0,h=e.pageY-r.top||0,f=this._change[s];return f?(i=f.apply(this,[e,d,h]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),this.position.top!==a&&(o.top=this.position.top+"px"),this.position.left!==l&&(o.left=this.position.left+"px"),this.size.width!==c&&(o.width=this.size.width+"px"),this.size.height!==u&&(o.height=this.size.height+"px"),n.css(o),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(o)||this._trigger("resize",e,this.ui()),!1):!1},_mouseStop:function(e){this.resizing=!1;var i,n,o,r,s,a,l,c=this.options,u=this;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),o=n&&t.ui.hasScroll(i[0],"left")?0:u.sizeDiff.height,r=n?0:u.sizeDiff.width,s={width:u.helper.width()-r,height:u.helper.height()-o},a=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,l=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,c.animate||this.element.css(t.extend(s,{top:l,left:a})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!c.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(t){var e,i,o,r,s,a=this.options;s={minWidth:n(a.minWidth)?a.minWidth:0,maxWidth:n(a.maxWidth)?a.maxWidth:1/0,minHeight:n(a.minHeight)?a.minHeight:0,maxHeight:n(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||t)&&(e=s.minHeight*this.aspectRatio,o=s.minWidth/this.aspectRatio,i=s.maxHeight*this.aspectRatio,r=s.maxWidth/this.aspectRatio,e>s.minWidth&&(s.minWidth=e),o>s.minHeight&&(s.minHeight=o),i<s.maxWidth&&(s.maxWidth=i),r<s.maxHeight&&(s.maxHeight=r)),this._vBoundaries=s},_updateCache:function(t){this.offset=this.helper.offset(),n(t.left)&&(this.position.left=t.left),n(t.top)&&(this.position.top=t.top),n(t.height)&&(this.size.height=t.height),n(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,o=this.axis;return n(t.height)?t.width=t.height*this.aspectRatio:n(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===o&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===o&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,o=n(t.width)&&e.maxWidth&&e.maxWidth<t.width,r=n(t.height)&&e.maxHeight&&e.maxHeight<t.height,s=n(t.width)&&e.minWidth&&e.minWidth>t.width,a=n(t.height)&&e.minHeight&&e.minHeight>t.height,l=this.originalPosition.left+this.originalSize.width,c=this.position.top+this.size.height,u=/sw|nw|w/.test(i),d=/nw|ne|n/.test(i);return s&&(t.width=e.minWidth),a&&(t.height=e.minHeight),o&&(t.width=e.maxWidth),r&&(t.height=e.maxHeight),s&&u&&(t.left=l-e.minWidth),o&&u&&(t.left=l-e.maxWidth),a&&d&&(t.top=c-e.minHeight),r&&d&&(t.top=c-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var t,e,i,n,o,r=this.helper||this.element;for(t=0;t<this._proportionallyResizeElements.length;t++){if(o=this._proportionallyResizeElements[t],!this.borderDif)for(this.borderDif=[],i=[o.css("borderTopWidth"),o.css("borderRightWidth"),o.css("borderBottomWidth"),o.css("borderLeftWidth")],n=[o.css("paddingTop"),o.css("paddingRight"),o.css("paddingBottom"),o.css("paddingLeft")],e=0;e<i.length;e++)this.borderDif[e]=(parseInt(i[e],10)||0)+(parseInt(n[e],10)||0);o.css({height:r.height()-this.borderDif[0]-this.borderDif[2]||0,width:r.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,n=this.originalPosition;return{left:n.left+e,width:i.width-e}},n:function(t,e,i){var n=this.originalSize,o=this.originalPosition;return{top:o.top+i,height:n.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},sw:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,n]))},ne:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},nw:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,n]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).data("ui-resizable"),n=i.options,o=i._proportionallyResizeElements,r=o.length&&/textarea/i.test(o[0].nodeName),s=r&&t.ui.hasScroll(o[0],"left")?0:i.sizeDiff.height,a=r?0:i.sizeDiff.width,l={width:i.size.width-a,height:i.size.height-s},c=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(l,u&&c?{top:u,left:c}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};o&&o.length&&t(o[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,n,o,r,s,a,l,c=t(this).data("ui-resizable"),u=c.options,d=c.element,h=u.containment,f=h instanceof t?h.get(0):/parent/.test(h)?d.parent().get(0):h;f&&(c.containerElement=t(f),/document/.test(h)||h===document?(c.containerOffset={left:0,top:0},c.containerPosition={left:0,top:0},c.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(f),n=[],t(["Top","Right","Left","Bottom"]).each(function(t,o){n[t]=i(e.css("padding"+o))}),c.containerOffset=e.offset(),c.containerPosition=e.position(),c.containerSize={height:e.innerHeight()-n[3],width:e.innerWidth()-n[1]},o=c.containerOffset,r=c.containerSize.height,s=c.containerSize.width,a=t.ui.hasScroll(f,"left")?f.scrollWidth:s,l=t.ui.hasScroll(f)?f.scrollHeight:r,c.parentData={element:f,left:o.left,top:o.top,width:a,height:l}))},resize:function(e){var i,n,o,r,s=t(this).data("ui-resizable"),a=s.options,l=s.containerOffset,c=s.position,u=s._aspectRatio||e.shiftKey,d={top:0,left:0},h=s.containerElement;h[0]!==document&&/static/.test(h.css("position"))&&(d=l),c.left<(s._helper?l.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-d.left),u&&(s.size.height=s.size.width/s.aspectRatio),s.position.left=a.helper?l.left:0),c.top<(s._helper?l.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top),u&&(s.size.width=s.size.height*s.aspectRatio),s.position.top=s._helper?l.top:0),s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top,i=Math.abs((s._helper?s.offset.left-d.left:s.offset.left-d.left)+s.sizeDiff.width),n=Math.abs((s._helper?s.offset.top-d.top:s.offset.top-l.top)+s.sizeDiff.height),o=s.containerElement.get(0)===s.element.parent().get(0),r=/relative|absolute/.test(s.containerElement.css("position")),o&&r&&(i-=s.parentData.left),i+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-i,u&&(s.size.height=s.size.width/s.aspectRatio)),n+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-n,u&&(s.size.width=s.size.height*s.aspectRatio))},stop:function(){var e=t(this).data("ui-resizable"),i=e.options,n=e.containerOffset,o=e.containerPosition,r=e.containerElement,s=t(e.helper),a=s.offset(),l=s.outerWidth()-e.sizeDiff.width,c=s.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(r.css("position"))&&t(this).css({left:a.left-o.left-n.left,width:l,height:c}),e._helper&&!i.animate&&/static/.test(r.css("position"))&&t(this).css({left:a.left-o.left-n.left,width:l,height:c})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).data("ui-resizable"),i=e.options,n=function(e){t(e).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?n(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],n(i.alsoResize)):t.each(i.alsoResize,function(t){n(t)})},resize:function(e,i){var n=t(this).data("ui-resizable"),o=n.options,r=n.originalSize,s=n.originalPosition,a={height:n.size.height-r.height||0,width:n.size.width-r.width||0,top:n.position.top-s.top||0,left:n.position.left-s.left||0},l=function(e,n){t(e).each(function(){var e=t(this),o=t(this).data("ui-resizable-alsoresize"),r={},s=n&&n.length?n:e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(s,function(t,e){var i=(o[e]||0)+(a[e]||0);i&&i>=0&&(r[e]=i||null)}),e.css(r)})};"object"!=typeof o.alsoResize||o.alsoResize.nodeType?l(o.alsoResize):t.each(o.alsoResize,function(t,e){l(t,e)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).data("ui-resizable"),i=e.options,n=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).data("ui-resizable");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).data("ui-resizable");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e=t(this).data("ui-resizable"),i=e.options,n=e.size,o=e.originalSize,r=e.originalPosition,s=e.axis,a="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=a[0]||1,c=a[1]||1,u=Math.round((n.width-o.width)/l)*l,d=Math.round((n.height-o.height)/c)*c,h=o.width+u,f=o.height+d,p=i.maxWidth&&i.maxWidth<h,m=i.maxHeight&&i.maxHeight<f,g=i.minWidth&&i.minWidth>h,v=i.minHeight&&i.minHeight>f;i.grid=a,g&&(h+=l),v&&(f+=c),p&&(h-=l),m&&(f-=c),/^(se|s|e)$/.test(s)?(e.size.width=h,e.size.height=f):/^(ne)$/.test(s)?(e.size.width=h,e.size.height=f,e.position.top=r.top-d):/^(sw)$/.test(s)?(e.size.width=h,e.size.height=f,e.position.left=r.left-u):(e.size.width=h,e.size.height=f,e.position.top=r.top-d,e.position.left=r.left-u)}})}(jQuery),function(t,e){t.widget("ui.selectable",t.ui.mouse,{version:"1.10.3",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e=t(i.options.filter,i.element[0]),e.addClass("ui-selectee"),e.each(function(){var e=t(this),i=e.offset();t.data(this,"selectable-item",{element:this,$element:e,left:i.left,top:i.top,right:i.left+e.outerWidth(),bottom:i.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(e){var i=this,n=this.options;this.opos=[e.pageX,e.pageY],this.options.disabled||(this.selectees=t(n.filter,this.element[0]),this._trigger("start",e),t(n.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var n=t.data(this,"selectable-item");n.startselected=!0,e.metaKey||e.ctrlKey||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element}))}),t(e.target).parents().addBack().each(function(){var n,o=t.data(this,"selectable-item");return o?(n=!e.metaKey&&!e.ctrlKey||!o.$element.hasClass("ui-selected"),o.$element.removeClass(n?"ui-unselecting":"ui-selected").addClass(n?"ui-selecting":"ui-unselecting"),o.unselecting=!n,o.selecting=n,o.selected=n,n?i._trigger("selecting",e,{selecting:o.element}):i._trigger("unselecting",e,{unselecting:o.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,n=this,o=this.options,r=this.opos[0],s=this.opos[1],a=e.pageX,l=e.pageY;return r>a&&(i=a,a=r,r=i),s>l&&(i=l,l=s,s=i),this.helper.css({left:r,top:s,width:a-r,height:l-s}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),c=!1;i&&i.element!==n.element[0]&&("touch"===o.tolerance?c=!(i.left>a||i.right<r||i.top>l||i.bottom<s):"fit"===o.tolerance&&(c=i.left>r&&i.right<a&&i.top>s&&i.bottom<l),c?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,n._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),n._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");n.$element.removeClass("ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",e,{unselected:n.element})}),t(".ui-selecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");n.$element.removeClass("ui-selecting").addClass("ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",e,{selected:n.element})}),this._trigger("stop",e),this.helper.remove(),!1}})}(jQuery),function(t,e){function i(t,e,i){return t>e&&e+i>t}function n(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))}t.widget("ui.sortable",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===t.axis||n(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_setOption:function(e,i){"disabled"===e?(this.options[e]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):t.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,i){var n=null,o=!1,r=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,r.widgetName+"-item")===r?(n=t(this),!1):void 0}),t.data(e.target,r.widgetName+"-item")===r&&(n=t(e.target)),n&&(!this.options.handle||i||(t(this.options.handle,n).find("*").addBack().each(function(){this===e.target&&(o=!0)}),o))?(this.currentItem=n,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(e,i,n){var o,r,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",s.cursor),this.storedStylesheet=t("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(r)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,n,o,r,s=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(e.pageY-t(document).scrollTop()<s.scrollSensitivity?a=t(document).scrollTop(t(document).scrollTop()-s.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<s.scrollSensitivity&&(a=t(document).scrollTop(t(document).scrollTop()+s.scrollSpeed)),e.pageX-t(document).scrollLeft()<s.scrollSensitivity?a=t(document).scrollLeft(t(document).scrollLeft()-s.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<s.scrollSensitivity&&(a=t(document).scrollLeft(t(document).scrollLeft()+s.scrollSpeed))),a!==!1&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=this.items[i],o=n.item[0],r=this._intersectsWithPointer(n),r&&n.instance===this.currentContainer&&o!==this.currentItem[0]&&this.placeholder[1===r?"next":"prev"]()[0]!==o&&!t.contains(this.placeholder[0],o)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],o):!0)){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(e,n),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var n=this,o=this.placeholder.offset(),r=this.options.axis,s={};r&&"x"!==r||(s.left=o.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(s.top=o.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){n._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),
this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&n.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},i.each(function(){n.push(t(e.item||this).attr(e.attribute||"id")||"")}),n},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,n=this.positionAbs.top,o=n+this.helperProportions.height,r=t.left,s=r+t.width,a=t.top,l=a+t.height,c=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||n+c>a&&l>n+c,h="y"===this.options.axis||e+u>r&&s>e+u,f=d&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?f:r<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<s&&a<n+this.helperProportions.height/2&&o-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e="x"===this.options.axis||i(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||i(this.positionAbs.left+this.offset.click.left,t.left,t.width),o=e&&n,r=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return o?this.floating?s&&"right"===s||"down"===r?2:1:r&&("down"===r?2:1):!1},_intersectsWithSides:function(t){var e=i(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=i(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),o=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:o&&("down"===o&&e||"up"===o&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var i,n,o,r,s=[],a=[],l=this._connectWith();if(l&&e)for(i=l.length-1;i>=0;i--)for(o=t(l[i]),n=o.length-1;n>=0;n--)r=t.data(o[n],this.widgetFullName),r&&r!==this&&!r.options.disabled&&a.push([t.isFunction(r.options.items)?r.options.items.call(r.element):t(r.options.items,r.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),r]);for(a.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=a.length-1;i>=0;i--)a[i][0].each(function(){s.push(this)});return t(s)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;i<e.length;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,n,o,r,s,a,l,c,u=this.items,d=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(i=h.length-1;i>=0;i--)for(o=t(h[i]),n=o.length-1;n>=0;n--)r=t.data(o[n],this.widgetFullName),r&&r!==this&&!r.options.disabled&&(d.push([t.isFunction(r.options.items)?r.options.items.call(r.element[0],e,{item:this.currentItem}):t(r.options.items,r.element),r]),this.containers.push(r));for(i=d.length-1;i>=0;i--)for(s=d[i][1],a=d[i][0],n=0,c=a.length;c>n;n++)l=t(a[n]),l.data(this.widgetName+"-item",s),u.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,n,o,r;for(i=this.items.length-1;i>=0;i--)n=this.items[i],n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(o=this.options.toleranceElement?t(this.options.toleranceElement,n.item):n.item,e||(n.width=o.outerWidth(),n.height=o.outerHeight()),r=o.offset(),n.left=r.left,n.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)r=this.containers[i].element.offset(),this.containers[i].containerCache.left=r.left,this.containers[i].containerCache.top=r.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,n=e.options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=e.currentItem[0].nodeName.toLowerCase(),o=t("<"+n+">",e.document[0]).addClass(i||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===n?e.currentItem.children().each(function(){t("<td>&#160;</td>",e.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(o)}):"img"===n&&o.attr("src",e.currentItem.attr("src")),i||o.css("visibility","hidden"),o},update:function(t,o){(!i||n.forcePlaceholderSize)&&(o.height()||o.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),o.width()||o.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(n.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),n.placeholder.update(e,e.placeholder)},_contactContainers:function(e){var o,r,s,a,l,c,u,d,h,f,p=null,m=null;for(o=this.containers.length-1;o>=0;o--)if(!t.contains(this.currentItem[0],this.containers[o].element[0]))if(this._intersectsWith(this.containers[o].containerCache)){if(p&&t.contains(this.containers[o].element[0],p.element[0]))continue;p=this.containers[o],m=o}else this.containers[o].containerCache.over&&(this.containers[o]._trigger("out",e,this._uiHash(this)),this.containers[o].containerCache.over=0);if(p)if(1===this.containers.length)this.containers[m].containerCache.over||(this.containers[m]._trigger("over",e,this._uiHash(this)),this.containers[m].containerCache.over=1);else{for(s=1e4,a=null,f=p.floating||n(this.currentItem),l=f?"left":"top",c=f?"width":"height",u=this.positionAbs[l]+this.offset.click[l],r=this.items.length-1;r>=0;r--)t.contains(this.containers[m].element[0],this.items[r].item[0])&&this.items[r].item[0]!==this.currentItem[0]&&(!f||i(this.positionAbs.top+this.offset.click.top,this.items[r].top,this.items[r].height))&&(d=this.items[r].item.offset()[l],h=!1,Math.abs(d-u)>Math.abs(d+this.items[r][c]-u)&&(h=!0,d+=this.items[r][c]),Math.abs(d-u)<s&&(s=Math.abs(d-u),a=this.items[r],this.direction=h?"up":"down"));if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[m])return;a?this._rearrange(e,a,null,!0):this._rearrange(e,null,this.containers[m].element,!0),this._trigger("change",e,this._uiHash()),this.containers[m]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[m],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[m]._trigger("over",e,this._uiHash(this)),this.containers[m].containerCache.over=1}},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!n[0].style.width||i.forceHelperSize)&&n.width(this.currentItem.width()),(!n[0].style.height||i.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,o=this.options;"parent"===o.containment&&(o.containment=this.helper[0].parentNode),("document"===o.containment||"window"===o.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"===o.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===o.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||(e=t(o.containment)[0],i=t(o.containment).offset(),n="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"===e?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(o[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:o.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:o.scrollLeft())*n}},_generatePosition:function(e){var i,n,o=this.options,r=e.pageX,s=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),o.grid&&(i=this.originalPageY+Math.round((s-this.originalPageY)/o.grid[1])*o.grid[1],s=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-o.grid[1]:i+o.grid[1]:i,n=this.originalPageX+Math.round((r-this.originalPageX)/o.grid[0])*o.grid[0],r=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-o.grid[0]:n+o.grid[0]:n)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay(function(){o===this.counter&&this.refreshPositions(!n)})},_clear:function(t,e){this.reverting=!1;var i,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||n.push(function(t){return function(e){t._trigger("deactivate",e,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over&&(n.push(function(t){return function(e){t._trigger("out",e,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){for(this._trigger("beforeStop",t,this._uiHash()),i=0;i<n.length;i++)n[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(i=0;i<n.length;i++)n[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}})}(jQuery),function(t,e){var i="ui-effects-";t.effects={effect:{}},/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */
function(t,e){function i(t,e,i){var n=d[e.type]||{};return null==t?i||!e.def?null:e.def:(t=n.floor?~~t:parseFloat(t),isNaN(t)?e.def:n.mod?(t+n.mod)%n.mod:0>t?0:n.max<t?n.max:t)}function n(e){var i=c(),n=i._rgba=[];return e=e.toLowerCase(),p(l,function(t,o){var r,s=o.re.exec(e),a=s&&o.parse(s),l=o.space||"rgba";return a?(r=i[l](a),i[u[l].cache]=r[u[l].cache],n=i._rgba=r._rgba,!1):void 0}),n.length?("0,0,0,0"===n.join()&&t.extend(n,r.transparent),i):r[e]}function o(t,e,i){return i=(i+1)%1,1>6*i?t+(e-t)*i*6:1>2*i?e:2>3*i?t+(e-t)*(2/3-i)*6:t}var r,s="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",a=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],c=t.Color=function(e,i,n,o){return new t.Color.fn.parse(e,i,n,o)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},d={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},h=c.support={},f=t("<p>")[0],p=t.each;f.style.cssText="background-color:rgba(1,1,1,.5)",h.rgba=f.style.backgroundColor.indexOf("rgba")>-1,p(u,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),c.fn=t.extend(c.prototype,{parse:function(o,s,a,l){if(o===e)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=t(o).css(s),s=e);var d=this,h=t.type(o),f=this._rgba=[];return s!==e&&(o=[o,s,a,l],h="array"),"string"===h?this.parse(n(o)||r._default):"array"===h?(p(u.rgba.props,function(t,e){f[e.idx]=i(o[e.idx],e)}),this):"object"===h?(o instanceof c?p(u,function(t,e){o[e.cache]&&(d[e.cache]=o[e.cache].slice())}):p(u,function(e,n){var r=n.cache;p(n.props,function(t,e){if(!d[r]&&n.to){if("alpha"===t||null==o[t])return;d[r]=n.to(d._rgba)}d[r][e.idx]=i(o[t],e,!0)}),d[r]&&t.inArray(null,d[r].slice(0,3))<0&&(d[r][3]=1,n.from&&(d._rgba=n.from(d[r])))}),this):void 0},is:function(t){var e=c(t),i=!0,n=this;return p(u,function(t,o){var r,s=e[o.cache];return s&&(r=n[o.cache]||o.to&&o.to(n._rgba)||[],p(o.props,function(t,e){return null!=s[e.idx]?i=s[e.idx]===r[e.idx]:void 0})),i}),i},_space:function(){var t=[],e=this;return p(u,function(i,n){e[n.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var n=c(t),o=n._space(),r=u[o],s=0===this.alpha()?c("transparent"):this,a=s[r.cache]||r.to(s._rgba),l=a.slice();return n=n[r.cache],p(r.props,function(t,o){var r=o.idx,s=a[r],c=n[r],u=d[o.type]||{};null!==c&&(null===s?l[r]=c:(u.mod&&(c-s>u.mod/2?s+=u.mod:s-c>u.mod/2&&(s-=u.mod)),l[r]=i((c-s)*e+s,o)))}),this[o](l)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),o=c(e)._rgba;return c(t.map(i,function(t,e){return(1-n)*o[e]+n*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),n=i.pop();return e&&i.push(~~(255*n)),"#"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),c.fn.parse.prototype=c.fn,u.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,n=t[0]/255,o=t[1]/255,r=t[2]/255,s=t[3],a=Math.max(n,o,r),l=Math.min(n,o,r),c=a-l,u=a+l,d=.5*u;return e=l===a?0:n===a?60*(o-r)/c+360:o===a?60*(r-n)/c+120:60*(n-o)/c+240,i=0===c?0:.5>=d?c/u:c/(2-u),[Math.round(e)%360,i,d,null==s?1:s]},u.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],n=t[2],r=t[3],s=.5>=n?n*(1+i):n+i-n*i,a=2*n-s;return[Math.round(255*o(a,s,e+1/3)),Math.round(255*o(a,s,e)),Math.round(255*o(a,s,e-1/3)),r]},p(u,function(n,o){var r=o.props,s=o.cache,l=o.to,u=o.from;c.fn[n]=function(n){if(l&&!this[s]&&(this[s]=l(this._rgba)),n===e)return this[s].slice();var o,a=t.type(n),d="array"===a||"object"===a?n:arguments,h=this[s].slice();return p(r,function(t,e){var n=d["object"===a?t:e.idx];null==n&&(n=h[e.idx]),h[e.idx]=i(n,e)}),u?(o=c(u(h)),o[s]=h,o):c(h)},p(r,function(e,i){c.fn[e]||(c.fn[e]=function(o){var r,s=t.type(o),l="alpha"===e?this._hsla?"hsla":"rgba":n,c=this[l](),u=c[i.idx];return"undefined"===s?u:("function"===s&&(o=o.call(this,u),s=t.type(o)),null==o&&i.empty?this:("string"===s&&(r=a.exec(o),r&&(o=u+parseFloat(r[2])*("+"===r[1]?1:-1))),c[i.idx]=o,this[l](c)))})})}),c.hook=function(e){var i=e.split(" ");p(i,function(e,i){t.cssHooks[i]={set:function(e,o){var r,s,a="";if("transparent"!==o&&("string"!==t.type(o)||(r=n(o)))){if(o=c(r||o),!h.rgba&&1!==o._rgba[3]){for(s="backgroundColor"===i?e.parentNode:e;(""===a||"transparent"===a)&&s&&s.style;)try{a=t.css(s,"backgroundColor"),s=s.parentNode}catch(l){}o=o.blend(a&&"transparent"!==a?a:"_default")}o=o.toRgbaString()}try{e.style[i]=o}catch(l){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=c(e.elem,i),e.end=c(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},c.hook(s),t.cssHooks.borderColor={expand:function(t){var e={};return p(["Top","Right","Bottom","Left"],function(i,n){e["border"+n+"Color"]=t}),e}},r=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function i(e){var i,n,o=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,r={};if(o&&o.length&&o[0]&&o[o[0]])for(n=o.length;n--;)i=o[n],"string"==typeof o[i]&&(r[t.camelCase(i)]=o[i]);else for(i in o)"string"==typeof o[i]&&(r[i]=o[i]);return r}function n(e,i){var n,o,s={};for(n in i)o=i[n],e[n]!==o&&(r[n]||(t.fx.step[n]||!isNaN(parseFloat(o)))&&(s[n]=o));return s}var o=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(jQuery.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(e,r,s,a){var l=t.speed(r,s,a);return this.queue(function(){var r,s=t(this),a=s.attr("class")||"",c=l.children?s.find("*").addBack():s;c=c.map(function(){var e=t(this);return{el:e,start:i(this)}}),r=function(){t.each(o,function(t,i){e[i]&&s[i+"Class"](e[i])})},r(),c=c.map(function(){return this.end=i(this.el[0]),this.diff=n(this.start,this.end),this}),s.attr("class",a),c=c.map(function(){var e=this,i=t.Deferred(),n=t.extend({},l,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,n),i.promise()}),t.when.apply(t,c.get()).done(function(){r(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(s[0])})})},t.fn.extend({addClass:function(e){return function(i,n,o,r){return n?t.effects.animateClass.call(this,{add:i},n,o,r):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,n,o,r){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},n,o,r):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(i){return function(n,o,r,s,a){return"boolean"==typeof o||o===e?r?t.effects.animateClass.call(this,o?{add:n}:{remove:n},r,s,a):i.apply(this,arguments):t.effects.animateClass.call(this,{toggle:n},o,r,s)}}(t.fn.toggleClass),switchClass:function(e,i,n,o,r){return t.effects.animateClass.call(this,{add:i,remove:e},n,o,r)}})}(),function(){function n(e,i,n,o){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(o=i,n=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(o=n,n=i,i={}),t.isFunction(n)&&(o=n,n=null),i&&t.extend(e,i),n=n||i.duration,e.duration=t.fx.off?0:"number"==typeof n?n:n in t.fx.speeds?t.fx.speeds[n]:t.fx.speeds._default,e.complete=o||i.complete,e}function o(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:"object"!=typeof e||e.effect?!1:!0:!0}t.extend(t.effects,{version:"1.10.3",save:function(t,e){for(var n=0;n<e.length;n++)null!==e[n]&&t.data(i+e[n],t[0].style[e[n]])},restore:function(t,n){var o,r;for(r=0;r<n.length;r++)null!==n[r]&&(o=t.data(i+n[r]),o===e&&(o=""),t.css(n[r],o))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var i,n;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=t[1]/e.width}return{x:n,y:i}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},n=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),o={width:e.width(),height:e.height()},r=document.activeElement;try{r.id}catch(s){r=document.body}return e.wrap(n),(e[0]===r||t.contains(e[0],r))&&t(r).focus(),n=e.parent(),"static"===e.css("position")?(n.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,n){i[n]=e.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(o),n.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).focus()),e},setTransition:function(e,i,n,o){return o=o||{},t.each(i,function(t,i){var r=e.cssUnit(i);r[0]>0&&(o[i]=r[0]*n+r[1])}),o}}),t.fn.extend({effect:function(){function e(e){function n(){t.isFunction(r)&&r.call(o[0]),t.isFunction(e)&&e()}var o=t(this),r=i.complete,a=i.mode;(o.is(":hidden")?"hide"===a:"show"===a)?(o[a](),n()):s.call(o[0],i,n)}var i=n.apply(this,arguments),o=i.mode,r=i.queue,s=t.effects.effect[i.effect];return t.fx.off||!s?o?this[o](i.duration,i.complete):this.each(function(){i.complete&&i.complete.call(this)}):r===!1?this.each(e):this.queue(r||"fx",e)},show:function(t){return function(e){if(o(e))return t.apply(this,arguments);var i=n.apply(this,arguments);return i.mode="show",this.effect.call(this,i)}}(t.fn.show),hide:function(t){return function(e){if(o(e))return t.apply(this,arguments);var i=n.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}}(t.fn.hide),toggle:function(t){return function(e){if(o(e)||"boolean"==typeof e)return t.apply(this,arguments);var i=n.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),n=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(n=[parseFloat(i),e])}),n}})}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;t<((e=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?i(2*t)/2:1-i(-2*t+2)/2}})}()}(jQuery),function(t,e){var i=0,n={},o={};n.height=n.paddingTop=n.paddingBottom=n.borderTopWidth=n.borderBottomWidth="hide",o.height=o.paddingTop=o.paddingBottom=o.borderTopWidth=o.borderBottomWidth="show",t.widget("ui.accordion",{version:"1.10.3",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),e.collapsible||e.active!==!1&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t(),content:this.active.length?this.active.next():t()}},_createIcons:function(){var e=this.options.icons;e&&(t("<span>").addClass("ui-accordion-header-icon ui-icon "+e.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(e.header).addClass(e.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?void this._activate(e):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||this.options.active!==!1||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),void("disabled"===t&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!e)))},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,n=this.headers.length,o=this.headers.index(e.target),r=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:r=this.headers[(o+1)%n];break;case i.LEFT:case i.UP:r=this.headers[(o-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:r=this.headers[0];break;case i.END:r=this.headers[n-1]}r&&(t(e.target).attr("tabIndex",-1),t(r).attr("tabIndex",0),r.focus(),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().focus()},refresh:function(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var e,n=this.options,o=n.heightStyle,r=this.element.parent(),s=this.accordionId="ui-accordion-"+(this.element.attr("id")||++i);this.active=this._findActive(n.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(e){var i=t(this),n=i.attr("id"),o=i.next(),r=o.attr("id");n||(n=s+"-header-"+e,i.attr("id",n)),r||(r=s+"-panel-"+e,o.attr("id",r)),i.attr("aria-controls",r),o.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===o?(e=r.height(),this.element.siblings(":visible").each(function(){var i=t(this),n=i.css("position");"absolute"!==n&&"fixed"!==n&&(e-=i.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===o&&(e=0,this.headers.next().each(function(){e=Math.max(e,t(this).css("height","").height())}).height(e))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i=this.options,n=this.active,o=t(e.currentTarget),r=o[0]===n[0],s=r&&i.collapsible,a=s?t():o.next(),l=n.next(),c={oldHeader:n,oldPanel:l,newHeader:s?t():o,newPanel:a};e.preventDefault(),r&&!i.collapsible||this._trigger("beforeActivate",e,c)===!1||(i.active=s?!1:this.headers.index(o),this.active=r?t():o,this._toggle(c),n.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),r||(o.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&o.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),o.next().addClass("ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,n=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=n,this.options.animate?this._animate(i,n,e):(n.hide(),i.show(),this._toggleComplete(e)),n.attr({"aria-expanded":"false","aria-hidden":"true"}),n.prev().attr("aria-selected","false"),i.length&&n.length?n.prev().attr("tabIndex",-1):i.length&&this.headers.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),i.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(t,e,i){var r,s,a,l=this,c=0,u=t.length&&(!e.length||t.index()<e.index()),d=this.options.animate||{},h=u&&d.down||d,f=function(){l._toggleComplete(i)};return"number"==typeof h&&(a=h),"string"==typeof h&&(s=h),s=s||h.easing||d.easing,a=a||h.duration||d.duration,e.length?t.length?(r=t.show().outerHeight(),e.animate(n,{duration:a,easing:s,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(o,{duration:a,easing:s,complete:f,step:function(t,i){i.now=Math.round(t),"height"!==i.prop?c+=i.now:"content"!==l.options.heightStyle&&(i.now=Math.round(r-e.outerHeight()-c),c=0)}})):e.animate(n,a,s,f):t.animate(o,a,s,f)},_toggleComplete:function(t){var e=t.oldPanel;e.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}})}(jQuery),function(t,e){var i=0;t.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var e,i,n,o=this.element[0].nodeName.toLowerCase(),r="textarea"===o,s="input"===o;this.isMultiLine=r?!0:s?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[r||s?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(o){if(this.element.prop("readOnly"))return e=!0,n=!0,void(i=!0);e=!1,n=!1,i=!1;var r=t.ui.keyCode;switch(o.keyCode){case r.PAGE_UP:e=!0,this._move("previousPage",o);break;case r.PAGE_DOWN:e=!0,this._move("nextPage",o);break;case r.UP:e=!0,this._keyEvent("previous",o);break;case r.DOWN:e=!0,this._keyEvent("next",o);break;case r.ENTER:case r.NUMPAD_ENTER:this.menu.active&&(e=!0,o.preventDefault(),this.menu.select(o));break;case r.TAB:this.menu.active&&this.menu.select(o);break;case r.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(o),o.preventDefault());break;default:i=!0,this._searchTimeout(o)}},keypress:function(n){if(e)return e=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&n.preventDefault());if(!i){var o=t.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:this._move("previousPage",n);break;case o.PAGE_DOWN:this._move("nextPage",n);break;case o.UP:this._keyEvent("previous",n);break;case o.DOWN:this._keyEvent("next",n)}}},input:function(t){return n?(n=!1,void t.preventDefault()):void this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),void this._change(t))}}),this._initSource(),this.menu=t("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];t(e.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;this.document.one("mousedown",function(n){n.target===e.element[0]||n.target===i||t.contains(i,n.target)||e.close()})})},menufocus:function(e,i){if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)});var n=i.item.data("ui-autocomplete-item");!1!==this._trigger("focus",e,{item:n})?e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(n.value):this.liveRegion.text(n.value)},menuselect:function(t,e){var i=e.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=i})),!1!==this._trigger("select",t,{item:i})&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i}}),this.liveRegion=t("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,n=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,n){n(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,o){n.xhr&&n.xhr.abort(),n.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){o(t)},error:function(){o([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var t=this,e=++i;return function(n){e===i&&t.__response(n),t.pending--,t.pending||t.element.removeClass("ui-autocomplete-loading")}},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({label:e.label||e.value,value:e.value||e.label},e)})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var n=this;t.each(i,function(t,i){n._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").append(t("<a>").text(i.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var n=new RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return n.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var e;this._superApply(arguments),this.options.disabled||this.cancelSearch||(e=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.text(e))}})}(jQuery),function(t,e){var i,n,o,r,s="ui-button ui-widget ui-state-default ui-corner-all",a="ui-state-hover ui-state-active ",l="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",c=function(){var e=t(this);setTimeout(function(){e.find(":ui-button").button("refresh")},1)},u=function(e){var i=e.name,n=e.form,o=t([]);return i&&(i=i.replace(/'/g,"\\'"),o=n?t(n).find("[name='"+i+"']"):t("[name='"+i+"']",e.ownerDocument).filter(function(){return!this.form})),o};t.widget("ui.button",{version:"1.10.3",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,c),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var e=this,a=this.options,l="checkbox"===this.type||"radio"===this.type,d=l?"":"ui-state-active",h="ui-state-focus";null===a.label&&(a.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(s).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){a.disabled||this===i&&t(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){a.disabled||t(this).removeClass(d)}).bind("click"+this.eventNamespace,function(t){a.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){e.buttonElement.addClass(h)}).bind("blur"+this.eventNamespace,function(){e.buttonElement.removeClass(h)}),l&&(this.element.bind("change"+this.eventNamespace,function(){r||e.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(t){a.disabled||(r=!1,n=t.pageX,o=t.pageY)}).bind("mouseup"+this.eventNamespace,function(t){a.disabled||(n!==t.pageX||o!==t.pageY)&&(r=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return a.disabled||r?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(a.disabled||r)return!1;t(this).addClass("ui-state-active"),e.buttonElement.attr("aria-pressed","true");var i=e.element[0];u(i).not(i).map(function(){return t(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return a.disabled?!1:(t(this).addClass("ui-state-active"),i=this,void e.document.one("mouseup",function(){i=null}))}).bind("mouseup"+this.eventNamespace,function(){return a.disabled?!1:void t(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(e){return a.disabled?!1:void((e.keyCode===t.ui.keyCode.SPACE||e.keyCode===t.ui.keyCode.ENTER)&&t(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){t(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===t.ui.keyCode.SPACE&&t(this).click()})),this._setOption("disabled",a.disabled),this._resetButton()},_determineButtonType:function(){var t,e,i;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(s+" "+a+" "+l).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),
this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(t,e){return this._super(t,e),"disabled"===t?void(e?this.element.prop("disabled",!0):this.element.prop("disabled",!1)):void this._resetButton()},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?u(this.element[0]).each(function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var e=this.buttonElement.removeClass(l),i=t("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),n=this.options.icons,o=n.primary&&n.secondary,r=[];n.primary||n.secondary?(this.options.text&&r.push("ui-button-text-icon"+(o?"s":n.primary?"-primary":"-secondary")),n.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(r.push(o?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",t.trim(i)))):r.push("ui-button-text-only"),e.addClass(r.join(" "))}}),t.widget("ui.buttonset",{version:"1.10.3",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var e="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function(t,e){function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.dpDiv=n(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(i,"mouseout",function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",function(){t.datepicker._isDisabledDatepicker(r.inline?e.parent()[0]:r.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))})}function o(e,i){t.extend(e,i);for(var n in i)null==i[n]&&(e[n]=i[n]);return e}t.extend(t.ui,{datepicker:{version:"1.10.3"}});var r,s="datepicker";t.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return o(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var n,o,r;n=e.nodeName.toLowerCase(),o="div"===n||"span"===n,e.id||(this.uuid+=1,e.id="dp"+this.uuid),r=this._newInst(t(e),o),r.settings=t.extend({},i||{}),"input"===n?this._connectDatepicker(e,r):o&&this._inlineDatepicker(e,r)},_newInst:function(e,i){var o=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:o,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var n=t(e);i.append=t([]),i.trigger=t([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),t.data(e,s,i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var n,o,r,s=this._get(i,"appendText"),a=this._get(i,"isRTL");i.append&&i.append.remove(),s&&(i.append=t("<span class='"+this._appendClass+"'>"+s+"</span>"),e[a?"before":"after"](i.append)),e.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),n=this._get(i,"showOn"),("focus"===n||"both"===n)&&e.focus(this._showDatepicker),("button"===n||"both"===n)&&(o=this._get(i,"buttonText"),r=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:r,alt:o,title:o}):t("<button type='button'></button>").addClass(this._triggerClass).html(r?t("<img/>").attr({src:r,alt:o,title:o}):o)),e[a?"before":"after"](i.trigger),i.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,n,o,r=new Date(2009,11,20),s=this._get(t,"dateFormat");s.match(/[DM]/)&&(e=function(t){for(i=0,n=0,o=0;o<t.length;o++)t[o].length>i&&(i=t[o].length,n=o);return n},r.setMonth(e(this._get(t,s.match(/MM/)?"monthNames":"monthNamesShort"))),r.setDate(e(this._get(t,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-r.getDay())),t.input.attr("size",this._formatDate(t,r).length)}},_inlineDatepicker:function(e,i){var n=t(e);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),t.data(e,s,i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,n,r,a){var l,c,u,d,h,f=this._dialogInst;return f||(this.uuid+=1,l="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+l+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),f=this._dialogInst=this._newInst(this._dialogInput,!1),f.settings={},t.data(this._dialogInput[0],s,f)),o(f.settings,r||{}),i=i&&i.constructor===Date?this._formatDate(f,i):i,this._dialogInput.val(i),this._pos=a?a.length?a:[a.pageX,a.pageY]:null,this._pos||(c=document.documentElement.clientWidth,u=document.documentElement.clientHeight,d=document.documentElement.scrollLeft||document.body.scrollLeft,h=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[c/2-100+d,u/2-150+h]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),f.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],s,f),this},_destroyDatepicker:function(e){var i,n=t(e),o=t.data(e,s);n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,s),"input"===i?(o.append.remove(),o.trigger.remove(),n.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&n.removeClass(this.markerClassName).empty())},_enableDatepicker:function(e){var i,n,o=t(e),r=t.data(e,s);o.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!1,r.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(n=o.children("."+this._inlineClass),n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,n,o=t(e),r=t.data(e,s);o.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!0,r.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(n=o.children("."+this._inlineClass),n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,s)}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(i,n,r){var s,a,l,c,u=this._getInst(i);return 2===arguments.length&&"string"==typeof n?"defaults"===n?t.extend({},t.datepicker._defaults):u?"all"===n?t.extend({},u.settings):this._get(u,n):null:(s=n||{},"string"==typeof n&&(s={},s[n]=r),void(u&&(this._curInst===u&&this._hideDatepicker(),a=this._getDateDatepicker(i,!0),l=this._getMinMaxDate(u,"min"),c=this._getMinMaxDate(u,"max"),o(u.settings,s),null!==l&&s.dateFormat!==e&&s.minDate===e&&(u.settings.minDate=this._formatDate(u,l)),null!==c&&s.dateFormat!==e&&s.maxDate===e&&(u.settings.maxDate=this._formatDate(u,c)),"disabled"in s&&(s.disabled?this._disableDatepicker(i):this._enableDatepicker(i)),this._attachments(t(i),u),this._autoSize(u),this._setDate(u,a),this._updateAlternate(u),this._updateDatepicker(u))))},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,n,o,r=t.datepicker._getInst(e.target),s=!0,a=r.dpDiv.is(".ui-datepicker-rtl");if(r._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),s=!1;break;case 13:return o=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",r.dpDiv),o[0]&&t.datepicker._selectDay(e.target,r.selectedMonth,r.selectedYear,o[0]),i=t.datepicker._get(r,"onSelect"),i?(n=t.datepicker._formatDate(r),i.apply(r.input?r.input[0]:null,[n,r])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(r,"stepBigMonths"):-t.datepicker._get(r,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(r,"stepBigMonths"):+t.datepicker._get(r,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),s=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),s=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?1:-1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(r,"stepBigMonths"):-t.datepicker._get(r,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),s=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?-1:1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(r,"stepBigMonths"):+t.datepicker._get(r,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),s=e.ctrlKey||e.metaKey;break;default:s=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):s=!1;s&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,n,o=t.datepicker._getInst(e.target);return t.datepicker._get(o,"constrainInput")?(i=t.datepicker._possibleChars(t.datepicker._get(o,"dateFormat")),n=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">n||!i||i.indexOf(n)>-1):void 0},_doKeyUp:function(e){var i,n=t.datepicker._getInst(e.target);if(n.input.val()!==n.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,t.datepicker._getFormatConfig(n)),i&&(t.datepicker._setDateFromField(n),t.datepicker._updateAlternate(n),t.datepicker._updateDatepicker(n))}catch(o){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var i,n,r,s,a,l,c;i=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),n=t.datepicker._get(i,"beforeShow"),r=n?n.apply(e,[e,i]):{},r!==!1&&(o(i.settings,r),i.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),s=!1,t(e).parents().each(function(){return s|="fixed"===t(this).css("position"),!s}),a={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),a=t.datepicker._checkOffset(i,a,s),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":s?"fixed":"absolute",display:"none",left:a.left+"px",top:a.top+"px"}),i.inline||(l=t.datepicker._get(i,"showAnim"),c=t.datepicker._get(i,"duration"),i.dpDiv.zIndex(t(e).zIndex()+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[l]?i.dpDiv.show(l,t.datepicker._get(i,"showOptions"),c):i.dpDiv[l||"show"](l?c:null),t.datepicker._shouldFocusInput(i)&&i.input.focus(),t.datepicker._curInst=i))}},_updateDatepicker:function(e){this.maxRows=4,r=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e),e.dpDiv.find("."+this._dayOverClass+" a").mouseover();var i,n=this._getNumberOfMonths(e),o=n[1],s=17;e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),o>1&&e.dpDiv.addClass("ui-datepicker-multi-"+o).css("width",s*o+"em"),e.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,n){var o=e.dpDiv.outerWidth(),r=e.dpDiv.outerHeight(),s=e.input?e.input.outerWidth():0,a=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:t(document).scrollLeft()),c=document.documentElement.clientHeight+(n?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?o-s:0,i.left-=n&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=n&&i.top===e.input.offset().top+a?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+o>l&&l>o?Math.abs(i.left+o-l):0),i.top-=Math.min(i.top,i.top+r>c&&c>r?Math.abs(r+a):0),i},_findPos:function(e){for(var i,n=this._getInst(e),o=this._get(n,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[o?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,n,o,r,a=this._curInst;!a||e&&a!==t.data(e,s)||this._datepickerShowing&&(i=this._get(a,"showAnim"),n=this._get(a,"duration"),o=function(){t.datepicker._tidyDialog(a)},t.effects&&(t.effects.effect[i]||t.effects[i])?a.dpDiv.hide(i,t.datepicker._get(a,"showOptions"),n,o):a.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,o),i||o(),this._datepickerShowing=!1,r=this._get(a,"onClose"),r&&r.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),n=t.datepicker._getInst(i[0]);(i[0].id!==t.datepicker._mainDivId&&0===i.parents("#"+t.datepicker._mainDivId).length&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==n)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,n){var o=t(e),r=this._getInst(o[0]);this._isDisabledDatepicker(o[0])||(this._adjustInstDate(r,i+("M"===n?this._get(r,"showCurrentAtPos"):0),n),this._updateDatepicker(r))},_gotoToday:function(e){var i,n=t(e),o=this._getInst(n[0]);this._get(o,"gotoCurrent")&&o.currentDay?(o.selectedDay=o.currentDay,o.drawMonth=o.selectedMonth=o.currentMonth,o.drawYear=o.selectedYear=o.currentYear):(i=new Date,o.selectedDay=i.getDate(),o.drawMonth=o.selectedMonth=i.getMonth(),o.drawYear=o.selectedYear=i.getFullYear()),this._notifyChange(o),this._adjustDate(n)},_selectMonthYear:function(e,i,n){var o=t(e),r=this._getInst(o[0]);r["selected"+("M"===n?"Month":"Year")]=r["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(r),this._adjustDate(o)},_selectDay:function(e,i,n,o){var r,s=t(e);t(o).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0])||(r=this._getInst(s[0]),r.selectedDay=r.currentDay=t("a",o).html(),r.selectedMonth=r.currentMonth=i,r.selectedYear=r.currentYear=n,this._selectDate(e,this._formatDate(r,r.currentDay,r.currentMonth,r.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var n,o=t(e),r=this._getInst(o[0]);i=null!=i?i:this._formatDate(r),r.input&&r.input.val(i),this._updateAlternate(r),n=this._get(r,"onSelect"),n?n.apply(r.input?r.input[0]:null,[i,r]):r.input&&r.input.trigger("change"),r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],"object"!=typeof r.input[0]&&r.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var i,n,o,r=this._get(e,"altField");r&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),n=this._getDate(e),o=this.formatDate(i,n,this._getFormatConfig(e)),t(r).each(function(){t(this).val(o)}))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,n){if(null==e||null==i)throw"Invalid arguments";if(i="object"==typeof i?i.toString():i+"",""===i)return null;var o,r,s,a,l=0,c=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),d=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,h=(n?n.dayNames:null)||this._defaults.dayNames,f=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,p=(n?n.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,y=-1,b=!1,x=function(t){var i=o+1<e.length&&e.charAt(o+1)===t;return i&&o++,i},_=function(t){var e=x(t),n="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,o=new RegExp("^\\d{1,"+n+"}"),r=i.substring(l).match(o);if(!r)throw"Missing number at position "+l;return l+=r[0].length,parseInt(r[0],10)},w=function(e,n,o){var r=-1,s=t.map(x(e)?o:n,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(s,function(t,e){var n=e[1];return i.substr(l,n.length).toLowerCase()===n.toLowerCase()?(r=e[0],l+=n.length,!1):void 0}),-1!==r)return r+1;throw"Unknown name at position "+l},C=function(){if(i.charAt(l)!==e.charAt(o))throw"Unexpected literal at position "+l;l++};for(o=0;o<e.length;o++)if(b)"'"!==e.charAt(o)||x("'")?C():b=!1;else switch(e.charAt(o)){case"d":v=_("d");break;case"D":w("D",d,h);break;case"o":y=_("o");break;case"m":g=_("m");break;case"M":g=w("M",f,p);break;case"y":m=_("y");break;case"@":a=new Date(_("@")),m=a.getFullYear(),g=a.getMonth()+1,v=a.getDate();break;case"!":a=new Date((_("!")-this._ticksTo1970)/1e4),m=a.getFullYear(),g=a.getMonth()+1,v=a.getDate();break;case"'":x("'")?C():b=!0;break;default:C()}if(l<i.length&&(s=i.substr(l),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u>=m?0:-100)),y>-1)for(g=1,v=y;;){if(r=this._getDaysInMonth(m,g-1),r>=v)break;g++,v-=r}if(a=this._daylightSavingAdjust(new Date(m,g-1,v)),a.getFullYear()!==m||a.getMonth()+1!==g||a.getDate()!==v)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,i){if(!e)return"";var n,o=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,r=(i?i.dayNames:null)||this._defaults.dayNames,s=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,l=function(e){var i=n+1<t.length&&t.charAt(n+1)===e;return i&&n++,i},c=function(t,e,i){var n=""+e;if(l(t))for(;n.length<i;)n="0"+n;return n},u=function(t,e,i,n){return l(t)?n[e]:i[e]},d="",h=!1;if(e)for(n=0;n<t.length;n++)if(h)"'"!==t.charAt(n)||l("'")?d+=t.charAt(n):h=!1;else switch(t.charAt(n)){case"d":d+=c("d",e.getDate(),2);break;case"D":d+=u("D",e.getDay(),o,r);break;case"o":d+=c("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=c("m",e.getMonth()+1,2);break;case"M":d+=u("M",e.getMonth(),s,a);break;case"y":d+=l("y")?e.getFullYear():(e.getYear()%100<10?"0":"")+e.getYear()%100;break;case"@":d+=e.getTime();break;case"!":d+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?d+="'":h=!0;break;default:d+=t.charAt(n)}return d},_possibleChars:function(t){var e,i="",n=!1,o=function(i){var n=e+1<t.length&&t.charAt(e+1)===i;return n&&e++,n};for(e=0;e<t.length;e++)if(n)"'"!==t.charAt(e)||o("'")?i+=t.charAt(e):n=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":o("'")?i+="'":n=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,i){return t.settings[i]!==e?t.settings[i]:this._defaults[i]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),n=t.lastVal=t.input?t.input.val():null,o=this._getDefaultDate(t),r=o,s=this._getFormatConfig(t);try{r=this.parseDate(i,n,s)||o}catch(a){n=e?"":n}t.selectedDay=r.getDate(),t.drawMonth=t.selectedMonth=r.getMonth(),t.drawYear=t.selectedYear=r.getFullYear(),t.currentDay=n?r.getDate():0,t.currentMonth=n?r.getMonth():0,t.currentYear=n?r.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,n){var o=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},r=function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(n){}for(var o=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,r=o.getFullYear(),s=o.getMonth(),a=o.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,c=l.exec(i);c;){switch(c[2]||"d"){case"d":case"D":a+=parseInt(c[1],10);break;case"w":case"W":a+=7*parseInt(c[1],10);break;case"m":case"M":s+=parseInt(c[1],10),a=Math.min(a,t.datepicker._getDaysInMonth(r,s));break;case"y":case"Y":r+=parseInt(c[1],10),a=Math.min(a,t.datepicker._getDaysInMonth(r,s))}c=l.exec(i)}return new Date(r,s,a)},s=null==i||""===i?n:"string"==typeof i?r(i):"number"==typeof i?isNaN(i)?n:o(i):new Date(i.getTime());return s=s&&"Invalid Date"===s.toString()?n:s,s&&(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)),this._daylightSavingAdjust(s)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var n=!e,o=t.selectedMonth,r=t.selectedYear,s=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=s.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=s.getMonth(),t.drawYear=t.selectedYear=t.currentYear=s.getFullYear(),o===t.selectedMonth&&r===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(n?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(n,-i,"M")},next:function(){t.datepicker._adjustDate(n,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(n)},selectDay:function(){return t.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(n,this,"Y"),!1}};t(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,n,o,r,s,a,l,c,u,d,h,f,p,m,g,v,y,b,x,_,w,C,k,T,S,N,D,E,P,A,M,I,$,R,O,L,F,H,B=new Date,z=this._daylightSavingAdjust(new Date(B.getFullYear(),B.getMonth(),B.getDate())),W=this._get(t,"isRTL"),j=this._get(t,"showButtonPanel"),V=this._get(t,"hideIfNoPrevNext"),U=this._get(t,"navigationAsDateFormat"),q=this._getNumberOfMonths(t),Y=this._get(t,"showCurrentAtPos"),X=this._get(t,"stepMonths"),G=1!==q[0]||1!==q[1],K=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(t,"min"),J=this._getMinMaxDate(t,"max"),Z=t.drawMonth-Y,tt=t.drawYear;if(0>Z&&(Z+=12,tt--),J)for(e=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-q[0]*q[1]+1,J.getDate())),e=Q&&Q>e?Q:e;this._daylightSavingAdjust(new Date(tt,Z,1))>e;)Z--,0>Z&&(Z=11,tt--);for(t.drawMonth=Z,t.drawYear=tt,i=this._get(t,"prevText"),i=U?this.formatDate(i,this._daylightSavingAdjust(new Date(tt,Z-X,1)),this._getFormatConfig(t)):i,n=this._canAdjustMonth(t,-1,tt,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+i+"</span></a>":V?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+i+"</span></a>",o=this._get(t,"nextText"),o=U?this.formatDate(o,this._daylightSavingAdjust(new Date(tt,Z+X,1)),this._getFormatConfig(t)):o,r=this._canAdjustMonth(t,1,tt,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+o+"</span></a>":V?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+o+"</span></a>",s=this._get(t,"currentText"),a=this._get(t,"gotoCurrent")&&t.currentDay?K:z,s=U?this.formatDate(s,a,this._getFormatConfig(t)):s,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",c=j?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(W?l:"")+(this._isInRange(t,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(W?"":l)+"</div>":"",u=parseInt(this._get(t,"firstDay"),10),u=isNaN(u)?0:u,d=this._get(t,"showWeek"),h=this._get(t,"dayNames"),f=this._get(t,"dayNamesMin"),p=this._get(t,"monthNames"),m=this._get(t,"monthNamesShort"),g=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),y=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),x="",w=0;w<q[0];w++){for(C="",this.maxRows=4,k=0;k<q[1];k++){if(T=this._daylightSavingAdjust(new Date(tt,Z,t.selectedDay)),S=" ui-corner-all",N="",G){if(N+="<div class='ui-datepicker-group",q[1]>1)switch(k){case 0:N+=" ui-datepicker-group-first",S=" ui-corner-"+(W?"right":"left");break;case q[1]-1:N+=" ui-datepicker-group-last",S=" ui-corner-"+(W?"left":"right");break;default:N+=" ui-datepicker-group-middle",S=""}N+="'>"}for(N+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+S+"'>"+(/all|left/.test(S)&&0===w?W?r:n:"")+(/all|right/.test(S)&&0===w?W?n:r:"")+this._generateMonthYearHeader(t,Z,tt,Q,J,w>0||k>0,p,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",D=d?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",_=0;7>_;_++)E=(_+u)%7,D+="<th"+((_+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+h[E]+"'>"+f[E]+"</span></th>";for(N+=D+"</tr></thead><tbody>",P=this._getDaysInMonth(tt,Z),tt===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,P)),A=(this._getFirstDayOfMonth(tt,Z)-u+7)%7,M=Math.ceil((A+P)/7),I=G&&this.maxRows>M?this.maxRows:M,this.maxRows=I,$=this._daylightSavingAdjust(new Date(tt,Z,1-A)),R=0;I>R;R++){for(N+="<tr>",O=d?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")($)+"</td>":"",_=0;7>_;_++)L=g?g.apply(t.input?t.input[0]:null,[$]):[!0,""],F=$.getMonth()!==Z,H=F&&!y||!L[0]||Q&&Q>$||J&&$>J,O+="<td class='"+((_+u+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+($.getTime()===T.getTime()&&Z===t.selectedMonth&&t._keyEvent||b.getTime()===$.getTime()&&b.getTime()===T.getTime()?" "+this._dayOverClass:"")+(H?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!v?"":" "+L[1]+($.getTime()===K.getTime()?" "+this._currentClass:"")+($.getTime()===z.getTime()?" ui-datepicker-today":""))+"'"+(F&&!v||!L[2]?"":" title='"+L[2].replace(/'/g,"&#39;")+"'")+(H?"":" data-handler='selectDay' data-event='click' data-month='"+$.getMonth()+"' data-year='"+$.getFullYear()+"'")+">"+(F&&!v?"&#xa0;":H?"<span class='ui-state-default'>"+$.getDate()+"</span>":"<a class='ui-state-default"+($.getTime()===z.getTime()?" ui-state-highlight":"")+($.getTime()===K.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+$.getDate()+"</a>")+"</td>",
$.setDate($.getDate()+1),$=this._daylightSavingAdjust($);N+=O+"</tr>"}Z++,Z>11&&(Z=0,tt++),N+="</tbody></table>"+(G?"</div>"+(q[0]>0&&k===q[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),C+=N}x+=C}return x+=c,t._keyEvent=!1,x},_generateMonthYearHeader:function(t,e,i,n,o,r,s,a){var l,c,u,d,h,f,p,m,g=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),y=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",x="";if(r||!g)x+="<span class='ui-datepicker-month'>"+s[e]+"</span>";else{for(l=n&&n.getFullYear()===i,c=o&&o.getFullYear()===i,x+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;12>u;u++)(!l||u>=n.getMonth())&&(!c||u<=o.getMonth())&&(x+="<option value='"+u+"'"+(u===e?" selected='selected'":"")+">"+a[u]+"</option>");x+="</select>"}if(y||(b+=x+(!r&&g&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",r||!v)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(d=this._get(t,"yearRange").split(":"),h=(new Date).getFullYear(),f=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?h+parseInt(t,10):parseInt(t,10);return isNaN(e)?h:e},p=f(d[0]),m=Math.max(p,f(d[1]||"")),p=n?Math.max(p,n.getFullYear()):p,m=o?Math.min(m,o.getFullYear()):m,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=p;p++)t.yearshtml+="<option value='"+p+"'"+(p===i?" selected='selected'":"")+">"+p+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),y&&(b+=(!r&&g&&v?"":"&#xa0;")+x),b+="</div>"},_adjustInstDate:function(t,e,i){var n=t.drawYear+("Y"===i?e:0),o=t.drawMonth+("M"===i?e:0),r=Math.min(t.selectedDay,this._getDaysInMonth(n,o))+("D"===i?e:0),s=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(n,o,r)));t.selectedDay=s.getDate(),t.drawMonth=t.selectedMonth=s.getMonth(),t.drawYear=t.selectedYear=s.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max"),o=i&&i>e?i:e;return n&&o>n?n:o},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,n){var o=this._getNumberOfMonths(t),r=this._daylightSavingAdjust(new Date(i,n+(0>e?e:o[0]*o[1]),1));return 0>e&&r.setDate(this._getDaysInMonth(r.getFullYear(),r.getMonth())),this._isInRange(t,r)},_isInRange:function(t,e){var i,n,o=this._getMinMaxDate(t,"min"),r=this._getMinMaxDate(t,"max"),s=null,a=null,l=this._get(t,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),s=parseInt(i[0],10),a=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(s+=n),i[1].match(/[+\-].*/)&&(a+=n)),(!o||e.getTime()>=o.getTime())&&(!r||e.getTime()<=r.getTime())&&(!s||e.getFullYear()>=s)&&(!a||e.getFullYear()<=a)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,n){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var o=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(n,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),o,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new i,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.10.3"}(jQuery),function(t,e){var i={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},n={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};t.widget("ui.dialog",{version:"1.10.3",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;0>i&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i=this;this._isOpen&&this._trigger("beforeClose",e)!==!1&&(this._isOpen=!1,this._destroyOverlay(),this.opener.filter(":focusable").focus().length||t(this.document[0].activeElement).blur(),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,e){var i=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return i&&!e&&this._trigger("focus",t),i},open:function(){var e=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=t(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),void this._trigger("open"))},_focusTabbable:function(){var t=this.element.find("[autofocus]");t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).focus()},_keepFocus:function(e){function i(){var e=this.document[0].activeElement,i=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);i||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB){var i=this.uiDialog.find(":tabbable"),n=i.filter(":first"),o=i.filter(":last");e.target!==o[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==n[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(o.focus(1),e.preventDefault()):(n.focus(1),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=t("<button></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(e),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title||t.html("&#160;"),t.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(t.each(i,function(i,n){var o,r;n=t.isFunction(n)?{click:n,text:i}:n,n=t.extend({type:"button"},n),o=n.click,n.click=function(){o.apply(e.element[0],arguments)},r={icons:n.icons,text:n.showText},delete n.icons,delete n.showText,t("<button></button>",n).button(r).appendTo(e.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,n=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,o){t(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",n,e(o))},drag:function(t,n){i._trigger("drag",t,e(n))},stop:function(o,r){n.position=[r.position.left-i.document.scrollLeft(),r.position.top-i.document.scrollTop()],t(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",o,e(r))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var i=this,n=this.options,o=n.resizable,r=this.uiDialog.css("position"),s="string"==typeof o?o:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:s,start:function(n,o){t(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",n,e(o))},resize:function(t,n){i._trigger("resize",t,e(n))},stop:function(o,r){n.height=t(this).height(),n.width=t(this).width(),t(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",o,e(r))}}).css("position",r)},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var o=this,r=!1,s={};t.each(e,function(t,e){o._setOption(t,e),t in i&&(r=!0),t in n&&(s[t]=e)}),r&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",s)},_setOption:function(t,e){var i,n,o=this.uiDialog;"dialogClass"===t&&o.removeClass(this.options.dialogClass).addClass(e),"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:""+e}),"draggable"===t&&(i=o.is(":data(ui-draggable)"),i&&!e&&o.draggable("destroy"),!i&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&(n=o.is(":data(ui-resizable)"),n&&!e&&o.resizable("destroy"),n&&"string"==typeof e&&o.resizable("option","handles",e),n||e===!1||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),t=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),e=Math.max(0,n.minHeight-t),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-t):"none","auto"===n.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return t(e.target).closest(".ui-dialog").length?!0:!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=this,i=this.widgetFullName;t.ui.dialog.overlayInstances||this._delay(function(){t.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(n){e._allowInteraction(n)||(n.preventDefault(),t(".ui-dialog:visible:last .ui-dialog-content").data(i)._focusTabbable())})}),this.overlay=t("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),t.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(t.ui.dialog.overlayInstances--,t.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}}),t.ui.dialog.overlayInstances=0,t.uiBackCompat!==!1&&t.widget("ui.dialog",t.ui.dialog,{_position:function(){var e,i=this.options.position,n=[],o=[0,0];i?(("string"==typeof i||"object"==typeof i&&"0"in i)&&(n=i.split?i.split(" "):[i[0],i[1]],1===n.length&&(n[1]=n[0]),t.each(["left","top"],function(t,e){+n[t]===n[t]&&(o[t]=n[t],n[t]=e)}),i={my:n[0]+(o[0]<0?o[0]:"+"+o[0])+" "+n[1]+(o[1]<0?o[1]:"+"+o[1]),at:n.join(" ")}),i=t.extend({},t.ui.dialog.prototype.options.position,i)):i=t.ui.dialog.prototype.options.position,e=this.uiDialog.is(":visible"),e||this.uiDialog.show(),this.uiDialog.position(i),e||this.uiDialog.hide()}})}(jQuery),function(t,e){var i=/up|down|vertical/,n=/up|left|vertical|horizontal/;t.effects.effect.blind=function(e,o){var r,s,a,l=t(this),c=["position","top","bottom","left","right","height","width"],u=t.effects.setMode(l,e.mode||"hide"),d=e.direction||"up",h=i.test(d),f=h?"height":"width",p=h?"top":"left",m=n.test(d),g={},v="show"===u;l.parent().is(".ui-effects-wrapper")?t.effects.save(l.parent(),c):t.effects.save(l,c),l.show(),r=t.effects.createWrapper(l).css({overflow:"hidden"}),s=r[f](),a=parseFloat(r.css(p))||0,g[f]=v?s:0,m||(l.css(h?"bottom":"right",0).css(h?"top":"left","auto").css({position:"absolute"}),g[p]=v?a:s+a),v&&(r.css(f,0),m||r.css(p,a+s)),r.animate(g,{duration:e.duration,easing:e.easing,queue:!1,complete:function(){"hide"===u&&l.hide(),t.effects.restore(l,c),t.effects.removeWrapper(l),o()}})}}(jQuery),function(t,e){t.effects.effect.bounce=function(e,i){var n,o,r,s=t(this),a=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(s,e.mode||"effect"),c="hide"===l,u="show"===l,d=e.direction||"up",h=e.distance,f=e.times||5,p=2*f+(u||c?1:0),m=e.duration/p,g=e.easing,v="up"===d||"down"===d?"top":"left",y="up"===d||"left"===d,b=s.queue(),x=b.length;for((u||c)&&a.push("opacity"),t.effects.save(s,a),s.show(),t.effects.createWrapper(s),h||(h=s["top"===v?"outerHeight":"outerWidth"]()/3),u&&(r={opacity:1},r[v]=0,s.css("opacity",0).css(v,y?2*-h:2*h).animate(r,m,g)),c&&(h/=Math.pow(2,f-1)),r={},r[v]=0,n=0;f>n;n++)o={},o[v]=(y?"-=":"+=")+h,s.animate(o,m,g).animate(r,m,g),h=c?2*h:h/2;c&&(o={opacity:0},o[v]=(y?"-=":"+=")+h,s.animate(o,m,g)),s.queue(function(){c&&s.hide(),t.effects.restore(s,a),t.effects.removeWrapper(s),i()}),x>1&&b.splice.apply(b,[1,0].concat(b.splice(x,p+1))),s.dequeue()}}(jQuery),function(t,e){t.effects.effect.clip=function(e,i){var n,o,r,s=t(this),a=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(s,e.mode||"hide"),c="show"===l,u=e.direction||"vertical",d="vertical"===u,h=d?"height":"width",f=d?"top":"left",p={};t.effects.save(s,a),s.show(),n=t.effects.createWrapper(s).css({overflow:"hidden"}),o="IMG"===s[0].tagName?n:s,r=o[h](),c&&(o.css(h,0),o.css(f,r/2)),p[h]=c?r:0,p[f]=c?0:r/2,o.animate(p,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){c||s.hide(),t.effects.restore(s,a),t.effects.removeWrapper(s),i()}})}}(jQuery),function(t,e){t.effects.effect.drop=function(e,i){var n,o=t(this),r=["position","top","bottom","left","right","opacity","height","width"],s=t.effects.setMode(o,e.mode||"hide"),a="show"===s,l=e.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l?"pos":"neg",d={opacity:a?1:0};t.effects.save(o,r),o.show(),t.effects.createWrapper(o),n=e.distance||o["top"===c?"outerHeight":"outerWidth"](!0)/2,a&&o.css("opacity",0).css(c,"pos"===u?-n:n),d[c]=(a?"pos"===u?"+=":"-=":"pos"===u?"-=":"+=")+n,o.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===s&&o.hide(),t.effects.restore(o,r),t.effects.removeWrapper(o),i()}})}}(jQuery),function(t,e){t.effects.effect.explode=function(e,i){function n(){b.push(this),b.length===d*h&&o()}function o(){f.css({visibility:"visible"}),t(b).remove(),m||f.hide(),i()}var r,s,a,l,c,u,d=e.pieces?Math.round(Math.sqrt(e.pieces)):3,h=d,f=t(this),p=t.effects.setMode(f,e.mode||"hide"),m="show"===p,g=f.show().css("visibility","hidden").offset(),v=Math.ceil(f.outerWidth()/h),y=Math.ceil(f.outerHeight()/d),b=[];for(r=0;d>r;r++)for(l=g.top+r*y,u=r-(d-1)/2,s=0;h>s;s++)a=g.left+s*v,c=s-(h-1)/2,f.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-s*v,top:-r*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:y,left:a+(m?c*v:0),top:l+(m?u*y:0),opacity:m?0:1}).animate({left:a+(m?0:c*v),top:l+(m?0:u*y),opacity:m?1:0},e.duration||500,e.easing,n)}}(jQuery),function(t,e){t.effects.effect.fade=function(e,i){var n=t(this),o=t.effects.setMode(n,e.mode||"toggle");n.animate({opacity:o},{queue:!1,duration:e.duration,easing:e.easing,complete:i})}}(jQuery),function(t,e){t.effects.effect.fold=function(e,i){var n,o,r=t(this),s=["position","top","bottom","left","right","height","width"],a=t.effects.setMode(r,e.mode||"hide"),l="show"===a,c="hide"===a,u=e.size||15,d=/([0-9]+)%/.exec(u),h=!!e.horizFirst,f=l!==h,p=f?["width","height"]:["height","width"],m=e.duration/2,g={},v={};t.effects.save(r,s),r.show(),n=t.effects.createWrapper(r).css({overflow:"hidden"}),o=f?[n.width(),n.height()]:[n.height(),n.width()],d&&(u=parseInt(d[1],10)/100*o[c?0:1]),l&&n.css(h?{height:0,width:u}:{height:u,width:0}),g[p[0]]=l?o[0]:u,v[p[1]]=l?o[1]:0,n.animate(g,m,e.easing).animate(v,m,e.easing,function(){c&&r.hide(),t.effects.restore(r,s),t.effects.removeWrapper(r),i()})}}(jQuery),function(t,e){t.effects.effect.highlight=function(e,i){var n=t(this),o=["backgroundImage","backgroundColor","opacity"],r=t.effects.setMode(n,e.mode||"show"),s={backgroundColor:n.css("backgroundColor")};"hide"===r&&(s.opacity=0),t.effects.save(n,o),n.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(s,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===r&&n.hide(),t.effects.restore(n,o),i()}})}}(jQuery),function(t,e){t.effects.effect.pulsate=function(e,i){var n,o=t(this),r=t.effects.setMode(o,e.mode||"show"),s="show"===r,a="hide"===r,l=s||"hide"===r,c=2*(e.times||5)+(l?1:0),u=e.duration/c,d=0,h=o.queue(),f=h.length;for((s||!o.is(":visible"))&&(o.css("opacity",0).show(),d=1),n=1;c>n;n++)o.animate({opacity:d},u,e.easing),d=1-d;o.animate({opacity:d},u,e.easing),o.queue(function(){a&&o.hide(),i()}),f>1&&h.splice.apply(h,[1,0].concat(h.splice(f,c+1))),o.dequeue()}}(jQuery),function(t,e){t.effects.effect.puff=function(e,i){var n=t(this),o=t.effects.setMode(n,e.mode||"hide"),r="hide"===o,s=parseInt(e.percent,10)||150,a=s/100,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};t.extend(e,{effect:"scale",queue:!1,fade:!0,mode:o,complete:i,percent:r?s:100,from:r?l:{height:l.height*a,width:l.width*a,outerHeight:l.outerHeight*a,outerWidth:l.outerWidth*a}}),n.effect(e)},t.effects.effect.scale=function(e,i){var n=t(this),o=t.extend(!0,{},e),r=t.effects.setMode(n,e.mode||"effect"),s=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"hide"===r?0:100),a=e.direction||"both",l=e.origin,c={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},u={y:"horizontal"!==a?s/100:1,x:"vertical"!==a?s/100:1};o.effect="size",o.queue=!1,o.complete=i,"effect"!==r&&(o.origin=l||["middle","center"],o.restore=!0),o.from=e.from||("show"===r?{height:0,width:0,outerHeight:0,outerWidth:0}:c),o.to={height:c.height*u.y,width:c.width*u.x,outerHeight:c.outerHeight*u.y,outerWidth:c.outerWidth*u.x},o.fade&&("show"===r&&(o.from.opacity=0,o.to.opacity=1),"hide"===r&&(o.from.opacity=1,o.to.opacity=0)),n.effect(o)},t.effects.effect.size=function(e,i){var n,o,r,s=t(this),a=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],c=["width","height","overflow"],u=["fontSize"],d=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],h=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],f=t.effects.setMode(s,e.mode||"effect"),p=e.restore||"effect"!==f,m=e.scale||"both",g=e.origin||["middle","center"],v=s.css("position"),y=p?a:l,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===f&&s.show(),n={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},"toggle"===e.mode&&"show"===f?(s.from=e.to||b,s.to=e.from||n):(s.from=e.from||("show"===f?b:n),s.to=e.to||("hide"===f?b:n)),r={from:{y:s.from.height/n.height,x:s.from.width/n.width},to:{y:s.to.height/n.height,x:s.to.width/n.width}},("box"===m||"both"===m)&&(r.from.y!==r.to.y&&(y=y.concat(d),s.from=t.effects.setTransition(s,d,r.from.y,s.from),s.to=t.effects.setTransition(s,d,r.to.y,s.to)),r.from.x!==r.to.x&&(y=y.concat(h),s.from=t.effects.setTransition(s,h,r.from.x,s.from),s.to=t.effects.setTransition(s,h,r.to.x,s.to))),("content"===m||"both"===m)&&r.from.y!==r.to.y&&(y=y.concat(u).concat(c),s.from=t.effects.setTransition(s,u,r.from.y,s.from),s.to=t.effects.setTransition(s,u,r.to.y,s.to)),t.effects.save(s,y),s.show(),t.effects.createWrapper(s),s.css("overflow","hidden").css(s.from),g&&(o=t.effects.getBaseline(g,n),s.from.top=(n.outerHeight-s.outerHeight())*o.y,s.from.left=(n.outerWidth-s.outerWidth())*o.x,s.to.top=(n.outerHeight-s.to.outerHeight)*o.y,s.to.left=(n.outerWidth-s.to.outerWidth)*o.x),s.css(s.from),("content"===m||"both"===m)&&(d=d.concat(["marginTop","marginBottom"]).concat(u),h=h.concat(["marginLeft","marginRight"]),c=a.concat(d).concat(h),s.find("*[width]").each(function(){var i=t(this),n={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};p&&t.effects.save(i,c),i.from={height:n.height*r.from.y,width:n.width*r.from.x,outerHeight:n.outerHeight*r.from.y,outerWidth:n.outerWidth*r.from.x},i.to={height:n.height*r.to.y,width:n.width*r.to.x,outerHeight:n.height*r.to.y,outerWidth:n.width*r.to.x},r.from.y!==r.to.y&&(i.from=t.effects.setTransition(i,d,r.from.y,i.from),i.to=t.effects.setTransition(i,d,r.to.y,i.to)),r.from.x!==r.to.x&&(i.from=t.effects.setTransition(i,h,r.from.x,i.from),i.to=t.effects.setTransition(i,h,r.to.x,i.to)),i.css(i.from),i.animate(i.to,e.duration,e.easing,function(){p&&t.effects.restore(i,c)})})),s.animate(s.to,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){0===s.to.opacity&&s.css("opacity",s.from.opacity),"hide"===f&&s.hide(),t.effects.restore(s,y),p||("static"===v?s.css({position:"relative",top:s.to.top,left:s.to.left}):t.each(["top","left"],function(t,e){s.css(e,function(e,i){var n=parseInt(i,10),o=t?s.to.left:s.to.top;return"auto"===i?o+"px":n+o+"px"})})),t.effects.removeWrapper(s),i()}})}}(jQuery),function(t,e){t.effects.effect.shake=function(e,i){var n,o=t(this),r=["position","top","bottom","left","right","height","width"],s=t.effects.setMode(o,e.mode||"effect"),a=e.direction||"left",l=e.distance||20,c=e.times||3,u=2*c+1,d=Math.round(e.duration/u),h="up"===a||"down"===a?"top":"left",f="up"===a||"left"===a,p={},m={},g={},v=o.queue(),y=v.length;for(t.effects.save(o,r),o.show(),t.effects.createWrapper(o),p[h]=(f?"-=":"+=")+l,m[h]=(f?"+=":"-=")+2*l,g[h]=(f?"-=":"+=")+2*l,o.animate(p,d,e.easing),n=1;c>n;n++)o.animate(m,d,e.easing).animate(g,d,e.easing);o.animate(m,d,e.easing).animate(p,d/2,e.easing).queue(function(){"hide"===s&&o.hide(),t.effects.restore(o,r),t.effects.removeWrapper(o),i()}),y>1&&v.splice.apply(v,[1,0].concat(v.splice(y,u+1))),o.dequeue()}}(jQuery),function(t,e){t.effects.effect.slide=function(e,i){var n,o=t(this),r=["position","top","bottom","left","right","width","height"],s=t.effects.setMode(o,e.mode||"show"),a="show"===s,l=e.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l,d={};t.effects.save(o,r),o.show(),n=e.distance||o["top"===c?"outerHeight":"outerWidth"](!0),t.effects.createWrapper(o).css({overflow:"hidden"}),a&&o.css(c,u?isNaN(n)?"-"+n:-n:n),d[c]=(a?u?"+=":"-=":u?"-=":"+=")+n,o.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===s&&o.hide(),t.effects.restore(o,r),t.effects.removeWrapper(o),i()}})}}(jQuery),function(t,e){t.effects.effect.transfer=function(e,i){var n=t(this),o=t(e.to),r="fixed"===o.css("position"),s=t("body"),a=r?s.scrollTop():0,l=r?s.scrollLeft():0,c=o.offset(),u={top:c.top-a,left:c.left-l,height:o.innerHeight(),width:o.innerWidth()},d=n.offset(),h=t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:d.top-a,left:d.left-l,height:n.innerHeight(),width:n.innerWidth(),position:r?"fixed":"absolute"}).animate(u,e.duration,e.easing,function(){h.remove(),i()})}}(jQuery),function(t,e){t.widget("ui.menu",{version:"1.10.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,t.proxy(function(t){this.options.disabled&&t.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(t){t.preventDefault()},"click .ui-state-disabled > a":function(t){t.preventDefault()},"click .ui-menu-item:has(a)":function(e){var i=t(e.target).closest(".ui-menu-item");!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(e),i.has(".ui-menu").length?this.expand(e):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){var i=t(e.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(e,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.children(".ui-menu-item").eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){t(e.target).closest(".ui-menu").length||this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){function i(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var n,o,r,s,a,l=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:l=!1,o=this.previousFilter||"",r=String.fromCharCode(e.keyCode),s=!1,clearTimeout(this.filterTimer),r===o?s=!0:r=o+r,a=new RegExp("^"+i(r),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(t(this).children("a").text())}),n=s&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n,n.length||(r=String.fromCharCode(e.keyCode),a=new RegExp("^"+i(r),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(t(this).children("a").text())})),n.length?(this.focus(e,n),n.length>1?(this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}l&&e.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,i=this.options.icons.submenu,n=this.element.find(this.options.menus);n.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),n=e.prev("a"),o=t("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);n.attr("aria-haspopup","true").prepend(o),e.attr("aria-labelledby",n.attr("id"))}),e=n.add(this.element),e.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),e.children(":not(.ui-menu-item)").each(function(){var e=t(this);/[^\-\u2014\u2013\s]/.test(e.text())||e.addClass("ui-widget-content ui-menu-divider")}),e.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur();
},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){"icons"===t&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu),this._super(t,e)},focus:function(t,e){var i,n;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),n=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,n,o,r,s,a;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,o=e.offset().top-this.activeMenu.offset().top-i-n,r=this.activeMenu.scrollTop(),s=this.activeMenu.height(),a=e.height(),0>o?this.activeMenu.scrollTop(r+o):o+a>s&&this.activeMenu.scrollTop(r+o-s+a))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(e),this.activeMenu=n},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var n;this.active&&(n="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.children(".ui-menu-item")[e]()),this.focus(i,n)},nextPage:function(e){var i,n,o;return this.active?void(this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,o=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-n-o<0}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))):void this.next(e)},previousPage:function(e){var i,n,o;return this.active?void(this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,o=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-n+o>0}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item").first()))):void this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)}})}(jQuery),function(t,e){function i(t,e,i){return[parseFloat(t[0])*(f.test(t[0])?e/100:1),parseFloat(t[1])*(f.test(t[1])?i/100:1)]}function n(e,i){return parseInt(t.css(e,i),10)||0}function o(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var r,s=Math.max,a=Math.abs,l=Math.round,c=/left|center|right/,u=/top|center|bottom/,d=/[\+\-]\d+(\.[\d]+)?%?/,h=/^\w+/,f=/%$/,p=t.fn.position;t.position={scrollbarWidth:function(){if(r!==e)return r;var i,n,o=t("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=o.children()[0];return t("body").append(o),i=s.offsetWidth,o.css("overflow","scroll"),n=s.offsetWidth,i===n&&(n=o[0].clientWidth),o.remove(),r=i-n},getScrollInfo:function(e){var i=e.isWindow?"":e.element.css("overflow-x"),n=e.isWindow?"":e.element.css("overflow-y"),o="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,r="scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight;return{width:r?t.position.scrollbarWidth():0,height:o?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),n=t.isWindow(i[0]);return{element:i,isWindow:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n?i.width():i.outerWidth(),height:n?i.height():i.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return p.apply(this,arguments);e=t.extend({},e);var r,f,m,g,v,y,b=t(e.of),x=t.position.getWithinInfo(e.within),_=t.position.getScrollInfo(x),w=(e.collision||"flip").split(" "),C={};return y=o(b),b[0].preventDefault&&(e.at="left top"),f=y.width,m=y.height,g=y.offset,v=t.extend({},g),t.each(["my","at"],function(){var t,i,n=(e[this]||"").split(" ");1===n.length&&(n=c.test(n[0])?n.concat(["center"]):u.test(n[0])?["center"].concat(n):["center","center"]),n[0]=c.test(n[0])?n[0]:"center",n[1]=u.test(n[1])?n[1]:"center",t=d.exec(n[0]),i=d.exec(n[1]),C[this]=[t?t[0]:0,i?i[0]:0],e[this]=[h.exec(n[0])[0],h.exec(n[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===e.at[0]?v.left+=f:"center"===e.at[0]&&(v.left+=f/2),"bottom"===e.at[1]?v.top+=m:"center"===e.at[1]&&(v.top+=m/2),r=i(C.at,f,m),v.left+=r[0],v.top+=r[1],this.each(function(){var o,c,u=t(this),d=u.outerWidth(),h=u.outerHeight(),p=n(this,"marginLeft"),y=n(this,"marginTop"),k=d+p+n(this,"marginRight")+_.width,T=h+y+n(this,"marginBottom")+_.height,S=t.extend({},v),N=i(C.my,u.outerWidth(),u.outerHeight());"right"===e.my[0]?S.left-=d:"center"===e.my[0]&&(S.left-=d/2),"bottom"===e.my[1]?S.top-=h:"center"===e.my[1]&&(S.top-=h/2),S.left+=N[0],S.top+=N[1],t.support.offsetFractions||(S.left=l(S.left),S.top=l(S.top)),o={marginLeft:p,marginTop:y},t.each(["left","top"],function(i,n){t.ui.position[w[i]]&&t.ui.position[w[i]][n](S,{targetWidth:f,targetHeight:m,elemWidth:d,elemHeight:h,collisionPosition:o,collisionWidth:k,collisionHeight:T,offset:[r[0]+N[0],r[1]+N[1]],my:e.my,at:e.at,within:x,elem:u})}),e.using&&(c=function(t){var i=g.left-S.left,n=i+f-d,o=g.top-S.top,r=o+m-h,l={target:{element:b,left:g.left,top:g.top,width:f,height:m},element:{element:u,left:S.left,top:S.top,width:d,height:h},horizontal:0>n?"left":i>0?"right":"center",vertical:0>r?"top":o>0?"bottom":"middle"};d>f&&a(i+n)<f&&(l.horizontal="center"),h>m&&a(o+r)<m&&(l.vertical="middle"),s(a(i),a(n))>s(a(o),a(r))?l.important="horizontal":l.important="vertical",e.using.call(this,t,l)}),u.offset(t.extend(S,{using:c}))})},t.ui.position={fit:{left:function(t,e){var i,n=e.within,o=n.isWindow?n.scrollLeft:n.offset.left,r=n.width,a=t.left-e.collisionPosition.marginLeft,l=o-a,c=a+e.collisionWidth-r-o;e.collisionWidth>r?l>0&&0>=c?(i=t.left+l+e.collisionWidth-r-o,t.left+=l-i):c>0&&0>=l?t.left=o:l>c?t.left=o+r-e.collisionWidth:t.left=o:l>0?t.left+=l:c>0?t.left-=c:t.left=s(t.left-a,t.left)},top:function(t,e){var i,n=e.within,o=n.isWindow?n.scrollTop:n.offset.top,r=e.within.height,a=t.top-e.collisionPosition.marginTop,l=o-a,c=a+e.collisionHeight-r-o;e.collisionHeight>r?l>0&&0>=c?(i=t.top+l+e.collisionHeight-r-o,t.top+=l-i):c>0&&0>=l?t.top=o:l>c?t.top=o+r-e.collisionHeight:t.top=o:l>0?t.top+=l:c>0?t.top-=c:t.top=s(t.top-a,t.top)}},flip:{left:function(t,e){var i,n,o=e.within,r=o.offset.left+o.scrollLeft,s=o.width,l=o.isWindow?o.scrollLeft:o.offset.left,c=t.left-e.collisionPosition.marginLeft,u=c-l,d=c+e.collisionWidth-s-l,h="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,f="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,p=-2*e.offset[0];0>u?(i=t.left+h+f+p+e.collisionWidth-s-r,(0>i||i<a(u))&&(t.left+=h+f+p)):d>0&&(n=t.left-e.collisionPosition.marginLeft+h+f+p-l,(n>0||a(n)<d)&&(t.left+=h+f+p))},top:function(t,e){var i,n,o=e.within,r=o.offset.top+o.scrollTop,s=o.height,l=o.isWindow?o.scrollTop:o.offset.top,c=t.top-e.collisionPosition.marginTop,u=c-l,d=c+e.collisionHeight-s-l,h="top"===e.my[1],f=h?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,p="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,m=-2*e.offset[1];0>u?(n=t.top+f+p+m+e.collisionHeight-s-r,t.top+f+p+m>u&&(0>n||n<a(u))&&(t.top+=f+p+m)):d>0&&(i=t.top-e.collisionPosition.marginTop+f+p+m-l,t.top+f+p+m>d&&(i>0||a(i)<d)&&(t.top+=f+p+m))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,n,o,r,s=document.getElementsByTagName("body")[0],a=document.createElement("div");e=document.createElement(s?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&t.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(r in n)e.style[r]=n[r];e.appendChild(a),i=s||document.documentElement,i.insertBefore(e,i.firstChild),a.style.cssText="position: absolute; left: 10.7432222px;",o=t(a).offset().left,t.support.offsetFractions=o>10&&11>o,e.innerHTML="",i.removeChild(e)}()}(jQuery),function(t,e){t.widget("ui.progressbar",{version:"1.10.3",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(t){return t===e?this.options.value:(this.options.value=this._constrainedValue(t),void this._refreshValue())},_constrainedValue:function(t){return t===e&&(t=this.options.value),this.indeterminate=t===!1,"number"!=typeof t&&(t=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}})}(jQuery),function(t,e){var i=5;t.widget("ui.slider",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,n=this.options,o=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),r="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",s=[];for(i=n.values&&n.values.length||1,o.length>i&&(o.slice(i).remove(),o=o.slice(0,i)),e=o.length;i>e;e++)s.push(r);this.handles=o.add(t(s.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,i="";e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):this.range=t([])},_setupEvents:function(){var t=this.handles.add(this.range).filter("a");this._off(t),this._on(t,this._handleEvents),this._hoverable(t),this._focusable(t)},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var i,n,o,r,s,a,l,c,u=this,d=this.options;return d.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(i),o=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(n-u.values(e));(o>i||o===i&&(e===u._lastChangedValue||u.values(e)===d.min))&&(o=i,r=t(this),s=e)}),a=this._start(e,s),a===!1?!1:(this._mouseSliding=!0,this._handleIndex=s,r.addClass("ui-state-active").focus(),l=r.offset(),c=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:e.pageX-l.left-r.width()/2,top:e.pageY-l.top-r.height()/2-(parseInt(r.css("borderTopWidth"),10)||0)-(parseInt(r.css("borderBottomWidth"),10)||0)+(parseInt(r.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,s,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,n,o,r;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/e,n>1&&(n=1),0>n&&(n=0),"vertical"===this.orientation&&(n=1-n),o=this._valueMax()-this._valueMin(),r=this._valueMin()+n*o,this._trimAlignValue(r)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("start",t,i)},_slide:function(t,e,i){var n,o,r;this.options.values&&this.options.values.length?(n=this.values(e?0:1),2===this.options.values.length&&this.options.range===!0&&(0===e&&i>n||1===e&&n>i)&&(i=n),i!==this.values(e)&&(o=this.values(),o[e]=i,r=this._trigger("slide",t,{handle:this.handles[e],value:i,values:o}),n=this.values(e?0:1),r!==!1&&this.values(e,i,!0))):i!==this.value()&&(r=this._trigger("slide",t,{handle:this.handles[e],value:i}),r!==!1&&this.value(i))},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("stop",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,i)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,i){var n,o,r;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(n=this.options.values,o=arguments[0],r=0;r<n.length;r+=1)n[r]=this._trimAlignValue(o[r]),this._change(null,r);this._refreshValue()},_setOption:function(e,i){var n,o=0;switch("range"===e&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(o=this.options.values.length),t.Widget.prototype._setOption.apply(this,arguments),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;o>n;n+=1)this._change(null,n);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,n;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,n=t-i;return 2*Math.abs(i)>=e&&(n+=i>0?e:-e),parseFloat(n.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e,i,n,o,r,s=this.options.range,a=this.options,l=this,c=this._animateOff?!1:a.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(n){i=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100,u["horizontal"===l.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[c?"animate":"css"](u,a.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[c?"animate":"css"]({left:i+"%"},a.animate),1===n&&l.range[c?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:a.animate})):(0===n&&l.range.stop(1,1)[c?"animate":"css"]({bottom:i+"%"},a.animate),1===n&&l.range[c?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:a.animate}))),e=i}):(n=this.value(),o=this._valueMin(),r=this._valueMax(),i=r!==o?(n-o)/(r-o)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[c?"animate":"css"](u,a.animate),"min"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:i+"%"},a.animate),"max"===s&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:a.animate}),"min"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:i+"%"},a.animate),"max"===s&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:a.animate}))},_handleEvents:{keydown:function(e){var n,o,r,s,a=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(e.target).addClass("ui-state-active"),n=this._start(e,a),n===!1))return}switch(s=this.options.step,o=r=this.options.values&&this.options.values.length?this.values(a):this.value(),e.keyCode){case t.ui.keyCode.HOME:r=this._valueMin();break;case t.ui.keyCode.END:r=this._valueMax();break;case t.ui.keyCode.PAGE_UP:r=this._trimAlignValue(o+(this._valueMax()-this._valueMin())/i);break;case t.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(o-(this._valueMax()-this._valueMin())/i);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(o===this._valueMax())return;r=this._trimAlignValue(o+s);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(o===this._valueMin())return;r=this._trimAlignValue(o-s)}this._slide(e,a,r)},click:function(t){t.preventDefault()},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),t(e.target).removeClass("ui-state-active"))}}})}(jQuery),function(t){function e(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.widget("ui.spinner",{version:"1.10.3",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e={},i=this.element;return t.each(["min","max","step"],function(t,n){var o=i.attr(n);void 0!==o&&o.length&&(e[n]=o)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",t)))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function i(){var t=this.element[0]===this.document[0].activeElement;t||(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n}))}var n;n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){return t(e.currentTarget).hasClass("ui-state-active")?this._start(e)===!1?!1:void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var t=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=t.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*t.height())&&t.height()>0&&t.height(t.height()),this.options.disabled&&this.disable()},_keydown:function(e){var i=this.options,n=t.ui.keyCode;switch(e.keyCode){case n.UP:return this._repeat(null,1,e),!0;case n.DOWN:return this._repeat(null,-1,e),!0;case n.PAGE_UP:return this._repeat(null,i.page,e),!0;case n.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(t){return this.spinning||this._trigger("start",t)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&this._trigger("spin",e,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,n=this.options;return e=null!==n.min?n.min:0,i=t-e,i=Math.round(i/n.step)*n.step,t=e+i,t=parseFloat(t.toFixed(this._precision())),null!==n.max&&t>n.max?n.max:null!==n.min&&t<n.min?n.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){if("culture"===t||"numberFormat"===t){var i=this._parse(this.element.val());return this.options[t]=e,void this.element.val(this._format(i))}("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(e.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(e.down)),this._super(t,e),"disabled"===t&&(e?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:e(function(t){this._super(t),this._value(this.element.val())}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(t,e){var i;""!==t&&(i=this._parse(t),null!==i&&(e||(i=this._adjustValue(i)),t=this._format(i))),this.element.val(t),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:e(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:e(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:e(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:e(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?void e(this._value).call(this,t):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})}(jQuery),function(t,e){function i(){return++o}function n(t){return t.hash.length>1&&decodeURIComponent(t.href.replace(r,""))===decodeURIComponent(location.href.replace(r,""))}var o=0,r=/#.*$/;t.widget("ui.tabs",{version:"1.10.3",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var e=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.options.active!==!1&&this.anchors.length?this.active=this._findActive(i.active):this.active=t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,n=location.hash.substring(1);return null===e&&(n&&this.tabs.each(function(i,o){return t(o).attr("aria-controls")===n?(e=i,!1):void 0}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===e||-1===e)&&(e=this.tabs.length?0:!1)),e!==!1&&(e=this.tabs.index(this.tabs.eq(e)),-1===e&&(e=i?!1:0)),!i&&e===!1&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var i=t(this.document[0].activeElement).closest("li"),n=this.tabs.index(i),o=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:n++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:o=!1,n--;break;case t.ui.keyCode.END:n=this.anchors.length-1;break;case t.ui.keyCode.HOME:n=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n===this.options.active?!1:n);default:return}e.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,o),e.ctrlKey||(i.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.focus())},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,i){function n(){return e>o&&(e=0),0>e&&(e=o),e}for(var o=this.tabs.length-1;-1!==t.inArray(n(),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).focus(),t},_setOption:function(t,e){return"active"===t?void this._activate(e):"disabled"===t?void this._setupDisabled(e):(this._super(t,e),"collapsible"===t&&(this.element.toggleClass("ui-tabs-collapsible",e),e||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(e),void("heightStyle"===t&&this._setupHeightStyle(e)))},_tabId:function(t){return t.attr("aria-controls")||"ui-tabs-"+i()},_sanitizeSelector:function(t){
return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=t(),this.anchors.each(function(i,o){var r,s,a,l=t(o).uniqueId().attr("id"),c=t(o).closest("li"),u=c.attr("aria-controls");n(o)?(r=o.hash,s=e.element.find(e._sanitizeSelector(r))):(a=e._tabId(c),r="#"+a,s=e.element.find(r),s.length||(s=e._createPanel(a),s.insertAfter(e.panels[i-1]||e.tablist)),s.attr("aria-live","polite")),s.length&&(e.panels=e.panels.add(s)),u&&c.data("ui-tabs-aria-controls",u),c.attr({"aria-controls":r.substring(1),"aria-labelledby":l}),s.attr("aria-labelledby",l)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(e){t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var i,n=0;i=this.tabs[n];n++)e===!0||-1!==t.inArray(n,e)?t(i).addClass("ui-state-disabled").attr("aria-disabled","true"):t(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=e},_setupEvents:function(e){var i={click:function(t){t.preventDefault()}};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,n=this.element.parent();"fill"===e?(i=n.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),n=e.css("position");"absolute"!==n&&"fixed"!==n&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,n=this.active,o=t(e.currentTarget),r=o.closest("li"),s=r[0]===n[0],a=s&&i.collapsible,l=a?t():this._getPanelForTab(r),c=n.length?this._getPanelForTab(n):t(),u={oldTab:n,oldPanel:c,newTab:a?t():r,newPanel:l};e.preventDefault(),r.hasClass("ui-state-disabled")||r.hasClass("ui-tabs-loading")||this.running||s&&!i.collapsible||this._trigger("beforeActivate",e,u)===!1||(i.active=a?!1:this.tabs.index(r),this.active=s?t():r,this.xhr&&this.xhr.abort(),c.length||l.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(r),e),this._toggle(e,u))},_toggle:function(e,i){function n(){r.running=!1,r._trigger("activate",e,i)}function o(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),s.length&&r.options.show?r._show(s,r.options.show,n):(s.show(),n())}var r=this,s=i.newPanel,a=i.oldPanel;this.running=!0,a.length&&this.options.hide?this._hide(a,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),o()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),a.hide(),o()),a.attr({"aria-expanded":"false","aria-hidden":"true"}),i.oldTab.attr("aria-selected","false"),s.length&&a.length?i.oldTab.attr("tabIndex",-1):s.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),s.attr({"aria-expanded":"true","aria-hidden":"false"}),i.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(e){var i,n=this._findActive(e);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+t+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(i){var n=this.options.disabled;n!==!1&&(i===e?n=!1:(i=this._getIndex(i),n=t.isArray(n)?t.map(n,function(t){return t!==i?t:null}):t.map(this.tabs,function(t,e){return e!==i?e:null})),this._setupDisabled(n))},disable:function(i){var n=this.options.disabled;if(n!==!0){if(i===e)n=!0;else{if(i=this._getIndex(i),-1!==t.inArray(i,n))return;n=t.isArray(n)?t.merge([i],n).sort():[i]}this._setupDisabled(n)}},load:function(e,i){e=this._getIndex(e);var o=this,r=this.tabs.eq(e),s=r.find(".ui-tabs-anchor"),a=this._getPanelForTab(r),l={tab:r,panel:a};n(s[0])||(this.xhr=t.ajax(this._ajaxSettings(s,i,l)),this.xhr&&"canceled"!==this.xhr.statusText&&(r.addClass("ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.success(function(t){setTimeout(function(){a.html(t),o._trigger("load",i,l)},1)}).complete(function(t,e){setTimeout(function(){"abort"===e&&o.panels.stop(!1,!0),r.removeClass("ui-tabs-loading"),a.removeAttr("aria-busy"),t===o.xhr&&delete o.xhr},1)})))},_ajaxSettings:function(e,i,n){var o=this;return{url:e.attr("href"),beforeSend:function(e,r){return o._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:r},n))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}})}(jQuery),function(t){function e(e,i){var n=(e.attr("aria-describedby")||"").split(/\s+/);n.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(n.join(" ")))}function i(e){var i=e.data("ui-tooltip-id"),n=(e.attr("aria-describedby")||"").split(/\s+/),o=t.inArray(i,n);-1!==o&&n.splice(o,1),e.removeData("ui-tooltip-id"),n=t.trim(n.join(" ")),n?e.attr("aria-describedby",n):e.removeAttr("aria-describedby")}var n=0;t.widget("ui.tooltip",{version:"1.10.3",options:{content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(e,i){var n=this;return"disabled"===e?(this[i?"_disable":"_enable"](),void(this.options[e]=i)):(this._super(e,i),void("content"===e&&t.each(this.tooltips,function(t,e){n._updateContent(e)})))},_disable:function(){var e=this;t.each(this.tooltips,function(i,n){var o=t.Event("blur");o.target=o.currentTarget=n[0],e.close(o,!0)}),this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.is("[title]")&&e.data("ui-tooltip-title",e.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})},open:function(e){var i=this,n=t(e?e.target:this.element).closest(this.options.items);n.length&&!n.data("ui-tooltip-id")&&(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&n.parents().each(function(){var e,n=t(this);n.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,i.close(e,!0)),n.attr("title")&&(n.uniqueId(),i.parents[this.id]={element:this,title:n.attr("title")},n.attr("title",""))}),this._updateContent(n,e))},_updateContent:function(t,e){var i,n=this.options.content,o=this,r=e?e.type:null;return"string"==typeof n?this._open(e,t,n):(i=n.call(t[0],function(i){t.data("ui-tooltip-open")&&o._delay(function(){e&&(e.type=r),this._open(e,t,i)})}),void(i&&this._open(e,t,i)))},_open:function(i,n,o){function r(t){c.of=t,s.is(":hidden")||s.position(c)}var s,a,l,c=t.extend({},this.options.position);if(o){if(s=this._find(n),s.length)return void s.find(".ui-tooltip-content").html(o);n.is("[title]")&&(i&&"mouseover"===i.type?n.attr("title",""):n.removeAttr("title")),s=this._tooltip(n),e(n,s.attr("id")),s.find(".ui-tooltip-content").html(o),this.options.track&&i&&/^mouse/.test(i.type)?(this._on(this.document,{mousemove:r}),r(i)):s.position(t.extend({of:n},this.options.position)),s.hide(),this._show(s,this.options.show),this.options.show&&this.options.show.delay&&(l=this.delayedShow=setInterval(function(){s.is(":visible")&&(r(c.of),clearInterval(l))},t.fx.interval)),this._trigger("open",i,{tooltip:s}),a={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var i=t.Event(e);i.currentTarget=n[0],this.close(i,!0)}},remove:function(){this._removeTooltip(s)}},i&&"mouseover"!==i.type||(a.mouseleave="close"),i&&"focusin"!==i.type||(a.focusout="close"),this._on(!0,n,a)}},close:function(e){var n=this,o=t(e?e.currentTarget:this.element),r=this._find(o);this.closing||(clearInterval(this.delayedShow),o.data("ui-tooltip-title")&&o.attr("title",o.data("ui-tooltip-title")),i(o),r.stop(!0),this._hide(r,this.options.hide,function(){n._removeTooltip(t(this))}),o.removeData("ui-tooltip-open"),this._off(o,"mouseleave focusout keyup"),o[0]!==this.element[0]&&this._off(o,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr("title",i.title),delete n.parents[e]}),this.closing=!0,this._trigger("close",e,{tooltip:r}),this.closing=!1)},_tooltip:function(e){var i="ui-tooltip-"+n++,o=t("<div>").attr({id:i,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return t("<div>").addClass("ui-tooltip-content").appendTo(o),o.appendTo(this.document[0].body),this.tooltips[i]=e,o},_find:function(e){var i=e.data("ui-tooltip-id");return i?t("#"+i):t()},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_destroy:function(){var e=this;t.each(this.tooltips,function(i,n){var o=t.Event("blur");o.target=o.currentTarget=n[0],e.close(o,!0),t("#"+i).remove(),n.data("ui-tooltip-title")&&(n.attr("title",n.data("ui-tooltip-title")),n.removeData("ui-tooltip-title"))})}})}(jQuery),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),/*
 * jQuery throttle / debounce - v1.1 - 3/7/2010
 * http://benalman.com/projects/jquery-throttle-debounce-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
function(t,e){var i,n=t.jQuery||t.Cowboy||(t.Cowboy={});n.throttle=i=function(t,i,o,r){function s(){function n(){l=+new Date,o.apply(c,d)}function s(){a=e}var c=this,u=+new Date-l,d=arguments;r&&!a&&n(),a&&clearTimeout(a),r===e&&u>t?n():i!==!0&&(a=setTimeout(r?s:n,r===e?t-u:t))}var a,l=0;return"boolean"!=typeof i&&(r=o,o=i,i=e),n.guid&&(s.guid=o.guid=o.guid||n.guid++),s},n.debounce=function(t,n,o){return o===e?i(t,n,!1):i(t,o,n!==!1)}}(this),/*
 *	jQuery carouFredSel 6.1.0
 *	Demo's and documentation:
 *	caroufredsel.frebsite.nl
 *
 *	Copyright (c) 2012 Fred Heusschen
 *	www.frebsite.nl
 *
 *	Dual licensed under the MIT and GPL licenses.
 *	http://en.wikipedia.org/wiki/MIT_License
 *	http://en.wikipedia.org/wiki/GNU_General_Public_License
 */
function($){function sc_setScroll(t,e){return{anims:[],duration:t,orgDuration:t,easing:e,startTime:getTime()}}function sc_startScroll(t){is_object(t.pre)&&sc_startScroll(t.pre);for(var e=0,i=t.anims.length;i>e;e++){var n=t.anims[e];n&&(n[3]&&n[0].stop(),n[0].animate(n[1],{complete:n[2],duration:t.duration,easing:t.easing}))}is_object(t.post)&&sc_startScroll(t.post)}function sc_stopScroll(t,e){is_boolean(e)||(e=!0),is_object(t.pre)&&sc_stopScroll(t.pre,e);for(var i=0,n=t.anims.length;n>i;i++){var o=t.anims[i];o[0].stop(!0),e&&(o[0].css(o[1]),is_function(o[2])&&o[2]())}is_object(t.post)&&sc_stopScroll(t.post,e)}function sc_afterScroll(t,e,i){switch(e&&e.remove(),i.fx){case"fade":case"crossfade":case"cover-fade":case"uncover-fade":t.css("filter","")}}function sc_fireCallbacks(t,e,i,n,o){if(e[i]&&e[i].call(t,n),o[i].length)for(var r=0,s=o[i].length;s>r;r++)o[i][r].call(t,n);return[]}function sc_fireQueue(t,e,i){return e.length&&(t.trigger(cf_e(e[0][0],i),e[0][1]),e.shift()),e}function sc_hideHiddenItems(t){t.each(function(){var t=$(this);t.data("_cfs_isHidden",t.is(":hidden")).hide()})}function sc_showHiddenItems(t){t&&t.each(function(){var t=$(this);t.data("_cfs_isHidden")||t.show()})}function sc_clearTimers(t){return t.auto&&clearTimeout(t.auto),t.progress&&clearInterval(t.progress),t}function sc_mapCallbackArguments(t,e,i,n,o,r,s){return{width:s.width,height:s.height,items:{old:t,skipped:e,visible:i,"new":i},scroll:{items:n,direction:o,duration:r}}}function sc_getDuration(t,e,i,n){var o=t.duration;return"none"==t.fx?0:("auto"==o?o=e.scroll.duration/e.scroll.items*i:10>o&&(o=n/o),1>o?0:("fade"==t.fx&&(o/=2),Math.round(o)))}function nv_showNavi(t,e,i){var n=is_number(t.items.minimum)?t.items.minimum:t.items.visible+1;if("show"==e||"hide"==e)var o=e;else if(n>e){debug(i,"Not enough items ("+e+" total, "+n+" needed): Hiding navigation.");var o="hide"}else var o="show";var r="show"==o?"removeClass":"addClass",s=cf_c("hidden",i);t.auto.button&&t.auto.button[o]()[r](s),t.prev.button&&t.prev.button[o]()[r](s),t.next.button&&t.next.button[o]()[r](s),t.pagination.container&&t.pagination.container[o]()[r](s)}function nv_enableNavi(t,e,i){if(!t.circular&&!t.infinite){var n="removeClass"==e||"addClass"==e?e:!1,o=cf_c("disabled",i);if(t.auto.button&&n&&t.auto.button[n](o),t.prev.button){var r=n||0==e?"addClass":"removeClass";t.prev.button[r](o)}if(t.next.button){var r=n||e==t.items.visible?"addClass":"removeClass";t.next.button[r](o)}}}function go_getObject(t,e){return is_function(e)?e=e.call(t):is_undefined(e)&&(e={}),e}function go_getItemsObject(t,e){return e=go_getObject(t,e),is_number(e)?e={visible:e}:"variable"==e?e={visible:e,width:e,height:e}:is_object(e)||(e={}),e}function go_getScrollObject(t,e){return e=go_getObject(t,e),is_number(e)?e=50>=e?{items:e}:{duration:e}:is_string(e)?e={easing:e}:is_object(e)||(e={}),e}function go_getNaviObject(t,e){if(e=go_getObject(t,e),is_string(e)){var i=cf_getKeyCode(e);e=-1==i?$(e):i}return e}function go_getAutoObject(t,e){return e=go_getNaviObject(t,e),is_jquery(e)?e={button:e}:is_boolean(e)?e={play:e}:is_number(e)&&(e={timeoutDuration:e}),e.progress&&(is_string(e.progress)||is_jquery(e.progress))&&(e.progress={bar:e.progress}),e}function go_complementAutoObject(t,e){return is_function(e.button)&&(e.button=e.button.call(t)),is_string(e.button)&&(e.button=$(e.button)),is_boolean(e.play)||(e.play=!0),is_number(e.delay)||(e.delay=0),is_undefined(e.pauseOnEvent)&&(e.pauseOnEvent=!0),is_boolean(e.pauseOnResize)||(e.pauseOnResize=!0),is_number(e.timeoutDuration)||(e.timeoutDuration=e.duration<10?2500:5*e.duration),e.progress&&(is_function(e.progress.bar)&&(e.progress.bar=e.progress.bar.call(t)),is_string(e.progress.bar)&&(e.progress.bar=$(e.progress.bar)),e.progress.bar?(is_function(e.progress.updater)||(e.progress.updater=$.fn.carouFredSel.progressbarUpdater),is_number(e.progress.interval)||(e.progress.interval=50)):e.progress=!1),e}function go_getPrevNextObject(t,e){return e=go_getNaviObject(t,e),is_jquery(e)?e={button:e}:is_number(e)&&(e={key:e}),e}function go_complementPrevNextObject(t,e){return is_function(e.button)&&(e.button=e.button.call(t)),is_string(e.button)&&(e.button=$(e.button)),is_string(e.key)&&(e.key=cf_getKeyCode(e.key)),e}function go_getPaginationObject(t,e){return e=go_getNaviObject(t,e),is_jquery(e)?e={container:e}:is_boolean(e)&&(e={keys:e}),e}function go_complementPaginationObject(t,e){return is_function(e.container)&&(e.container=e.container.call(t)),is_string(e.container)&&(e.container=$(e.container)),is_number(e.items)||(e.items=!1),is_boolean(e.keys)||(e.keys=!1),is_function(e.anchorBuilder)||is_false(e.anchorBuilder)||(e.anchorBuilder=$.fn.carouFredSel.pageAnchorBuilder),is_number(e.deviation)||(e.deviation=0),e}function go_getSwipeObject(t,e){return is_function(e)&&(e=e.call(t)),is_undefined(e)&&(e={onTouch:!1}),is_true(e)?e={onTouch:e}:is_number(e)&&(e={items:e}),e}function go_complementSwipeObject(t,e){return is_boolean(e.onTouch)||(e.onTouch=!0),is_boolean(e.onMouse)||(e.onMouse=!1),is_object(e.options)||(e.options={}),is_boolean(e.options.triggerOnTouchEnd)||(e.options.triggerOnTouchEnd=!1),e}function go_getMousewheelObject(t,e){return is_function(e)&&(e=e.call(t)),is_true(e)?e={}:is_number(e)?e={items:e}:is_undefined(e)&&(e=!1),e}function go_complementMousewheelObject(t,e){return e}function gn_getItemIndex(t,e,i,n,o){if(is_string(t)&&(t=$(t,o)),is_object(t)&&(t=$(t,o)),is_jquery(t)?(t=o.children().index(t),is_boolean(i)||(i=!1)):is_boolean(i)||(i=!0),is_number(t)||(t=0),is_number(e)||(e=0),i&&(t+=n.first),t+=e,n.total>0){for(;t>=n.total;)t-=n.total;for(;0>t;)t+=n.total}return t}function gn_getVisibleItemsPrev(t,e,i){for(var n=0,o=0,r=i;r>=0;r--){var s=t.eq(r);if(n+=s.is(":visible")?s[e.d.outerWidth](!0):0,n>e.maxDimension)return o;0==r&&(r=t.length),o++}}function gn_getVisibleItemsPrevFilter(t,e,i){return gn_getItemsPrevFilter(t,e.items.filter,e.items.visibleConf.org,i)}function gn_getScrollItemsPrevFilter(t,e,i,n){return gn_getItemsPrevFilter(t,e.items.filter,n,i)}function gn_getItemsPrevFilter(t,e,i,n){for(var o=0,r=0,s=n,a=t.length;s>=0;s--){if(r++,r==a)return r;var l=t.eq(s);if(l.is(e)&&(o++,o==i))return r;0==s&&(s=a)}}function gn_getVisibleOrg(t,e){return e.items.visibleConf.org||t.children().slice(0,e.items.visible).filter(e.items.filter).length}function gn_getVisibleItemsNext(t,e,i){for(var n=0,o=0,r=i,s=t.length-1;s>=r;r++){var a=t.eq(r);if(n+=a.is(":visible")?a[e.d.outerWidth](!0):0,n>e.maxDimension)return o;if(o++,o==s+1)return o;r==s&&(r=-1)}}function gn_getVisibleItemsNextTestCircular(t,e,i,n){var o=gn_getVisibleItemsNext(t,e,i);return e.circular||i+o>n&&(o=n-i),o}function gn_getVisibleItemsNextFilter(t,e,i){return gn_getItemsNextFilter(t,e.items.filter,e.items.visibleConf.org,i,e.circular)}function gn_getScrollItemsNextFilter(t,e,i,n){return gn_getItemsNextFilter(t,e.items.filter,n+1,i,e.circular)-1}function gn_getItemsNextFilter(t,e,i,n,o){for(var r=0,s=0,a=n,l=t.length-1;l>=a;a++){if(s++,s>=l)return s;var c=t.eq(a);if(c.is(e)&&(r++,r==i))return s;a==l&&(a=-1)}}function gi_getCurrentItems(t,e){return t.slice(0,e.items.visible)}function gi_getOldItemsPrev(t,e,i){return t.slice(i,e.items.visibleConf.old+i)}function gi_getNewItemsPrev(t,e){return t.slice(0,e.items.visible)}function gi_getOldItemsNext(t,e){return t.slice(0,e.items.visibleConf.old)}function gi_getNewItemsNext(t,e,i){return t.slice(i,e.items.visible+i)}function sz_storeMargin(t,e,i){e.usePadding&&(is_string(i)||(i="_cfs_origCssMargin"),t.each(function(){var t=$(this),n=parseInt(t.css(e.d.marginRight),10);is_number(n)||(n=0),t.data(i,n)}))}function sz_resetMargin(t,e,i){if(e.usePadding){var n=is_boolean(i)?i:!1;is_number(i)||(i=0),sz_storeMargin(t,e,"_cfs_tempCssMargin"),t.each(function(){var t=$(this);t.css(e.d.marginRight,n?t.data("_cfs_tempCssMargin"):i+t.data("_cfs_origCssMargin"))})}}function sz_storeSizes(t,e){e.responsive&&t.each(function(){var t=$(this),e=in_mapCss(t,["width","height"]);t.data("_cfs_origCssSizes",e)})}function sz_setResponsiveSizes(t,e){var i=(t.items.visible,t.items[t.d.width]),n=t[t.d.height],o=is_percentage(n);e.each(function(){var e=$(this),r=i-ms_getPaddingBorderMargin(e,t,"Width");e[t.d.width](r),o&&e[t.d.height](ms_getPercentage(r,n))})}function sz_setSizes(t,e){var i=t.parent(),n=t.children(),o=gi_getCurrentItems(n,e),r=cf_mapWrapperSizes(ms_getSizes(o,e,!0),e,!1);if(i.css(r),e.usePadding){var s=e.padding,a=s[e.d[1]];e.align&&0>a&&(a=0);var l=o.last();l.css(e.d.marginRight,l.data("_cfs_origCssMargin")+a),t.css(e.d.top,s[e.d[0]]),t.css(e.d.left,s[e.d[3]])}return t.css(e.d.width,r[e.d.width]+2*ms_getTotalSize(n,e,"width")),t.css(e.d.height,ms_getLargestSize(n,e,"height")),r}function ms_getSizes(t,e,i){return[ms_getTotalSize(t,e,"width",i),ms_getLargestSize(t,e,"height",i)]}function ms_getLargestSize(t,e,i,n){return is_boolean(n)||(n=!1),is_number(e[e.d[i]])&&n?e[e.d[i]]:is_number(e.items[e.d[i]])?e.items[e.d[i]]:(i=i.toLowerCase().indexOf("width")>-1?"outerWidth":"outerHeight",ms_getTrueLargestSize(t,e,i))}function ms_getTrueLargestSize(t,e,i){for(var n=0,o=0,r=t.length;r>o;o++){var s=t.eq(o),a=s.is(":visible")?s[e.d[i]](!0):0;a>n&&(n=a)}return n}function ms_getTotalSize(t,e,i,n){if(is_boolean(n)||(n=!1),is_number(e[e.d[i]])&&n)return e[e.d[i]];if(is_number(e.items[e.d[i]]))return e.items[e.d[i]]*t.length;for(var o=i.toLowerCase().indexOf("width")>-1?"outerWidth":"outerHeight",r=0,s=0,a=t.length;a>s;s++){var l=t.eq(s);r+=l.is(":visible")?l[e.d[o]](!0):0}return r}function ms_getParentSize(t,e,i){var n=t.is(":visible");n&&t.hide();var o=t.parent()[e.d[i]]();return n&&t.show(),o}function ms_getMaxDimension(t,e){return is_number(t[t.d.width])?t[t.d.width]:e}function ms_hasVariableSizes(t,e,i){for(var n=!1,o=!1,r=0,s=t.length;s>r;r++){var a=t.eq(r),l=a.is(":visible")?a[e.d[i]](!0):0;n===!1?n=l:n!=l&&(o=!0),0==n&&(o=!0)}return o}function ms_getPaddingBorderMargin(t,e,i){return t[e.d["outer"+i]](!0)-t[e.d[i.toLowerCase()]]()}function ms_getPercentage(t,e){if(is_percentage(e)){if(e=parseInt(e.slice(0,-1),10),!is_number(e))return t;t*=e/100}return t}function cf_e(t,e,i,n,o){return is_boolean(i)||(i=!0),is_boolean(n)||(n=!0),is_boolean(o)||(o=!1),i&&(t=e.events.prefix+t),n&&(t=t+"."+e.events.namespace),n&&o&&(t+=e.serialNumber),t}function cf_c(t,e){return is_string(e.classnames[t])?e.classnames[t]:t}function cf_mapWrapperSizes(t,e,i){is_boolean(i)||(i=!0);var n=e.usePadding&&i?e.padding:[0,0,0,0],o={};return o[e.d.width]=t[0]+n[1]+n[3],o[e.d.height]=t[1]+n[0]+n[2],o}function cf_sortParams(t,e){for(var i=[],n=0,o=t.length;o>n;n++)for(var r=0,s=e.length;s>r;r++)if(e[r].indexOf(typeof t[n])>-1&&is_undefined(i[r])){i[r]=t[n];break}return i}function cf_getPadding(t){if(is_undefined(t))return[0,0,0,0];if(is_number(t))return[t,t,t,t];if(is_string(t)&&(t=t.split("px").join("").split("em").join("").split(" ")),!is_array(t))return[0,0,0,0];for(var e=0;4>e;e++)t[e]=parseInt(t[e],10);switch(t.length){case 0:return[0,0,0,0];case 1:return[t[0],t[0],t[0],t[0]];case 2:return[t[0],t[1],t[0],t[1]];case 3:return[t[0],t[1],t[2],t[1]];default:return[t[0],t[1],t[2],t[3]]}}function cf_getAlignPadding(t,e){var i=is_number(e[e.d.width])?Math.ceil(e[e.d.width]-ms_getTotalSize(t,e,"width")):0;switch(e.align){case"left":return[0,i];case"right":return[i,0];case"center":default:return[Math.ceil(i/2),Math.floor(i/2)]}}function cf_getDimensions(t){for(var e=[["width","innerWidth","outerWidth","height","innerHeight","outerHeight","left","top","marginRight",0,1,2,3],["height","innerHeight","outerHeight","width","innerWidth","outerWidth","top","left","marginBottom",3,2,1,0]],i=e[0].length,n="right"==t.direction||"left"==t.direction?0:1,o={},r=0;i>r;r++)o[e[0][r]]=e[n][r];return o}function cf_getAdjust(t,e,i,n){var o=t;if(is_function(i))o=i.call(n,o);else if(is_string(i)){var r=i.split("+"),s=i.split("-");if(s.length>r.length)var a=!0,l=s[0],c=s[1];else var a=!1,l=r[0],c=r[1];switch(l){case"even":o=t%2==1?t-1:t;break;case"odd":o=t%2==0?t-1:t;break;default:o=t}c=parseInt(c,10),is_number(c)&&(a&&(c=-c),o+=c)}return(!is_number(o)||1>o)&&(o=1),o}function cf_getItemsAdjust(t,e,i,n){return cf_getItemAdjustMinMax(cf_getAdjust(t,e,i,n),e.items.visibleConf)}function cf_getItemAdjustMinMax(t,e){return is_number(e.min)&&t<e.min&&(t=e.min),is_number(e.max)&&t>e.max&&(t=e.max),1>t&&(t=1),t}function cf_getSynchArr(t){is_array(t)||(t=[[t]]),is_array(t[0])||(t=[t]);for(var e=0,i=t.length;i>e;e++)is_string(t[e][0])&&(t[e][0]=$(t[e][0])),is_boolean(t[e][1])||(t[e][1]=!0),is_boolean(t[e][2])||(t[e][2]=!0),is_number(t[e][3])||(t[e][3]=0);return t}function cf_getKeyCode(t){return"right"==t?39:"left"==t?37:"up"==t?38:"down"==t?40:-1}function cf_setCookie(t,e,i){if(t){var n=e.triggerHandler(cf_e("currentPosition",i));$.fn.carouFredSel.cookie.set(t,n)}}function cf_getCookie(t){var e=$.fn.carouFredSel.cookie.get(t);return""==e?0:e}function in_mapCss(t,e){for(var i,n={},o=0,r=e.length;r>o;o++)i=e[o],n[i]=t.css(i);return n}function in_complementItems(t,e,i,n){return is_object(t.visibleConf)||(t.visibleConf={}),is_object(t.sizesConf)||(t.sizesConf={}),0==t.start&&is_number(n)&&(t.start=n),is_object(t.visible)?(t.visibleConf.min=t.visible.min,t.visibleConf.max=t.visible.max,t.visible=!1):is_string(t.visible)?("variable"==t.visible?t.visibleConf.variable=!0:t.visibleConf.adjust=t.visible,t.visible=!1):is_function(t.visible)&&(t.visibleConf.adjust=t.visible,t.visible=!1),is_string(t.filter)||(t.filter=i.filter(":hidden").length>0?":visible":"*"),t[e.d.width]||(e.responsive?(debug(!0,"Set a "+e.d.width+" for the items!"),t[e.d.width]=ms_getTrueLargestSize(i,e,"outerWidth")):t[e.d.width]=ms_hasVariableSizes(i,e,"outerWidth")?"variable":i[e.d.outerWidth](!0)),t[e.d.height]||(t[e.d.height]=ms_hasVariableSizes(i,e,"outerHeight")?"variable":i[e.d.outerHeight](!0)),t.sizesConf.width=t.width,t.sizesConf.height=t.height,t}function in_complementVisibleItems(t,e){return"variable"==t.items[t.d.width]&&(t.items.visibleConf.variable=!0),t.items.visibleConf.variable||(is_number(t[t.d.width])?t.items.visible=Math.floor(t[t.d.width]/t.items[t.d.width]):(t.items.visible=Math.floor(e/t.items[t.d.width]),t[t.d.width]=t.items.visible*t.items[t.d.width],t.items.visibleConf.adjust||(t.align=!1)),("Infinity"==t.items.visible||t.items.visible<1)&&(debug(!0,'Not a valid number of visible items: Set to "variable".'),t.items.visibleConf.variable=!0)),t}function in_complementPrimarySize(t,e,i){return"auto"==t&&(t=ms_getTrueLargestSize(i,e,"outerWidth")),t}function in_complementSecondarySize(t,e,i){return"auto"==t&&(t=ms_getTrueLargestSize(i,e,"outerHeight")),t||(t=e.items[e.d.height]),t}function in_getAlignPadding(t,e){var i=cf_getAlignPadding(gi_getCurrentItems(e,t),t);return t.padding[t.d[1]]=i[1],t.padding[t.d[3]]=i[0],t}function in_getResponsiveValues(t,e,i){var n=cf_getItemAdjustMinMax(Math.ceil(t[t.d.width]/t.items[t.d.width]),t.items.visibleConf);n>e.length&&(n=e.length);var o=Math.floor(t[t.d.width]/n);return t.items.visible=n,t.items[t.d.width]=o,t[t.d.width]=n*o,t}function bt_pauseOnHoverConfig(t){if(is_string(t))var e=t.indexOf("immediate")>-1?!0:!1,i=t.indexOf("resume")>-1?!0:!1;else var e=i=!1;return[e,i]}function bt_mousesheelNumber(t){return is_number(t)?t:null}function is_null(t){return null===t}function is_undefined(t){return is_null(t)||"undefined"==typeof t||""===t||"undefined"===t}function is_array(t){return t instanceof Array}function is_jquery(t){return t instanceof jQuery}function is_object(t){return(t instanceof Object||"object"==typeof t)&&!is_null(t)&&!is_jquery(t)&&!is_array(t)}function is_number(t){return(t instanceof Number||"number"==typeof t)&&!isNaN(t)}function is_string(t){return(t instanceof String||"string"==typeof t)&&!is_undefined(t)&&!is_true(t)&&!is_false(t)}function is_function(t){return t instanceof Function||"function"==typeof t}function is_boolean(t){return t instanceof Boolean||"boolean"==typeof t||is_true(t)||is_false(t)}function is_true(t){return t===!0||"true"===t}function is_false(t){return t===!1||"false"===t}function is_percentage(t){return is_string(t)&&"%"==t.slice(-1)}function getTime(){return(new Date).getTime()}function deprecated(t,e){debug(!0,t+" is DEPRECATED, support for it will be removed. Use "+e+" instead.")}function debug(t,e){if(is_object(t)){var i=" ("+t.selector+")";t=t.debug}else var i="";return t?(e=is_string(e)?"carouFredSel"+i+": "+e:["carouFredSel"+i+":",e],window.console&&window.console.log&&window.console.log(e),!1):!1}$.fn.carouFredSel||($.fn.caroufredsel=$.fn.carouFredSel=function(options,configs){if(0==this.length)return debug(!0,'No element found for "'+this.selector+'".'),this;if(this.length>1)return this.each(function(){$(this).carouFredSel(options,configs)});var $cfs=this,$tt0=this[0],starting_position=!1;$cfs.data("_cfs_isCarousel")&&(starting_position=$cfs.triggerHandler("_cfs_triggerEvent","currentPosition"),$cfs.trigger("_cfs_triggerEvent",["destroy",!0])),$cfs._cfs_init=function(t,e,i){t=go_getObject($tt0,t),t.items=go_getItemsObject($tt0,t.items),t.scroll=go_getScrollObject($tt0,t.scroll),t.auto=go_getAutoObject($tt0,t.auto),t.prev=go_getPrevNextObject($tt0,t.prev),t.next=go_getPrevNextObject($tt0,t.next),t.pagination=go_getPaginationObject($tt0,t.pagination),t.swipe=go_getSwipeObject($tt0,t.swipe),t.mousewheel=go_getMousewheelObject($tt0,t.mousewheel),e&&(opts_orig=$.extend(!0,{},$.fn.carouFredSel.defaults,t)),opts=$.extend(!0,{},$.fn.carouFredSel.defaults,t),opts.d=cf_getDimensions(opts),crsl.direction="up"==opts.direction||"left"==opts.direction?"next":"prev";var n=$cfs.children(),o=ms_getParentSize($wrp,opts,"width");if(is_true(opts.cookie)&&(opts.cookie="caroufredsel_cookie_"+conf.serialNumber),opts.maxDimension=ms_getMaxDimension(opts,o),opts.items=in_complementItems(opts.items,opts,n,i),opts[opts.d.width]=in_complementPrimarySize(opts[opts.d.width],opts,n),opts[opts.d.height]=in_complementSecondarySize(opts[opts.d.height],opts,n),opts.responsive&&(is_percentage(opts[opts.d.width])||(opts[opts.d.width]="100%")),is_percentage(opts[opts.d.width])&&(crsl.upDateOnWindowResize=!0,crsl.primarySizePercentage=opts[opts.d.width],opts[opts.d.width]=ms_getPercentage(o,crsl.primarySizePercentage),opts.items.visible||(opts.items.visibleConf.variable=!0)),opts.responsive?(opts.usePadding=!1,opts.padding=[0,0,0,0],opts.align=!1,opts.items.visibleConf.variable=!1):(opts.items.visible||(opts=in_complementVisibleItems(opts,o)),opts[opts.d.width]||(!opts.items.visibleConf.variable&&is_number(opts.items[opts.d.width])&&"*"==opts.items.filter?(opts[opts.d.width]=opts.items.visible*opts.items[opts.d.width],opts.align=!1):opts[opts.d.width]="variable"),is_undefined(opts.align)&&(opts.align=is_number(opts[opts.d.width])?"center":!1),opts.items.visibleConf.variable&&(opts.items.visible=gn_getVisibleItemsNext(n,opts,0))),"*"==opts.items.filter||opts.items.visibleConf.variable||(opts.items.visibleConf.org=opts.items.visible,opts.items.visible=gn_getVisibleItemsNextFilter(n,opts,0)),opts.items.visible=cf_getItemsAdjust(opts.items.visible,opts,opts.items.visibleConf.adjust,$tt0),opts.items.visibleConf.old=opts.items.visible,opts.responsive)opts.items.visibleConf.min||(opts.items.visibleConf.min=opts.items.visible),opts.items.visibleConf.max||(opts.items.visibleConf.max=opts.items.visible),opts=in_getResponsiveValues(opts,n,o);else switch(opts.padding=cf_getPadding(opts.padding),"top"==opts.align?opts.align="left":"bottom"==opts.align&&(opts.align="right"),opts.align){case"center":case"left":case"right":"variable"!=opts[opts.d.width]&&(opts=in_getAlignPadding(opts,n),opts.usePadding=!0);break;default:opts.align=!1,opts.usePadding=0==opts.padding[0]&&0==opts.padding[1]&&0==opts.padding[2]&&0==opts.padding[3]?!1:!0}is_number(opts.scroll.duration)||(opts.scroll.duration=500),is_undefined(opts.scroll.items)&&(opts.scroll.items=opts.responsive||opts.items.visibleConf.variable||"*"!=opts.items.filter?"visible":opts.items.visible),opts.auto=$.extend(!0,{},opts.scroll,opts.auto),opts.prev=$.extend(!0,{},opts.scroll,opts.prev),opts.next=$.extend(!0,{},opts.scroll,opts.next),opts.pagination=$.extend(!0,{},opts.scroll,opts.pagination),opts.auto=go_complementAutoObject($tt0,opts.auto),opts.prev=go_complementPrevNextObject($tt0,opts.prev),opts.next=go_complementPrevNextObject($tt0,opts.next),opts.pagination=go_complementPaginationObject($tt0,opts.pagination),opts.swipe=go_complementSwipeObject($tt0,opts.swipe),opts.mousewheel=go_complementMousewheelObject($tt0,opts.mousewheel),opts.synchronise&&(opts.synchronise=cf_getSynchArr(opts.synchronise)),opts.auto.onPauseStart&&(opts.auto.onTimeoutStart=opts.auto.onPauseStart,deprecated("auto.onPauseStart","auto.onTimeoutStart")),opts.auto.onPausePause&&(opts.auto.onTimeoutPause=opts.auto.onPausePause,deprecated("auto.onPausePause","auto.onTimeoutPause")),opts.auto.onPauseEnd&&(opts.auto.onTimeoutEnd=opts.auto.onPauseEnd,deprecated("auto.onPauseEnd","auto.onTimeoutEnd")),opts.auto.pauseDuration&&(opts.auto.timeoutDuration=opts.auto.pauseDuration,deprecated("auto.pauseDuration","auto.timeoutDuration"))},$cfs._cfs_build=function(){$cfs.data("_cfs_isCarousel",!0);var t=$cfs.children(),e=in_mapCss($cfs,["textAlign","float","position","top","right","bottom","left","zIndex","width","height","marginTop","marginRight","marginBottom","marginLeft"]),i="relative";switch(e.position){case"absolute":case"fixed":i=e.position}$wrp.css(e).css({overflow:"hidden",position:i}),$cfs.data("_cfs_origCss",e).css({textAlign:"left","float":"none",position:"absolute",top:0,right:"auto",bottom:"auto",left:0,marginTop:0,marginRight:0,marginBottom:0,marginLeft:0}),sz_storeMargin(t,opts),sz_storeSizes(t,opts),opts.responsive&&sz_setResponsiveSizes(opts,t)},$cfs._cfs_bind_events=function(){$cfs._cfs_unbind_events(),$cfs.bind(cf_e("stop",conf),function(t,e){return t.stopPropagation(),crsl.isStopped||opts.auto.button&&opts.auto.button.addClass(cf_c("stopped",conf)),crsl.isStopped=!0,opts.auto.play&&(opts.auto.play=!1,$cfs.trigger(cf_e("pause",conf),e)),!0}),$cfs.bind(cf_e("finish",conf),function(t){return t.stopPropagation(),crsl.isScrolling&&sc_stopScroll(scrl),!0}),$cfs.bind(cf_e("pause",conf),function(t,e,i){if(t.stopPropagation(),tmrs=sc_clearTimers(tmrs),e&&crsl.isScrolling){scrl.isStopped=!0;var n=getTime()-scrl.startTime;scrl.duration-=n,scrl.pre&&(scrl.pre.duration-=n),scrl.post&&(scrl.post.duration-=n),sc_stopScroll(scrl,!1)}if(crsl.isPaused||crsl.isScrolling||i&&(tmrs.timePassed+=getTime()-tmrs.startTime),crsl.isPaused||opts.auto.button&&opts.auto.button.addClass(cf_c("paused",conf)),crsl.isPaused=!0,opts.auto.onTimeoutPause){var o=opts.auto.timeoutDuration-tmrs.timePassed,r=100-Math.ceil(100*o/opts.auto.timeoutDuration);opts.auto.onTimeoutPause.call($tt0,r,o)}return!0}),$cfs.bind(cf_e("play",conf),function(t,e,i,n){t.stopPropagation(),tmrs=sc_clearTimers(tmrs);var o=[e,i,n],r=["string","number","boolean"],s=cf_sortParams(o,r);if(e=s[0],i=s[1],n=s[2],"prev"!=e&&"next"!=e&&(e=crsl.direction),is_number(i)||(i=0),is_boolean(n)||(n=!1),n&&(crsl.isStopped=!1,opts.auto.play=!0),!opts.auto.play)return t.stopImmediatePropagation(),debug(conf,"Carousel stopped: Not scrolling.");crsl.isPaused&&opts.auto.button&&(opts.auto.button.removeClass(cf_c("stopped",conf)),opts.auto.button.removeClass(cf_c("paused",conf))),crsl.isPaused=!1,tmrs.startTime=getTime();var a=opts.auto.timeoutDuration+i;return dur2=a-tmrs.timePassed,perc=100-Math.ceil(100*dur2/a),opts.auto.progress&&(tmrs.progress=setInterval(function(){var t=getTime()-tmrs.startTime+tmrs.timePassed,e=Math.ceil(100*t/a);opts.auto.progress.updater.call(opts.auto.progress.bar[0],e)},opts.auto.progress.interval)),tmrs.auto=setTimeout(function(){opts.auto.progress&&opts.auto.progress.updater.call(opts.auto.progress.bar[0],100),opts.auto.onTimeoutEnd&&opts.auto.onTimeoutEnd.call($tt0,perc,dur2),crsl.isScrolling?$cfs.trigger(cf_e("play",conf),e):$cfs.trigger(cf_e(e,conf),opts.auto)},dur2),opts.auto.onTimeoutStart&&opts.auto.onTimeoutStart.call($tt0,perc,dur2),!0}),$cfs.bind(cf_e("resume",conf),function(t){return t.stopPropagation(),scrl.isStopped?(scrl.isStopped=!1,crsl.isPaused=!1,crsl.isScrolling=!0,scrl.startTime=getTime(),sc_startScroll(scrl)):$cfs.trigger(cf_e("play",conf)),!0}),$cfs.bind(cf_e("prev",conf)+" "+cf_e("next",conf),function(t,e,i,n,o){if(t.stopPropagation(),crsl.isStopped||$cfs.is(":hidden"))return t.stopImmediatePropagation(),debug(conf,"Carousel stopped or hidden: Not scrolling.");var r=is_number(opts.items.minimum)?opts.items.minimum:opts.items.visible+1;if(r>itms.total)return t.stopImmediatePropagation(),debug(conf,"Not enough items ("+itms.total+" total, "+r+" needed): Not scrolling.");var s=[e,i,n,o],a=["object","number/string","function","boolean"],l=cf_sortParams(s,a);e=l[0],i=l[1],n=l[2],o=l[3];var c=t.type.slice(conf.events.prefix.length);if(is_object(e)||(e={}),is_function(n)&&(e.onAfter=n),is_boolean(o)&&(e.queue=o),e=$.extend(!0,{},opts[c],e),e.conditions&&!e.conditions.call($tt0,c))return t.stopImmediatePropagation(),debug(conf,'Callback "conditions" returned false.');if(!is_number(i)){if("*"!=opts.items.filter)i="visible";else for(var u=[i,e.items,opts[c].items],l=0,d=u.length;d>l;l++)if(is_number(u[l])||"page"==u[l]||"visible"==u[l]){i=u[l];break}switch(i){case"page":return t.stopImmediatePropagation(),$cfs.triggerHandler(cf_e(c+"Page",conf),[e,n]);case"visible":opts.items.visibleConf.variable||"*"!=opts.items.filter||(i=opts.items.visible)}}if(scrl.isStopped)return $cfs.trigger(cf_e("resume",conf)),$cfs.trigger(cf_e("queue",conf),[c,[e,i,n]]),t.stopImmediatePropagation(),debug(conf,"Carousel resumed scrolling.");if(e.duration>0&&crsl.isScrolling)return e.queue&&("last"==e.queue&&(queu=[]),("first"!=e.queue||0==queu.length)&&$cfs.trigger(cf_e("queue",conf),[c,[e,i,n]])),t.stopImmediatePropagation(),debug(conf,"Carousel currently scrolling.");if(tmrs.timePassed=0,$cfs.trigger(cf_e("slide_"+c,conf),[e,i]),opts.synchronise)for(var h=opts.synchronise,f=[e,i],p=0,d=h.length;d>p;p++){var m=c;h[p][2]||(m="prev"==m?"next":"prev"),h[p][1]||(f[0]=h[p][0].triggerHandler("_cfs_triggerEvent",["configuration",m])),f[1]=i+h[p][3],h[p][0].trigger("_cfs_triggerEvent",["slide_"+m,f])}return!0}),$cfs.bind(cf_e("slide_prev",conf),function(t,e,i){t.stopPropagation();var n=$cfs.children();if(!opts.circular&&0==itms.first)return opts.infinite&&$cfs.trigger(cf_e("next",conf),itms.total-1),t.stopImmediatePropagation();if(sz_resetMargin(n,opts),!is_number(i)){if(opts.items.visibleConf.variable)i=gn_getVisibleItemsPrev(n,opts,itms.total-1);else if("*"!=opts.items.filter){var o=is_number(e.items)?e.items:gn_getVisibleOrg($cfs,opts);i=gn_getScrollItemsPrevFilter(n,opts,itms.total-1,o)}else i=opts.items.visible;i=cf_getAdjust(i,opts,e.items,$tt0)}if(opts.circular||itms.total-i<itms.first&&(i=itms.total-itms.first),opts.items.visibleConf.old=opts.items.visible,opts.items.visibleConf.variable){var r=cf_getItemsAdjust(gn_getVisibleItemsNext(n,opts,itms.total-i),opts,opts.items.visibleConf.adjust,$tt0);opts.items.visible+i<=r&&i<itms.total&&(i++,r=cf_getItemsAdjust(gn_getVisibleItemsNext(n,opts,itms.total-i),opts,opts.items.visibleConf.adjust,$tt0)),opts.items.visible=r}else if("*"!=opts.items.filter){var r=gn_getVisibleItemsNextFilter(n,opts,itms.total-i);opts.items.visible=cf_getItemsAdjust(r,opts,opts.items.visibleConf.adjust,$tt0)}if(sz_resetMargin(n,opts,!0),0==i)return t.stopImmediatePropagation(),debug(conf,"0 items to scroll: Not scrolling.");for(debug(conf,"Scrolling "+i+" items backward."),itms.first+=i;itms.first>=itms.total;)itms.first-=itms.total;opts.circular||(0==itms.first&&e.onEnd&&e.onEnd.call($tt0,"prev"),opts.infinite||nv_enableNavi(opts,itms.first,conf)),$cfs.children().slice(itms.total-i,itms.total).prependTo($cfs),itms.total<opts.items.visible+i&&$cfs.children().slice(0,opts.items.visible+i-itms.total).clone(!0).appendTo($cfs);var n=$cfs.children(),s=gi_getOldItemsPrev(n,opts,i),a=gi_getNewItemsPrev(n,opts),l=n.eq(i-1),c=s.last(),u=a.last();sz_resetMargin(n,opts);var d=0,h=0;if(opts.align){var f=cf_getAlignPadding(a,opts);d=f[0],h=f[1]}var p=0>d?opts.padding[opts.d[3]]:0,m=!1,g=$();if(opts.items.visible<i&&(g=n.slice(opts.items.visibleConf.old,i),"directscroll"==e.fx)){var v=opts.items[opts.d.width];m=g,l=u,sc_hideHiddenItems(m),opts.items[opts.d.width]="variable"}var y=!1,b=ms_getTotalSize(n.slice(0,i),opts,"width"),x=cf_mapWrapperSizes(ms_getSizes(a,opts,!0),opts,!opts.usePadding),_=0,w={},C={},k={},T={},S={},N={},D={},E=sc_getDuration(e,opts,i,b);switch(e.fx){case"cover":case"cover-fade":_=ms_getTotalSize(n.slice(0,opts.items.visible),opts,"width")}m&&(opts.items[opts.d.width]=v),sz_resetMargin(n,opts,!0),h>=0&&sz_resetMargin(c,opts,opts.padding[opts.d[1]]),d>=0&&sz_resetMargin(l,opts,opts.padding[opts.d[3]]),opts.align&&(opts.padding[opts.d[1]]=h,opts.padding[opts.d[3]]=d),N[opts.d.left]=-(b-p),D[opts.d.left]=-(_-p),C[opts.d.left]=x[opts.d.width];var P=function(){},A=function(){},M=function(){},I=function(){},R=function(){},O=function(){},L=function(){},F=function(){},H=function(){},B=function(){},z=function(){};switch(e.fx){case"crossfade":case"cover":case"cover-fade":case"uncover":case"uncover-fade":y=$cfs.clone(!0).appendTo($wrp)}switch(e.fx){case"crossfade":case"uncover":case"uncover-fade":y.children().slice(0,i).remove(),y.children().slice(opts.items.visibleConf.old).remove();break;case"cover":case"cover-fade":y.children().slice(opts.items.visible).remove(),y.css(D)}if($cfs.css(N),scrl=sc_setScroll(E,e.easing),w[opts.d.left]=opts.usePadding?opts.padding[opts.d[3]]:0,("variable"==opts[opts.d.width]||"variable"==opts[opts.d.height])&&(P=function(){$wrp.css(x)},A=function(){scrl.anims.push([$wrp,x])}),opts.usePadding){switch(u.not(l).length&&(k[opts.d.marginRight]=l.data("_cfs_origCssMargin"),0>d?l.css(k):(L=function(){l.css(k)},F=function(){scrl.anims.push([l,k])})),e.fx){case"cover":case"cover-fade":y.children().eq(i-1).css(k)}u.not(c).length&&(T[opts.d.marginRight]=c.data("_cfs_origCssMargin"),M=function(){c.css(T)},I=function(){scrl.anims.push([c,T])}),h>=0&&(S[opts.d.marginRight]=u.data("_cfs_origCssMargin")+opts.padding[opts.d[1]],R=function(){u.css(S)},O=function(){scrl.anims.push([u,S])})}z=function(){$cfs.css(w)};var W=opts.items.visible+i-itms.total;B=function(){if(W>0&&($cfs.children().slice(itms.total).remove(),s=$($cfs.children().slice(itms.total-(opts.items.visible-W)).get().concat($cfs.children().slice(0,W).get()))),sc_showHiddenItems(m),opts.usePadding){var t=$cfs.children().eq(opts.items.visible+i-1);t.css(opts.d.marginRight,t.data("_cfs_origCssMargin"))}};var j=sc_mapCallbackArguments(s,g,a,i,"prev",E,x);switch(H=function(){sc_afterScroll($cfs,y,e),crsl.isScrolling=!1,clbk.onAfter=sc_fireCallbacks($tt0,e,"onAfter",j,clbk),queu=sc_fireQueue($cfs,queu,conf),crsl.isPaused||$cfs.trigger(cf_e("play",conf))},crsl.isScrolling=!0,tmrs=sc_clearTimers(tmrs),clbk.onBefore=sc_fireCallbacks($tt0,e,"onBefore",j,clbk),e.fx){case"none":$cfs.css(w),P(),M(),R(),L(),z(),B(),H();break;case"fade":scrl.anims.push([$cfs,{opacity:0},function(){P(),M(),R(),L(),z(),B(),scrl=sc_setScroll(E,e.easing),scrl.anims.push([$cfs,{opacity:1},H]),sc_startScroll(scrl)}]);break;case"crossfade":$cfs.css({opacity:0}),scrl.anims.push([y,{opacity:0}]),scrl.anims.push([$cfs,{opacity:1},H]),A(),M(),R(),L(),z(),B();break;case"cover":scrl.anims.push([y,w,function(){M(),R(),L(),z(),B(),H()}]),A();break;case"cover-fade":scrl.anims.push([$cfs,{opacity:0}]),scrl.anims.push([y,w,function(){$cfs.css({opacity:1}),M(),R(),L(),z(),B(),H()}]),A();break;case"uncover":scrl.anims.push([y,C,H]),A(),M(),R(),L(),z(),B();break;case"uncover-fade":$cfs.css({opacity:0}),scrl.anims.push([$cfs,{opacity:1}]),scrl.anims.push([y,C,H]),A(),M(),R(),L(),z(),B();break;default:scrl.anims.push([$cfs,w,function(){B(),H()}]),A(),I(),O(),F()}return sc_startScroll(scrl),cf_setCookie(opts.cookie,$cfs,conf),$cfs.trigger(cf_e("updatePageStatus",conf),[!1,x]),!0}),$cfs.bind(cf_e("slide_next",conf),function(t,e,i){t.stopPropagation();var n=$cfs.children();if(!opts.circular&&itms.first==opts.items.visible)return opts.infinite&&$cfs.trigger(cf_e("prev",conf),itms.total-1),t.stopImmediatePropagation();if(sz_resetMargin(n,opts),!is_number(i)){if("*"!=opts.items.filter){var o=is_number(e.items)?e.items:gn_getVisibleOrg($cfs,opts);i=gn_getScrollItemsNextFilter(n,opts,0,o)}else i=opts.items.visible;i=cf_getAdjust(i,opts,e.items,$tt0)}var r=0==itms.first?itms.total:itms.first;if(!opts.circular){if(opts.items.visibleConf.variable)var s=gn_getVisibleItemsNext(n,opts,i),o=gn_getVisibleItemsPrev(n,opts,r-1);else var s=opts.items.visible,o=opts.items.visible;i+s>r&&(i=r-o)}if(opts.items.visibleConf.old=opts.items.visible,opts.items.visibleConf.variable){for(var s=cf_getItemsAdjust(gn_getVisibleItemsNextTestCircular(n,opts,i,r),opts,opts.items.visibleConf.adjust,$tt0);opts.items.visible-i>=s&&i<itms.total;)i++,
s=cf_getItemsAdjust(gn_getVisibleItemsNextTestCircular(n,opts,i,r),opts,opts.items.visibleConf.adjust,$tt0);opts.items.visible=s}else if("*"!=opts.items.filter){var s=gn_getVisibleItemsNextFilter(n,opts,i);opts.items.visible=cf_getItemsAdjust(s,opts,opts.items.visibleConf.adjust,$tt0)}if(sz_resetMargin(n,opts,!0),0==i)return t.stopImmediatePropagation(),debug(conf,"0 items to scroll: Not scrolling.");for(debug(conf,"Scrolling "+i+" items forward."),itms.first-=i;itms.first<0;)itms.first+=itms.total;opts.circular||(itms.first==opts.items.visible&&e.onEnd&&e.onEnd.call($tt0,"next"),opts.infinite||nv_enableNavi(opts,itms.first,conf)),itms.total<opts.items.visible+i&&$cfs.children().slice(0,opts.items.visible+i-itms.total).clone(!0).appendTo($cfs);var n=$cfs.children(),a=gi_getOldItemsNext(n,opts),l=gi_getNewItemsNext(n,opts,i),c=n.eq(i-1),u=a.last(),d=l.last();sz_resetMargin(n,opts);var h=0,f=0;if(opts.align){var p=cf_getAlignPadding(l,opts);h=p[0],f=p[1]}var m=!1,g=$();if(opts.items.visibleConf.old<i&&(g=n.slice(opts.items.visibleConf.old,i),"directscroll"==e.fx)){var v=opts.items[opts.d.width];m=g,c=u,sc_hideHiddenItems(m),opts.items[opts.d.width]="variable"}var y=!1,b=ms_getTotalSize(n.slice(0,i),opts,"width"),x=cf_mapWrapperSizes(ms_getSizes(l,opts,!0),opts,!opts.usePadding),_=0,w={},C={},k={},T={},S={},N=sc_getDuration(e,opts,i,b);switch(e.fx){case"uncover":case"uncover-fade":_=ms_getTotalSize(n.slice(0,opts.items.visibleConf.old),opts,"width")}m&&(opts.items[opts.d.width]=v),opts.align&&opts.padding[opts.d[1]]<0&&(opts.padding[opts.d[1]]=0),sz_resetMargin(n,opts,!0),sz_resetMargin(u,opts,opts.padding[opts.d[1]]),opts.align&&(opts.padding[opts.d[1]]=f,opts.padding[opts.d[3]]=h),S[opts.d.left]=opts.usePadding?opts.padding[opts.d[3]]:0;var D=function(){},E=function(){},P=function(){},A=function(){},M=function(){},I=function(){},R=function(){},O=function(){},L=function(){};switch(e.fx){case"crossfade":case"cover":case"cover-fade":case"uncover":case"uncover-fade":y=$cfs.clone(!0).appendTo($wrp),y.children().slice(opts.items.visibleConf.old).remove()}switch(e.fx){case"crossfade":case"cover":case"cover-fade":$cfs.css("zIndex",1),y.css("zIndex",0)}if(scrl=sc_setScroll(N,e.easing),w[opts.d.left]=-b,C[opts.d.left]=-_,0>h&&(w[opts.d.left]+=h),("variable"==opts[opts.d.width]||"variable"==opts[opts.d.height])&&(D=function(){$wrp.css(x)},E=function(){scrl.anims.push([$wrp,x])}),opts.usePadding){var F=d.data("_cfs_origCssMargin");f>=0&&(F+=opts.padding[opts.d[1]]),d.css(opts.d.marginRight,F),c.not(u).length&&(T[opts.d.marginRight]=u.data("_cfs_origCssMargin")),P=function(){u.css(T)},A=function(){scrl.anims.push([u,T])};var H=c.data("_cfs_origCssMargin");h>0&&(H+=opts.padding[opts.d[3]]),k[opts.d.marginRight]=H,M=function(){c.css(k)},I=function(){scrl.anims.push([c,k])}}L=function(){$cfs.css(S)};var B=opts.items.visible+i-itms.total;O=function(){B>0&&$cfs.children().slice(itms.total).remove();var t=$cfs.children().slice(0,i).appendTo($cfs).last();if(B>0&&(l=gi_getCurrentItems(n,opts)),sc_showHiddenItems(m),opts.usePadding){if(itms.total<opts.items.visible+i){var e=$cfs.children().eq(opts.items.visible-1);e.css(opts.d.marginRight,e.data("_cfs_origCssMargin")+opts.padding[opts.d[3]])}t.css(opts.d.marginRight,t.data("_cfs_origCssMargin"))}};var z=sc_mapCallbackArguments(a,g,l,i,"next",N,x);switch(R=function(){$cfs.css("zIndex",$cfs.data("_cfs_origCss").zIndex),sc_afterScroll($cfs,y,e),crsl.isScrolling=!1,clbk.onAfter=sc_fireCallbacks($tt0,e,"onAfter",z,clbk),queu=sc_fireQueue($cfs,queu,conf),crsl.isPaused||$cfs.trigger(cf_e("play",conf))},crsl.isScrolling=!0,tmrs=sc_clearTimers(tmrs),clbk.onBefore=sc_fireCallbacks($tt0,e,"onBefore",z,clbk),e.fx){case"none":$cfs.css(w),D(),P(),M(),L(),O(),R();break;case"fade":scrl.anims.push([$cfs,{opacity:0},function(){D(),P(),M(),L(),O(),scrl=sc_setScroll(N,e.easing),scrl.anims.push([$cfs,{opacity:1},R]),sc_startScroll(scrl)}]);break;case"crossfade":$cfs.css({opacity:0}),scrl.anims.push([y,{opacity:0}]),scrl.anims.push([$cfs,{opacity:1},R]),E(),P(),M(),L(),O();break;case"cover":$cfs.css(opts.d.left,$wrp[opts.d.width]()),scrl.anims.push([$cfs,S,R]),E(),P(),M(),O();break;case"cover-fade":$cfs.css(opts.d.left,$wrp[opts.d.width]()),scrl.anims.push([y,{opacity:0}]),scrl.anims.push([$cfs,S,R]),E(),P(),M(),O();break;case"uncover":scrl.anims.push([y,C,R]),E(),P(),M(),L(),O();break;case"uncover-fade":$cfs.css({opacity:0}),scrl.anims.push([$cfs,{opacity:1}]),scrl.anims.push([y,C,R]),E(),P(),M(),L(),O();break;default:scrl.anims.push([$cfs,w,function(){L(),O(),R()}]),E(),A(),I()}return sc_startScroll(scrl),cf_setCookie(opts.cookie,$cfs,conf),$cfs.trigger(cf_e("updatePageStatus",conf),[!1,x]),!0}),$cfs.bind(cf_e("slideTo",conf),function(t,e,i,n,o,r,s){t.stopPropagation();var a=[e,i,n,o,r,s],l=["string/number/object","number","boolean","object","string","function"],c=cf_sortParams(a,l);return o=c[3],r=c[4],s=c[5],e=gn_getItemIndex(c[0],c[1],c[2],itms,$cfs),0==e?!1:(is_object(o)||(o=!1),"prev"!=r&&"next"!=r&&(r=opts.circular?e<=itms.total/2?"next":"prev":0==itms.first||itms.first>e?"next":"prev"),"prev"==r&&(e=itms.total-e),$cfs.trigger(cf_e(r,conf),[o,e,s]),!0)}),$cfs.bind(cf_e("prevPage",conf),function(t,e,i){t.stopPropagation();var n=$cfs.triggerHandler(cf_e("currentPage",conf));return $cfs.triggerHandler(cf_e("slideToPage",conf),[n-1,e,"prev",i])}),$cfs.bind(cf_e("nextPage",conf),function(t,e,i){t.stopPropagation();var n=$cfs.triggerHandler(cf_e("currentPage",conf));return $cfs.triggerHandler(cf_e("slideToPage",conf),[n+1,e,"next",i])}),$cfs.bind(cf_e("slideToPage",conf),function(t,e,i,n,o){t.stopPropagation(),is_number(e)||(e=$cfs.triggerHandler(cf_e("currentPage",conf)));var r=opts.pagination.items||opts.items.visible,s=Math.ceil(itms.total/r)-1;return 0>e&&(e=s),e>s&&(e=0),$cfs.triggerHandler(cf_e("slideTo",conf),[e*r,0,!0,i,n,o])}),$cfs.bind(cf_e("jumpToStart",conf),function(t,e){if(t.stopPropagation(),e=e?gn_getItemIndex(e,0,!0,itms,$cfs):0,e+=itms.first,0!=e){if(itms.total>0)for(;e>itms.total;)e-=itms.total;$cfs.prepend($cfs.children().slice(e,itms.total))}return!0}),$cfs.bind(cf_e("synchronise",conf),function(t,e){if(t.stopPropagation(),e)e=cf_getSynchArr(e);else{if(!opts.synchronise)return debug(conf,"No carousel to synchronise.");e=opts.synchronise}for(var i=$cfs.triggerHandler(cf_e("currentPosition",conf)),n=!0,o=0,r=e.length;r>o;o++)e[o][0].triggerHandler(cf_e("slideTo",conf),[i,e[o][3],!0])||(n=!1);return n}),$cfs.bind(cf_e("queue",conf),function(t,e,i){return t.stopPropagation(),is_function(e)?e.call($tt0,queu):is_array(e)?queu=e:is_undefined(e)||queu.push([e,i]),queu}),$cfs.bind(cf_e("insertItem",conf),function(t,e,i,n,o){t.stopPropagation();var r=[e,i,n,o],s=["string/object","string/number/object","boolean","number"],a=cf_sortParams(r,s);if(e=a[0],i=a[1],n=a[2],o=a[3],is_object(e)&&!is_jquery(e)?e=$(e):is_string(e)&&(e=$(e)),!is_jquery(e)||0==e.length)return debug(conf,"Not a valid object.");is_undefined(i)&&(i="end"),sz_storeMargin(e,opts),sz_storeSizes(e,opts);var l=i,c="before";"end"==i?n?(0==itms.first?(i=itms.total-1,c="after"):(i=itms.first,itms.first+=e.length),0>i&&(i=0)):(i=itms.total-1,c="after"):i=gn_getItemIndex(i,o,n,itms,$cfs);var u=$cfs.children().eq(i);return u.length?u[c](e):(debug(conf,"Correct insert-position not found! Appending item to the end."),$cfs.append(e)),"end"==l||n||i<itms.first&&(itms.first+=e.length),itms.total=$cfs.children().length,itms.first>=itms.total&&(itms.first-=itms.total),$cfs.trigger(cf_e("updateSizes",conf)),$cfs.trigger(cf_e("linkAnchors",conf)),!0}),$cfs.bind(cf_e("removeItem",conf),function(t,e,i,n){t.stopPropagation();var o=[e,i,n],r=["string/number/object","boolean","number"],s=cf_sortParams(o,r);e=s[0],i=s[1],n=s[2];if(e instanceof $&&e.length>1)return a=$(),e.each(function(t,e){var o=$cfs.trigger(cf_e("removeItem",conf),[$(this),i,n]);o&&(a=a.add(o))}),a;if(is_undefined(e)||"end"==e)a=$cfs.children().last();else{e=gn_getItemIndex(e,n,i,itms,$cfs);var a=$cfs.children().eq(e);a.length&&e<itms.first&&(itms.first-=a.length)}return a&&a.length&&(a.detach(),itms.total=$cfs.children().length,$cfs.trigger(cf_e("updateSizes",conf))),a}),$cfs.bind(cf_e("onBefore",conf)+" "+cf_e("onAfter",conf),function(t,e){t.stopPropagation();var i=t.type.slice(conf.events.prefix.length);return is_array(e)&&(clbk[i]=e),is_function(e)&&clbk[i].push(e),clbk[i]}),$cfs.bind(cf_e("currentPosition",conf),function(t,e){if(t.stopPropagation(),0==itms.first)var i=0;else var i=itms.total-itms.first;return is_function(e)&&e.call($tt0,i),i}),$cfs.bind(cf_e("currentPage",conf),function(t,e){t.stopPropagation();var i,n=opts.pagination.items||opts.items.visible,o=Math.ceil(itms.total/n-1);return i=0==itms.first?0:itms.first<itms.total%n?0:itms.first!=n||opts.circular?Math.round((itms.total-itms.first)/n):o,0>i&&(i=0),i>o&&(i=o),is_function(e)&&e.call($tt0,i),i}),$cfs.bind(cf_e("currentVisible",conf),function(t,e){t.stopPropagation();var i=gi_getCurrentItems($cfs.children(),opts);return is_function(e)&&e.call($tt0,i),i}),$cfs.bind(cf_e("slice",conf),function(t,e,i,n){if(t.stopPropagation(),0==itms.total)return!1;var o=[e,i,n],r=["number","number","function"],s=cf_sortParams(o,r);if(e=is_number(s[0])?s[0]:0,i=is_number(s[1])?s[1]:itms.total,n=s[2],e+=itms.first,i+=itms.first,items.total>0){for(;e>itms.total;)e-=itms.total;for(;i>itms.total;)i-=itms.total;for(;0>e;)e+=itms.total;for(;0>i;)i+=itms.total}var a,l=$cfs.children();return a=i>e?l.slice(e,i):$(l.slice(e,itms.total).get().concat(l.slice(0,i).get())),is_function(n)&&n.call($tt0,a),a}),$cfs.bind(cf_e("isPaused",conf)+" "+cf_e("isStopped",conf)+" "+cf_e("isScrolling",conf),function(t,e){t.stopPropagation();var i=t.type.slice(conf.events.prefix.length),n=crsl[i];return is_function(e)&&e.call($tt0,n),n}),$cfs.bind(cf_e("configuration",conf),function(e,a,b,c){e.stopPropagation();var reInit=!1;if(is_function(a))a.call($tt0,opts);else if(is_object(a))opts_orig=$.extend(!0,{},opts_orig,a),b!==!1?reInit=!0:opts=$.extend(!0,{},opts,a);else if(!is_undefined(a))if(is_function(b)){var val=eval("opts."+a);is_undefined(val)&&(val=""),b.call($tt0,val)}else{if(is_undefined(b))return eval("opts."+a);"boolean"!=typeof c&&(c=!0),eval("opts_orig."+a+" = b"),c!==!1?reInit=!0:eval("opts."+a+" = b")}if(reInit){sz_resetMargin($cfs.children(),opts),$cfs._cfs_init(opts_orig),$cfs._cfs_bind_buttons();var sz=sz_setSizes($cfs,opts);$cfs.trigger(cf_e("updatePageStatus",conf),[!0,sz])}return opts}),$cfs.bind(cf_e("linkAnchors",conf),function(t,e,i){return t.stopPropagation(),is_undefined(e)?e=$("body"):is_string(e)&&(e=$(e)),is_jquery(e)&&0!=e.length?(is_string(i)||(i="a.caroufredsel"),e.find(i).each(function(){var t=this.hash||"";t.length>0&&-1!=$cfs.children().index($(t))&&$(this).unbind("click").click(function(e){e.preventDefault(),$cfs.trigger(cf_e("slideTo",conf),t)})}),!0):debug(conf,"Not a valid object.")}),$cfs.bind(cf_e("updatePageStatus",conf),function(t,e,i){if(t.stopPropagation(),opts.pagination.container){var n=opts.pagination.items||opts.items.visible,o=Math.ceil(itms.total/n);e&&(opts.pagination.anchorBuilder&&(opts.pagination.container.children().remove(),opts.pagination.container.each(function(){for(var t=0;o>t;t++){var e=$cfs.children().eq(gn_getItemIndex(t*n,0,!0,itms,$cfs));$(this).append(opts.pagination.anchorBuilder.call(e[0],t+1))}})),opts.pagination.container.each(function(){$(this).children().unbind(opts.pagination.event).each(function(t){$(this).bind(opts.pagination.event,function(e){e.preventDefault(),$cfs.trigger(cf_e("slideTo",conf),[t*n,-opts.pagination.deviation,!0,opts.pagination])})})}));var r=$cfs.triggerHandler(cf_e("currentPage",conf))+opts.pagination.deviation;return r>=o&&(r=0),0>r&&(r=o-1),opts.pagination.container.each(function(){$(this).children().removeClass(cf_c("selected",conf)).eq(r).addClass(cf_c("selected",conf))}),!0}}),$cfs.bind(cf_e("updateSizes",conf),function(t){var e=opts.items.visible,i=$cfs.children(),n=ms_getParentSize($wrp,opts,"width");if(itms.total=i.length,crsl.primarySizePercentage?(opts.maxDimension=n,opts[opts.d.width]=ms_getPercentage(n,crsl.primarySizePercentage)):opts.maxDimension=ms_getMaxDimension(opts,n),opts.responsive?(opts.items.width=opts.items.sizesConf.width,opts.items.height=opts.items.sizesConf.height,opts=in_getResponsiveValues(opts,i,n),e=opts.items.visible,sz_setResponsiveSizes(opts,i)):opts.items.visibleConf.variable?e=gn_getVisibleItemsNext(i,opts,0):"*"!=opts.items.filter&&(e=gn_getVisibleItemsNextFilter(i,opts,0)),!opts.circular&&0!=itms.first&&e>itms.first){if(opts.items.visibleConf.variable)var o=gn_getVisibleItemsPrev(i,opts,itms.first)-itms.first;else if("*"!=opts.items.filter)var o=gn_getVisibleItemsPrevFilter(i,opts,itms.first)-itms.first;else var o=opts.items.visible-itms.first;debug(conf,"Preventing non-circular: sliding "+o+" items backward."),$cfs.trigger(cf_e("prev",conf),o)}opts.items.visible=cf_getItemsAdjust(e,opts,opts.items.visibleConf.adjust,$tt0),opts.items.visibleConf.old=opts.items.visible,opts=in_getAlignPadding(opts,i);var r=sz_setSizes($cfs,opts);return $cfs.trigger(cf_e("updatePageStatus",conf),[!0,r]),nv_showNavi(opts,itms.total,conf),nv_enableNavi(opts,itms.first,conf),r}),$cfs.bind(cf_e("destroy",conf),function(t,e){return t.stopPropagation(),tmrs=sc_clearTimers(tmrs),$cfs.data("_cfs_isCarousel",!1),$cfs.trigger(cf_e("finish",conf)),e&&$cfs.trigger(cf_e("jumpToStart",conf)),sz_resetMargin($cfs.children(),opts),opts.responsive&&$cfs.children().each(function(){$(this).css($(this).data("_cfs_origCssSizes"))}),$cfs.css($cfs.data("_cfs_origCss")),$cfs._cfs_unbind_events(),$cfs._cfs_unbind_buttons(),$wrp.replaceWith($cfs),!0}),$cfs.bind(cf_e("debug",conf),function(t){return debug(conf,"Carousel width: "+opts.width),debug(conf,"Carousel height: "+opts.height),debug(conf,"Item widths: "+opts.items.width),debug(conf,"Item heights: "+opts.items.height),debug(conf,"Number of items visible: "+opts.items.visible),opts.auto.play&&debug(conf,"Number of items scrolled automatically: "+opts.auto.items),opts.prev.button&&debug(conf,"Number of items scrolled backward: "+opts.prev.items),opts.next.button&&debug(conf,"Number of items scrolled forward: "+opts.next.items),conf.debug}),$cfs.bind("_cfs_triggerEvent",function(t,e,i){return t.stopPropagation(),$cfs.triggerHandler(cf_e(e,conf),i)})},$cfs._cfs_unbind_events=function(){$cfs.unbind(cf_e("",conf)),$cfs.unbind(cf_e("",conf,!1)),$cfs.unbind("_cfs_triggerEvent")},$cfs._cfs_bind_buttons=function(){if($cfs._cfs_unbind_buttons(),nv_showNavi(opts,itms.total,conf),nv_enableNavi(opts,itms.first,conf),opts.auto.pauseOnHover){var t=bt_pauseOnHoverConfig(opts.auto.pauseOnHover);$wrp.bind(cf_e("mouseenter",conf,!1),function(){$cfs.trigger(cf_e("pause",conf),t)}).bind(cf_e("mouseleave",conf,!1),function(){$cfs.trigger(cf_e("resume",conf))})}if(opts.auto.button&&opts.auto.button.bind(cf_e(opts.auto.event,conf,!1),function(t){t.preventDefault();var e=!1,i=null;crsl.isPaused?e="play":opts.auto.pauseOnEvent&&(e="pause",i=bt_pauseOnHoverConfig(opts.auto.pauseOnEvent)),e&&$cfs.trigger(cf_e(e,conf),i)}),opts.prev.button&&(opts.prev.button.bind(cf_e(opts.prev.event,conf,!1),function(t){t.preventDefault(),$cfs.trigger(cf_e("prev",conf))}),opts.prev.pauseOnHover)){var t=bt_pauseOnHoverConfig(opts.prev.pauseOnHover);opts.prev.button.bind(cf_e("mouseenter",conf,!1),function(){$cfs.trigger(cf_e("pause",conf),t)}).bind(cf_e("mouseleave",conf,!1),function(){$cfs.trigger(cf_e("resume",conf))})}if(opts.next.button&&(opts.next.button.bind(cf_e(opts.next.event,conf,!1),function(t){t.preventDefault(),$cfs.trigger(cf_e("next",conf))}),opts.next.pauseOnHover)){var t=bt_pauseOnHoverConfig(opts.next.pauseOnHover);opts.next.button.bind(cf_e("mouseenter",conf,!1),function(){$cfs.trigger(cf_e("pause",conf),t)}).bind(cf_e("mouseleave",conf,!1),function(){$cfs.trigger(cf_e("resume",conf))})}if(opts.pagination.container&&opts.pagination.pauseOnHover){var t=bt_pauseOnHoverConfig(opts.pagination.pauseOnHover);opts.pagination.container.bind(cf_e("mouseenter",conf,!1),function(){$cfs.trigger(cf_e("pause",conf),t)}).bind(cf_e("mouseleave",conf,!1),function(){$cfs.trigger(cf_e("resume",conf))})}if((opts.prev.key||opts.next.key)&&$(document).bind(cf_e("keyup",conf,!1,!0,!0),function(t){var e=t.keyCode;e==opts.next.key&&(t.preventDefault(),$cfs.trigger(cf_e("next",conf))),e==opts.prev.key&&(t.preventDefault(),$cfs.trigger(cf_e("prev",conf)))}),opts.pagination.keys&&$(document).bind(cf_e("keyup",conf,!1,!0,!0),function(t){var e=t.keyCode;e>=49&&58>e&&(e=(e-49)*opts.items.visible,e<=itms.total&&(t.preventDefault(),$cfs.trigger(cf_e("slideTo",conf),[e,0,!0,opts.pagination])))}),(opts.prev.wipe||opts.next.wipe)&&(deprecated("the touchwipe-plugin","the touchSwipe-plugin"),$.fn.touchwipe)){var e=opts.prev.wipe?function(){$cfs.trigger(cf_e("prev",conf))}:null,i=opts.next.wipe?function(){$cfs.trigger(cf_e("next",conf))}:null;if((i||i)&&!crsl.touchwipe){crsl.touchwipe=!0;var n={min_move_x:30,min_move_y:30,preventDefaultEvents:!0};switch(opts.direction){case"up":case"down":n.wipeUp=e,n.wipeDown=i;break;default:n.wipeLeft=i,n.wipeRight=e}$wrp.touchwipe(n)}}if($.fn.swipe){var o="ontouchstart"in window;if(o&&opts.swipe.onTouch||!o&&opts.swipe.onMouse){var r=$.extend(!0,{},opts.prev,opts.swipe),s=$.extend(!0,{},opts.next,opts.swipe),a=function(){$cfs.trigger(cf_e("prev",conf),[r])},l=function(){$cfs.trigger(cf_e("next",conf),[s])};switch(opts.direction){case"up":case"down":opts.swipe.options.swipeUp=l,opts.swipe.options.swipeDown=a;break;default:opts.swipe.options.swipeLeft=l,opts.swipe.options.swipeRight=a}crsl.swipe&&$cfs.swipe("destroy"),$wrp.swipe(opts.swipe.options),$wrp.css("cursor","move"),crsl.swipe=!0}}if($.fn.mousewheel&&(opts.prev.mousewheel&&(deprecated("The prev.mousewheel option","the mousewheel configuration object"),opts.prev.mousewheel=null,opts.mousewheel={items:bt_mousesheelNumber(opts.prev.mousewheel)}),opts.next.mousewheel&&(deprecated("The next.mousewheel option","the mousewheel configuration object"),opts.next.mousewheel=null,opts.mousewheel={items:bt_mousesheelNumber(opts.next.mousewheel)}),opts.mousewheel)){var c=$.extend(!0,{},opts.prev,opts.mousewheel),u=$.extend(!0,{},opts.next,opts.mousewheel);crsl.mousewheel&&$wrp.unbind(cf_e("mousewheel",conf,!1)),$wrp.bind(cf_e("mousewheel",conf,!1),function(t,e){t.preventDefault(),e>0?$cfs.trigger(cf_e("prev",conf),[c]):$cfs.trigger(cf_e("next",conf),[u])}),crsl.mousewheel=!0}if(opts.auto.play&&$cfs.trigger(cf_e("play",conf),opts.auto.delay),crsl.upDateOnWindowResize){var d=function(t){$cfs.trigger(cf_e("finish",conf)),opts.auto.pauseOnResize&&!crsl.isPaused&&$cfs.trigger(cf_e("play",conf)),sz_resetMargin($cfs.children(),opts),$cfs.trigger(cf_e("updateSizes",conf))},h=$(window),f=null;if($.debounce&&"debounce"==conf.onWindowResize)f=$.debounce(200,d);else if($.throttle&&"throttle"==conf.onWindowResize)f=$.throttle(300,d);else{var p=0,m=0;f=function(){var t=h.width(),e=h.height();(t!=p||e!=m)&&(d(),p=t,m=e)}}h.bind(cf_e("resize",conf,!1,!0,!0),f)}},$cfs._cfs_unbind_buttons=function(){var t=(cf_e("",conf),cf_e("",conf,!1));ns3=cf_e("",conf,!1,!0,!0),$(document).unbind(ns3),$(window).unbind(ns3),$wrp.unbind(t),opts.auto.button&&opts.auto.button.unbind(t),opts.prev.button&&opts.prev.button.unbind(t),opts.next.button&&opts.next.button.unbind(t),opts.pagination.container&&(opts.pagination.container.unbind(t),opts.pagination.anchorBuilder&&opts.pagination.container.children().remove()),crsl.swipe&&($cfs.swipe("destroy"),$wrp.css("cursor","default"),crsl.swipe=!1),crsl.mousewheel&&(crsl.mousewheel=!1),nv_showNavi(opts,"hide",conf),nv_enableNavi(opts,"removeClass",conf)},is_boolean(configs)&&(configs={debug:configs});var crsl={direction:"next",isPaused:!0,isScrolling:!1,isStopped:!1,mousewheel:!1,swipe:!1},itms={total:$cfs.children().length,first:0},tmrs={auto:null,progress:null,startTime:getTime(),timePassed:0},scrl={isStopped:!1,duration:0,startTime:0,easing:"",anims:[]},clbk={onBefore:[],onAfter:[]},queu=[],conf=$.extend(!0,{},$.fn.carouFredSel.configs,configs),opts={},opts_orig=$.extend(!0,{},options),$wrp=$cfs.wrap("<"+conf.wrapper.element+' class="'+conf.wrapper.classname+'" />').parent();if(conf.selector=$cfs.selector,conf.serialNumber=$.fn.carouFredSel.serialNumber++,$cfs._cfs_init(opts_orig,!0,starting_position),$cfs._cfs_build(),$cfs._cfs_bind_events(),$cfs._cfs_bind_buttons(),is_array(opts.items.start))var start_arr=opts.items.start;else{var start_arr=[];0!=opts.items.start&&start_arr.push(opts.items.start)}if(opts.cookie&&start_arr.unshift(parseInt(cf_getCookie(opts.cookie),10)),start_arr.length>0)for(var a=0,l=start_arr.length;l>a;a++){var s=start_arr[a];if(0!=s){if(s===!0){if(s=window.location.hash,s.length<1)continue}else"random"===s&&(s=Math.floor(Math.random()*itms.total));if($cfs.triggerHandler(cf_e("slideTo",conf),[s,0,!0,{fx:"none"}]))break}}var siz=sz_setSizes($cfs,opts),itm=gi_getCurrentItems($cfs.children(),opts);return opts.onCreate&&opts.onCreate.call($tt0,{width:siz.width,height:siz.height,items:itm}),$cfs.trigger(cf_e("updatePageStatus",conf),[!0,siz]),$cfs.trigger(cf_e("linkAnchors",conf)),conf.debug&&$cfs.trigger(cf_e("debug",conf)),$cfs},$.fn.carouFredSel.serialNumber=1,$.fn.carouFredSel.defaults={synchronise:!1,infinite:!0,circular:!0,responsive:!1,direction:"left",items:{start:0},scroll:{easing:"swing",duration:500,pauseOnHover:!1,event:"click",queue:!1}},$.fn.carouFredSel.configs={debug:!1,onWindowResize:"throttle",events:{prefix:"",namespace:"cfs"},wrapper:{element:"div",classname:"caroufredsel_wrapper"},classnames:{}},$.fn.carouFredSel.pageAnchorBuilder=function(t){return'<a href="#"><span>'+t+"</span></a>"},$.fn.carouFredSel.progressbarUpdater=function(t){$(this).css("width",t+"%")},$.fn.carouFredSel.cookie={get:function(t){t+="=";for(var e=document.cookie.split(";"),i=0,n=e.length;n>i;i++){for(var o=e[i];" "==o.charAt(0);)o=o.slice(1);if(0==o.indexOf(t))return o.slice(t.length)}return 0},set:function(t,e,i){var n="";if(i){var o=new Date;o.setTime(o.getTime()+24*i*60*60*1e3),n="; expires="+o.toGMTString()}document.cookie=t+"="+e+n+"; path=/"},remove:function(t){$.fn.carouFredSel.cookie.set(t,"",-1)}},$.extend($.easing,{quadratic:function(t){var e=t*t;return t*(-e*t+4*e-6*t+4)},cubic:function(t){return t*(4*t*t-9*t+6)},elastic:function(t){var e=t*t;return t*(33*e*e-106*e*t+126*e-67*t+15)}}))}(jQuery),/*! Copyright (c) 2011 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 * Thanks to: Seamus Leahy for adding deltaX and deltaY
 *
 * Version: 3.0.6
 * 
 * Requires: 1.2.2+
 */
function(t){function e(e){var i=e||window.event,n=[].slice.call(arguments,1),o=0,r=0,s=0;return e=t.event.fix(i),e.type="mousewheel",i.wheelDelta&&(o=i.wheelDelta/120),i.detail&&(o=-i.detail/3),s=o,void 0!==i.axis&&i.axis===i.HORIZONTAL_AXIS&&(s=0,r=-1*o),void 0!==i.wheelDeltaY&&(s=i.wheelDeltaY/120),void 0!==i.wheelDeltaX&&(r=-1*i.wheelDeltaX/120),n.unshift(e,o,r,s),(t.event.dispatch||t.event.handle).apply(this,n)}var i=["DOMMouseScroll","mousewheel"];if(t.event.fixHooks)for(var n=i.length;n;)t.event.fixHooks[i[--n]]=t.event.mouseHooks;t.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var t=i.length;t;)this.addEventListener(i[--t],e,!1);else this.onmousewheel=e},teardown:function(){if(this.removeEventListener)for(var t=i.length;t;)this.removeEventListener(i[--t],e,!1);else this.onmousewheel=null}},t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}(jQuery),/*
* touchSwipe - jQuery Plugin
* https://github.com/mattbryson/TouchSwipe-Jquery-Plugin
* http://labs.skinkers.com/touchSwipe/
* http://plugins.jquery.com/project/touchSwipe
*
* Copyright (c) 2010 Matt Bryson (www.skinkers.com)
* Dual licensed under the MIT or GPL Version 2 licenses.
*
* $version: 1.3.3
*/
function(t){function e(e){return!e||void 0!==e.allowPageScroll||void 0===e.swipe&&void 0===e.swipeStatus||(e.allowPageScroll=a),e||(e={}),e=t.extend({},t.fn.swipe.defaults,e),this.each(function(){var n=t(this),o=n.data(v);o||(o=new i(this,e),n.data(v,o))})}function i(e,i){function y(t){var e,t=t.originalEvent,n=g?t.touches[0]:t;return B=h,g?z=t.touches.length:t.preventDefault(),O=0,L=null,F=0,g&&z!==i.fingers&&i.fingers!==d?_(t):(E=N=n.pageX,P=D=n.pageY,W=(new Date).getTime(),i.swipeStatus&&(e=w(t,B))),!1===e?(B=m,w(t,B),e):(H.bind(I,b),void H.bind($,x))}function b(t){if(t=t.originalEvent,B!==p&&B!==m){var e,h=g?t.touches[0]:t;N=h.pageX,D=h.pageY,j=(new Date).getTime(),L=T(),g&&(z=t.touches.length),B=f;var h=t,v=L;if(i.allowPageScroll===a)h.preventDefault();else{var y=i.allowPageScroll===l;switch(v){case n:(i.swipeLeft&&y||!y&&i.allowPageScroll!=c)&&h.preventDefault();break;case o:(i.swipeRight&&y||!y&&i.allowPageScroll!=c)&&h.preventDefault();break;case r:(i.swipeUp&&y||!y&&i.allowPageScroll!=u)&&h.preventDefault();break;case s:(i.swipeDown&&y||!y&&i.allowPageScroll!=u)&&h.preventDefault()}}z!==i.fingers&&i.fingers!==d&&g?(B=m,w(t,B)):(O=k(),F=j-W,i.swipeStatus&&(e=w(t,B,L,O,F)),i.triggerOnTouchEnd||(h=!(i.maxTimeThreshold?!(F>=i.maxTimeThreshold):1),!0===C()?(B=p,e=w(t,B)):h&&(B=m,w(t,B)))),!1===e&&(B=m,w(t,B))}}function x(t){if(t=t.originalEvent,t.preventDefault(),j=(new Date).getTime(),O=k(),L=T(),F=j-W,i.triggerOnTouchEnd||!1===i.triggerOnTouchEnd&&B===f)if(B=p,z!==i.fingers&&i.fingers!==d&&g||0===N)B=m,w(t,B);else{var e=!(i.maxTimeThreshold?!(F>=i.maxTimeThreshold):1);!0!==C()&&null!==C()||e?(e||!1===C())&&(B=m,w(t,B)):w(t,B)}else B===f&&(B=m,w(t,B));H.unbind(I,b,!1),H.unbind($,x,!1)}function _(){W=j=D=N=P=E=z=0}function w(t,e){var a=void 0;if(i.swipeStatus&&(a=i.swipeStatus.call(H,t,e,L||null,O||0,F||0,z)),e!==m||!i.click||1!==z&&g||!isNaN(O)&&0!==O||(a=i.click.call(H,t,t.target)),e==p)switch(i.swipe&&(a=i.swipe.call(H,t,L,O,F,z)),L){case n:i.swipeLeft&&(a=i.swipeLeft.call(H,t,L,O,F,z));break;case o:i.swipeRight&&(a=i.swipeRight.call(H,t,L,O,F,z));break;case r:i.swipeUp&&(a=i.swipeUp.call(H,t,L,O,F,z));break;case s:i.swipeDown&&(a=i.swipeDown.call(H,t,L,O,F,z))}return(e===m||e===p)&&_(t),a}function C(){return null!==i.threshold?O>=i.threshold:null}function k(){return Math.round(Math.sqrt(Math.pow(N-E,2)+Math.pow(D-P,2)))}function T(){var t;return t=Math.atan2(D-P,E-N),t=Math.round(180*t/Math.PI),0>t&&(t=360-Math.abs(t)),45>=t&&t>=0?n:360>=t&&t>=315?n:t>=135&&225>=t?o:t>45&&135>t?s:r}function S(){H.unbind(M,y),H.unbind(R,_),H.unbind(I,b),H.unbind($,x)}var N,D,E,P,A=g||!i.fallbackToMouseEvents,M=A?"touchstart":"mousedown",I=A?"touchmove":"mousemove",$=A?"touchend":"mouseup",R="touchcancel",O=0,L=null,F=0,H=t(e),B="start",z=0,W=D=N=P=E=0,j=0;try{H.bind(M,y),H.bind(R,_)}catch(V){t.error("events not supported "+M+","+R+" on jQuery.swipe")}this.enable=function(){return H.bind(M,y),H.bind(R,_),H},this.disable=function(){return S(),H},this.destroy=function(){return S(),H.data(v,null),H}}var n="left",o="right",r="up",s="down",a="none",l="auto",c="horizontal",u="vertical",d="all",h="start",f="move",p="end",m="cancel",g="ontouchstart"in window,v="TouchSwipe";t.fn.swipe=function(i){var n=t(this),o=n.data(v);if(o&&"string"==typeof i){if(o[i])return o[i].apply(this,Array.prototype.slice.call(arguments,1));t.error("Method "+i+" does not exist on jQuery.swipe")}else if(!(o||"object"!=typeof i&&i))return e.apply(this,arguments);return n},t.fn.swipe.defaults={fingers:1,threshold:75,maxTimeThreshold:null,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,click:null,triggerOnTouchEnd:!0,allowPageScroll:"auto",fallbackToMouseEvents:!0},t.fn.swipe.phases={PHASE_START:h,PHASE_MOVE:f,PHASE_END:p,PHASE_CANCEL:m},t.fn.swipe.directions={LEFT:n,RIGHT:o,UP:r,DOWN:s},t.fn.swipe.pageScroll={NONE:a,HORIZONTAL:c,VERTICAL:u,AUTO:l},t.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:d}}(jQuery),function(){}.call(this),$(function(){$(".invokeanswers").click(function(){$(this).hide(),$(this).next().show()})}),$(function(){$("#add_new_comment").click(function(){$("#reviewSmallDiv").hide(),$(".new_comment_form_wrapper").show()}),$(".invokecomment").click(function(){$(this).hide(),$(this).next().show()})}),function(){}.call(this);var running=!1;$(function(){$("ul.navdrop a").live("click",function(){$(this).parent().toggleClass("selected");var t=$(this).data("guide"),e=$(this).closest("ul.navdrop").data("content");$.ajaxSetup({beforeSend:function(t){t.setRequestHeader("Accept","text/javascript")}}),$.post("/contents/update_guide",{content:e,guide:t})})}),$("ul.item_drop a").live("click",function(){$(this).parent().toggleClass("selected");var t=$("span#sortBy a.link_active").text();$("div#Filterby div.Filternav ul").find("li").removeClass("Currentfilter"),$("li.feed_filter").addClass("Currentfilter");var e=[];$("ul.item_drop li.selected a").each(function(){e.push($(this).data("type"))}),$.ajaxSetup({beforeSend:function(t){t.setRequestHeader("Accept","text/javascript")}}),$.get("/my_feeds",{item_types:e,type:"category",search_type:$("#search_type").val(),sort_by:t})}),$("ul#Newtabs li a").live("click",function(){$("ul#Newtabs").find("li").removeClass("tab_active"),$(this).closest("li").addClass("tab_active"),$(".main-content-section").hide();var t=$(this).attr("href");return $("div"+t).show(),!1}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(){t(this).closest(".expandingText").find("div").text(this.value+" "),t(this).trigger("resize.expanding")}t.expandingTextarea=t.extend({autoInitialize:!0,initialSelector:"textarea.expanding",opts:{resize:function(){}}},t.expandingTextarea||{});var i=["lineHeight","textDecoration","letterSpacing","fontSize","fontFamily","fontStyle","fontWeight","textTransform","textAlign","direction","wordSpacing","fontSizeAdjust","wordWrap","word-break","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","boxSizing","webkitBoxSizing","mozBoxSizing","msBoxSizing"],n={position:"absolute",height:"100%",resize:"none"},o={visibility:"hidden",border:"0 solid",whiteSpace:"pre-wrap"},r={position:"relative"};t.fn.expandingTextarea=function(s){var a=t.extend({},t.expandingTextarea.opts,s);return"resize"===s?this.trigger("input.expanding"):"destroy"===s?(this.filter(".expanding-init").each(function(){var e=t(this).removeClass("expanding-init"),i=e.closest(".expandingText");i.before(e).remove(),e.attr("style",e.data("expanding-styles")||"").removeData("expanding-styles")}),this):(this.filter("textarea").not(".expanding-init").addClass("expanding-init").each(function(){var s=t(this);s.wrap("<div class='expandingText'></div>"),s.after("<pre class='textareaClone'><div></div></pre>");var l=s.parent().css(r),c=l.find("pre").css(o);s.data("expanding-styles",s.attr("style")),s.css(n),t.each(i,function(t,e){var i=s.css(e);c.css(e)!==i&&c.css(e,i)}),s.bind("input.expanding propertychange.expanding keyup.expanding",e),e.apply(this),a.resize&&s.bind("resize.expanding",a.resize)}),this)},t(function(){t.expandingTextarea.autoInitialize&&t(t.expandingTextarea.initialSelector).expandingTextarea()})}),function(){}.call(this),$("div.Homepopupgraybox div.Boxtopblock span.Openclosebut a#wizardbutton").live("click",function(){return $("#wizardbutton").toggleClass("Close Open"),$(this).text(function(t,e){return_text="Close"==e?"Open":"Close"}),$("span.Openclosebut a#wizardbutton").text(return_text),$("div.Grayboxmid").toggle(),!1}),/**
 * jQuery Cookie plugin
 *
 * Copyright (c) 2010 Klaus Hartl (stilbuero.de)
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 */
jQuery.cookie=function(t,e,i){if(arguments.length>1&&"[object Object]"!==String(e)){if(i=jQuery.extend({},i),(null===e||void 0===e)&&(i.expires=-1),"number"==typeof i.expires){var n=i.expires,o=i.expires=new Date;o.setDate(o.getDate()+n)}return e=String(e),document.cookie=[encodeURIComponent(t),"=",i.raw?e:encodeURIComponent(e),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}i=e||{};var r,s=i.raw?function(t){return t}:decodeURIComponent;return(r=new RegExp("(?:^|; )"+encodeURIComponent(t)+"=([^;]*)").exec(document.cookie))?s(r[1]):null},/*
 * Depend Class v0.1b : attach class based on first class in list of current element
 * File: jquery.dependClass.js
 * Copyright (c) 2009 Egor Hmelyoff, hmelyoff@gmail.com
 */
function(t){t.baseClass=function(e){return e=t(e),e.get(0).className.match(/([^ ]+)/)[1]},t.fn.addDependClass=function(e,i){var n={delimiter:i?i:"-"};return this.each(function(){var i=t.baseClass(this);i&&t(this).addClass(i+n.delimiter+e)})},t.fn.removeDependClass=function(e,i){var n={delimiter:i?i:"-"};return this.each(function(){var i=t.baseClass(this);i&&t(this).removeClass(i+n.delimiter+e)})},t.fn.toggleDependClass=function(e,i){var n={delimiter:i?i:"-"};return this.each(function(){var i=t.baseClass(this);i&&(t(this).is("."+i+n.delimiter+e)?t(this).removeClass(i+n.delimiter+e):t(this).addClass(i+n.delimiter+e))})}}(jQuery),/*!
 * jScroll - jQuery Plugin for Infinite Scrolling / Auto-Paging - v2.2.4
 * http://jscroll.com/
 *
 * Copyright 2011-2013, Philip Klauzinski
 * http://klauzinski.com/
 * Dual licensed under the MIT and GPL Version 2 licenses.
 * http://jscroll.com/#license
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl-2.0.html
 *
 * @author Philip Klauzinski
 * @requires jQuery v1.4.3+
 */
function(t){t.jscroll={defaults:{debug:!1,autoTrigger:!0,autoTriggerUntil:!1,loadingHtml:"<small>Loading...</small>",padding:0,nextSelector:"a:last",contentSelector:"",pagingSelector:"",callback:!1}};var e=function(e,i){function n(){var e=t(p.loadingHtml).filter("img").attr("src");if(e){var i=new Image;i.src=e}}function o(){e.find(".jscroll-inner").length||e.contents().wrapAll('<div class="jscroll-inner" />')}function r(t){if(p.pagingSelector)var e=t.closest(p.pagingSelector).hide();else{var e=t.parent().not(".jscroll-inner,.jscroll-added").addClass("jscroll-next-parent").hide();e.length||t.wrap('<div class="jscroll-next-parent" />').parent().hide()}}function s(){return b.unbind(".jscroll").removeData("jscroll").find(".jscroll-inner").children().unwrap().filter(".jscroll-added").children().unwrap()}function a(){o();var t=e.find("div.jscroll-inner").first(),i=e.data("jscroll"),n=parseInt(e.css("borderTopWidth")),r=isNaN(n)?0:n,s=parseInt(e.css("paddingTop"))+r,a=m?b.scrollTop():e.offset().top,l=t.length?t.offset().top:0,c=Math.ceil(a-l+b.height()+s);return!i.waiting&&c+p.padding>=t.outerHeight()?(d("info","jScroll:",t.outerHeight()-c,"from bottom. Loading next request..."),u()):void 0}function l(t){return t=t||e.data("jscroll"),t&&t.nextHref?(c(),!0):(d("warn","jScroll: nextSelector not found - destroying"),s(),!1)}function c(){var t=e.find(p.nextSelector).first();p.autoTrigger&&(p.autoTriggerUntil===!1||p.autoTriggerUntil>0)?(r(t),y.height()<=v.height()&&a(),b.unbind(".jscroll").bind("scroll.jscroll",function(){return a()}),p.autoTriggerUntil>0&&p.autoTriggerUntil--):(b.unbind(".jscroll"),t.bind("click.jscroll",function(){return r(t),u(),!1}))}function u(){var i=e.find("div.jscroll-inner").first(),n=e.data("jscroll");return n.waiting=!0,i.append('<div class="jscroll-added" />').children(".jscroll-added").last().html('<div class="jscroll-loading">'+p.loadingHtml+"</div>"),e.animate({scrollTop:i.outerHeight()},0,function(){i.find("div.jscroll-added").last().load(n.nextHref,function(i,o,r){if("error"===o)return s();var a=t(this).find(p.nextSelector).first();n.waiting=!1,n.nextHref=a.attr("href")?t.trim(a.attr("href")+" "+p.contentSelector):!1,t(".jscroll-next-parent",e).remove(),l(),p.callback&&p.callback.call(this),d("dir",n)})})}function d(t){if(p.debug&&"object"==typeof console&&("object"==typeof t||"function"==typeof console[t]))if("object"==typeof t){var e=[];for(var i in t)"function"==typeof console[i]?(e=t[i].length?t[i]:[t[i]],console[i].apply(console,e)):console.log.apply(console,e)}else console[t].apply(console,Array.prototype.slice.call(arguments,1))}var h=e.data("jscroll"),f="function"==typeof i?{callback:i}:i,p=t.extend({},t.jscroll.defaults,f,h||{}),m="visible"===e.css("overflow-y"),g=e.find(p.nextSelector).first(),v=t(window),y=t("body"),b=m?v:e,x=t.trim(g.attr("href")+" "+p.contentSelector);return e.data("jscroll",t.extend({},h,{initialized:!0,waiting:!1,nextHref:x})),o(),n(),c(),t.extend(e.jscroll,{destroy:s}),e};t.fn.jscroll=function(i){return this.each(function(){var n=t(this),o=n.data("jscroll");if(!o||!o.initialized){new e(n,i)}})}}(jQuery),/*
 * Poshy Tip jQuery plugin v1.1
 * http://vadikom.com/tools/poshy-tip-jquery-plugin-for-stylish-tooltips/
 * Copyright 2010-2011, Vasil Dinkov, http://vadikom.com/
 */
function(t){function e(){t.each(i,function(){this.refresh(!0)})}var i=[],n=/^url\(["']?([^"'\)]*)["']?\);?$/i,o=/\.png$/i,r=t.browser.msie&&6==t.browser.version;t(window).resize(e),t.Poshytip=function(e,i){this.$elm=t(e),this.opts=t.extend({},t.fn.poshytip.defaults,i),this.$tip=t(['<div class="',this.opts.className,'">','<div class="tip-inner tip-bg-image"></div>','<div class="tip-arrow tip-arrow-top tip-arrow-right tip-arrow-bottom tip-arrow-left"></div>',"</div>"].join("")).appendTo(document.body),this.$arrow=this.$tip.find("div.tip-arrow"),this.$inner=this.$tip.find("div.tip-inner"),this.disabled=!1,this.content=null,this.init()},t.Poshytip.prototype={init:function(){i.push(this);var e=this.$elm.attr("title");if(this.$elm.data("title.poshytip",void 0!==e?e:null).data("poshytip",this),"none"!=this.opts.showOn)switch(this.$elm.bind({"mouseenter.poshytip":t.proxy(this.mouseenter,this),"mouseleave.poshytip":t.proxy(this.mouseleave,this)}),this.opts.showOn){case"hover":"cursor"==this.opts.alignTo&&this.$elm.bind("mousemove.poshytip",t.proxy(this.mousemove,this)),this.opts.allowTipHover&&this.$tip.hover(t.proxy(this.clearTimeouts,this),t.proxy(this.mouseleave,this));break;case"focus":this.$elm.bind({"focus.poshytip":t.proxy(this.show,this),"blur.poshytip":t.proxy(this.hide,this)})}},mouseenter:function(e){return this.disabled?!0:(this.$elm.attr("title",""),"focus"==this.opts.showOn?!0:(this.clearTimeouts(),void(this.showTimeout=setTimeout(t.proxy(this.show,this),this.opts.showTimeout))))},mouseleave:function(e){if(this.disabled||this.asyncAnimating&&(this.$tip[0]===e.relatedTarget||jQuery.contains(this.$tip[0],e.relatedTarget)))return!0;var i=this.$elm.data("title.poshytip");return null!==i&&this.$elm.attr("title",i),"focus"==this.opts.showOn?!0:(this.clearTimeouts(),void(this.hideTimeout=setTimeout(t.proxy(this.hide,this),this.opts.hideTimeout)))},mousemove:function(t){return this.disabled?!0:(this.eventX=t.pageX,this.eventY=t.pageY,void(this.opts.followCursor&&this.$tip.data("active")&&(this.calcPos(),this.$tip.css({left:this.pos.l,top:this.pos.t}),this.pos.arrow&&(this.$arrow[0].className="tip-arrow tip-arrow-"+this.pos.arrow))))},show:function(){this.disabled||this.$tip.data("active")||(this.reset(),this.update(),this.display(),this.opts.timeOnScreen&&setTimeout(t.proxy(this.hide,this),this.opts.timeOnScreen))},hide:function(){!this.disabled&&this.$tip.data("active")&&this.display(!0)},reset:function(){this.$tip.queue([]).detach().css("visibility","hidden").data("active",!1),this.$inner.find("*").poshytip("hide"),this.opts.fade&&this.$tip.css("opacity",this.opacity),this.$arrow[0].className="tip-arrow tip-arrow-top tip-arrow-right tip-arrow-bottom tip-arrow-left",this.asyncAnimating=!1},update:function(t,e){if(!this.disabled){var i=void 0!==t;if(i){if(e||(this.opts.content=t),!this.$tip.data("active"))return}else t=this.opts.content;var n=this,o="function"==typeof t?t.call(this.$elm[0],function(t){n.update(t)}):"[title]"==t?this.$elm.data("title.poshytip"):t;this.content!==o&&(this.$inner.empty().append(o),this.content=o),this.refresh(i)}},refresh:function(e){if(!this.disabled){if(e){if(!this.$tip.data("active"))return;var i={left:this.$tip.css("left"),top:this.$tip.css("top")}}this.$tip.css({left:0,top:0}).appendTo(document.body),void 0===this.opacity&&(this.opacity=this.$tip.css("opacity"));var s=this.$tip.css("background-image").match(n),a=this.$arrow.css("background-image").match(n);if(s){var l=o.test(s[1]);r&&l?(this.$tip.css("background-image","none"),this.$inner.css({margin:0,border:0,padding:0}),s=l=!1):this.$tip.prepend('<table border="0" cellpadding="0" cellspacing="0"><tr><td class="tip-top tip-bg-image" colspan="2"><span></span></td><td class="tip-right tip-bg-image" rowspan="2"><span></span></td></tr><tr><td class="tip-left tip-bg-image" rowspan="2"><span></span></td><td></td></tr><tr><td class="tip-bottom tip-bg-image" colspan="2"><span></span></td></tr></table>').css({border:0,padding:0,"background-image":"none","background-color":"transparent"}).find(".tip-bg-image").css("background-image",'url("'+s[1]+'")').end().find("td").eq(3).append(this.$inner),l&&!t.support.opacity&&(this.opts.fade=!1)}a&&!t.support.opacity&&(r&&o.test(a[1])&&(a=!1,this.$arrow.css("background-image","none")),this.opts.fade=!1);var c=this.$tip.find("table");if(r){this.$tip[0].style.width="",c.width("auto").find("td").eq(3).width("auto");var u=this.$tip.width(),d=parseInt(this.$tip.css("min-width")),h=parseInt(this.$tip.css("max-width"));!isNaN(d)&&d>u?u=d:!isNaN(h)&&u>h&&(u=h),this.$tip.add(c).width(u).eq(0).find("td").eq(3).width("100%")}else c[0]&&c.width("auto").find("td").eq(3).width("auto").end().end().width(document.defaultView&&document.defaultView.getComputedStyle&&parseFloat(document.defaultView.getComputedStyle(this.$tip[0],null).width)||this.$tip.width()).find("td").eq(3).width("100%");if(this.tipOuterW=this.$tip.outerWidth(),this.tipOuterH=this.$tip.outerHeight(),this.calcPos(),a&&this.pos.arrow&&(this.$arrow[0].className="tip-arrow tip-arrow-"+this.pos.arrow,this.$arrow.css("visibility","inherit")),e){this.asyncAnimating=!0;var f=this;this.$tip.css(i).animate({left:this.pos.l,top:this.pos.t},200,function(){f.asyncAnimating=!1})}else this.$tip.css({left:this.pos.l,top:this.pos.t})}},display:function(e){var i=this.$tip.data("active");if(!(i&&!e||!i&&e)){if(this.$tip.stop(),(this.opts.slide&&this.pos.arrow||this.opts.fade)&&(e&&this.opts.hideAniDuration||!e&&this.opts.showAniDuration)){var n={},o={};if(this.opts.slide&&this.pos.arrow){var r,s;"bottom"==this.pos.arrow||"top"==this.pos.arrow?(r="top",s="bottom"):(r="left",s="right");var a=parseInt(this.$tip.css(r));n[r]=a+(e?0:this.pos.arrow==s?-this.opts.slideOffset:this.opts.slideOffset),o[r]=a+(e?this.pos.arrow==s?this.opts.slideOffset:-this.opts.slideOffset:0)+"px"}this.opts.fade&&(n.opacity=e?this.$tip.css("opacity"):0,o.opacity=e?0:this.opacity),this.$tip.css(n).animate(o,this.opts[e?"hideAniDuration":"showAniDuration"])}e?this.$tip.queue(t.proxy(this.reset,this)):this.$tip.css("visibility","inherit"),this.$tip.data("active",!i)}},disable:function(){this.reset(),this.disabled=!0},enable:function(){this.disabled=!1},destroy:function(){this.reset(),this.$tip.remove(),delete this.$tip,this.content=null,this.$elm.unbind(".poshytip").removeData("title.poshytip").removeData("poshytip"),i.splice(t.inArray(this,i),1)},clearTimeouts:function(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0),this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0)},calcPos:function(){var e,i,n,o,r,s,a={l:0,t:0,arrow:""},l=t(window),c={l:l.scrollLeft(),t:l.scrollTop(),w:l.width(),h:l.height()};if("cursor"==this.opts.alignTo)e=i=n=this.eventX,o=r=s=this.eventY;else{var u=this.$elm.offset(),d={l:u.left,t:u.top,w:this.$elm.outerWidth(),h:this.$elm.outerHeight()};e=d.l+("inner-right"!=this.opts.alignX?0:d.w),i=e+Math.floor(d.w/2),n=e+("inner-left"!=this.opts.alignX?d.w:0),o=d.t+("inner-bottom"!=this.opts.alignY?0:d.h),r=o+Math.floor(d.h/2),s=o+("inner-top"!=this.opts.alignY?d.h:0)}switch(this.opts.alignX){case"right":case"inner-left":a.l=n+this.opts.offsetX,a.l+this.tipOuterW>c.l+c.w&&(a.l=c.l+c.w-this.tipOuterW),("right"==this.opts.alignX||"center"==this.opts.alignY)&&(a.arrow="left");break;case"center":a.l=i-Math.floor(this.tipOuterW/2),a.l+this.tipOuterW>c.l+c.w?a.l=c.l+c.w-this.tipOuterW:a.l<c.l&&(a.l=c.l);break;default:a.l=e-this.tipOuterW-this.opts.offsetX,a.l<c.l&&(a.l=c.l),("left"==this.opts.alignX||"center"==this.opts.alignY)&&(a.arrow="right")}switch(this.opts.alignY){case"bottom":case"inner-top":a.t=s+this.opts.offsetY,a.arrow&&"cursor"!=this.opts.alignTo||(a.arrow="top"),a.t+this.tipOuterH>c.t+c.h&&(a.t=o-this.tipOuterH-this.opts.offsetY,"top"==a.arrow&&(a.arrow="bottom"));break;case"center":a.t=r-Math.floor(this.tipOuterH/2),a.t+this.tipOuterH>c.t+c.h?a.t=c.t+c.h-this.tipOuterH:a.t<c.t&&(a.t=c.t);break;default:a.t=o-this.tipOuterH-this.opts.offsetY,a.arrow&&"cursor"!=this.opts.alignTo||(a.arrow="bottom"),a.t<c.t&&(a.t=s+this.opts.offsetY,"bottom"==a.arrow&&(a.arrow="top"))}this.pos=a}},t.fn.poshytip=function(e){if("string"==typeof e){var i=arguments,n=e;return Array.prototype.shift.call(i),"destroy"==n&&this.die("mouseenter.poshytip").die("focus.poshytip"),this.each(function(){var e=t(this).data("poshytip");e&&e[n]&&e[n].apply(e,i)})}var o=t.extend({},t.fn.poshytip.defaults,e);if(t("#poshytip-css-"+o.className)[0]||t(['<style id="poshytip-css-',o.className,'" type="text/css">',"div.",o.className,"{visibility:hidden;position:absolute;top:0;left:0;}","div.",o.className," table, div.",o.className," td{margin:0;font-family:inherit;font-size:inherit;font-weight:inherit;font-style:inherit;font-variant:inherit;}","div.",o.className," td.tip-bg-image span{display:block;font:1px/1px sans-serif;height:",o.bgImageFrameSize,"px;width:",o.bgImageFrameSize,"px;overflow:hidden;}","div.",o.className," td.tip-right{background-position:100% 0;}","div.",o.className," td.tip-bottom{background-position:100% 100%;}","div.",o.className," td.tip-left{background-position:0 100%;}","div.",o.className," div.tip-inner{background-position:-",o.bgImageFrameSize,"px -",o.bgImageFrameSize,"px;}","div.",o.className," div.tip-arrow{visibility:hidden;position:absolute;overflow:hidden;font:1px/1px sans-serif;}","</style>"].join("")).appendTo("head"),o.liveEvents&&"none"!=o.showOn){var r=t.extend({},o,{liveEvents:!1});switch(o.showOn){case"hover":this.live("mouseenter.poshytip",function(){var e=t(this);e.data("poshytip")||e.poshytip(r).poshytip("mouseenter")});break;case"focus":this.live("focus.poshytip",function(){var e=t(this);e.data("poshytip")||e.poshytip(r).poshytip("show")})}return this}return this.each(function(){new t.Poshytip(this,o)})},t.fn.poshytip.defaults={content:"[title]",className:"tip-yellow",bgImageFrameSize:10,showTimeout:500,hideTimeout:100,timeOnScreen:0,showOn:"hover",liveEvents:!1,alignTo:"cursor",alignX:"right",alignY:"top",offsetX:-22,offsetY:18,allowTipHover:!0,followCursor:!1,fade:!0,slide:!0,slideOffset:8,showAniDuration:300,hideAniDuration:300}}(jQuery),function(t){function e(e,o){var r=e.attr("id"),l=t("input#"+r+"-score"),c=e.children("img."+r);e.mouseleave(function(){s(e,l.val()),i(l.val(),o,!o.targetKeep)}),c.bind(o.half?"mousemove":"mouseover",function(r){var s=parseInt(this.alt,10);if(o.half){var l=parseFloat((r.pageX-t(this).offset().left)/o.size),c=l>.5?1:.5;s=parseFloat(this.alt)-1+c,n(e,s),a(e,s),o.precision&&(s=(s-c+l).toFixed(1),i(s,o)),e.data("score",s)}else n(e,s),i(s,o)}).click(function(t){l.val(o.half||o.precision?e.data("score"):this.alt),o.click&&o.click.apply(e,[l.val(),t])})}function i(e,i,n){if(i.target){var o=t(i.target);0==o.length?c(id+": target selector invalid or missing!"):(n?e=i.targetOutValue:"hint"==i.targetType&&(e=null===e&&i.cancel?i.cancelHint:i.hintList[Math.ceil(e-1)]),r(o)?o.val(e):o.html(e))}}function n(t,e){for(var i,n,o,r=t.data("options"),s=t.attr("id"),a=t.children("img."+s).length,l=0,c=1;a>=c;c++)i=t.children("img#"+s+"-"+c),r.iconRange&&r.iconRange.length>l?(o=r.iconRange[l],n=e>=c?o.on:o.off,n||(n=r.starOff),c<=o.range&&i.attr("src",r.path+n),c==o.range&&l++):(n=e>=c?r.starOn:r.starOff,i.attr("src",r.path+n))}function o(t,e){var i=t.data("options"),n="";0!=e?(e=parseInt(e,10),n=e>0&&i.number<=i.hintList.length&&null!==i.hintList[e-1]?i.hintList[e-1]:e):n=i.noRatedMsg,t.attr("title",n).children("img").attr("title",n)}function r(t){return t.is("input")||t.is("select")||t.is("textarea")}function s(e,i){var r=e.data("options"),s=e.attr("id");return isNaN(parseInt(i,10))?(e.children("img."+s).attr("src",r.path+r.starOff),void t("input#"+s+"-score").removeAttr("value")):(0>i?i=0:i>r.number&&(i=r.number),n(e,i),r.halfShow&&a(e,i),t("input#"+s+"-score").val(i),void((r.readOnly||"default"==e.css("cursor"))&&o(e,i)))}function a(e,i){var n=(i-Math.floor(i)).toFixed(2);if(n>.25){var o=e.data("options"),r=o.starOn;.76>n&&(o.half||o.halfShow)&&(r=o.starHalf),t("img#"+e.attr("id")+"-"+Math.ceil(i)).attr("src",o.path+r)}}function l(e,i,n){var o=void 0;if(void 0==i)return void c("Specify an ID or class to be the target of the action.");if(i){if(i.indexOf(".")>=0){var r;return t(i).each(function(){r="#"+t(this).attr("id"),"start"==n?t.fn.raty.start(e,r):"click"==n?t.fn.raty.click(e,r):"readOnly"==n&&t.fn.raty.readOnly(e,r)})}if(o=t(i),!o.length)return void c('"'+i+'" is a invalid identifier for the public funtion $.fn.raty.'+n+"().")}return o}function c(t){window.console&&window.console.log&&window.console.log(t)}t.fn.raty=function(r){if(0==this.length)return void c("Selector invalid or missing!");if(this.length>1)return this.each(function(){t.fn.raty.apply(t(this),[r])});var s=t.extend({},t.fn.raty.defaults,r),l=t(this),u=l.attr("id"),d=s.width?s.width:s.number*s.size+4*s.number;(void 0===u||""==u)&&(u="raty-"+l.index(),l.attr("id",u)),l.data("options",s),s.number>20?s.number=20:s.number<0&&(s.number=0),"/"!=s.path.substring(s.path.length-1,s.path.length)&&(s.path+="/");var h=!isNaN(parseInt(s.start,10)),f="";h&&(f=s.start>s.number?s.number:s.start);for(var p=s.starOn,m="",g=1;g<=s.number;g++)p=g>f?s.starOff:s.starOn,m=g<=s.hintList.length&&null!==s.hintList[g-1]?s.hintList[g-1]:g,l.append('<img id="'+u+"-"+g+'" src="'+s.path+p+'" alt="'+g+'" title="'+m+'" class="'+u+'"/>'),s.space&&l.append(g<s.number?"&nbsp;":"");s.iconRange&&h&&n(l,f),s.halfShow&&a(l,f),i(f,s);var v=t("<input/>",{id:u+"-score",type:"hidden",name:s.scoreName}).appendTo(l);if(h&&v.val(f),s.readOnly)l.css("cursor","default"),o(l,f);else{if(s.cancel){var y=l.children("img."+u),b='<img src="'+s.path+s.cancelOff+'" alt="x" title="'+s.cancelHint+'" class="button-cancel"/>';"left"==s.cancelPlace?l.prepend(b+"&nbsp;"):l.append("&nbsp;").append(b),l.children("img.button-cancel").mouseenter(function(){t(this).attr("src",s.path+s.cancelOn),y.attr("src",s.path+s.starOff),i(null,s)}).mouseleave(function(){t(this).attr("src",s.path+s.cancelOff),l.mouseout()}).click(function(t){v.removeAttr("value"),s.click&&s.click.apply(l,[null,t])}),l.css("width",d+s.size+4)}else l.css("width",d);l.css("cursor","pointer"),e(l,s)}return l},t.fn.raty.cancel=function(e,i){var n=void 0===i?!1:!0;return n?t.fn.raty.click("",e,"cancel"):t.fn.raty.start("",e,"cancel")},t.fn.raty.click=function(e,n){var o=l(e,n,"click");if(!(n.indexOf(".")>=0)){s(o,e);var r=t(n).data("options");return i(e,r),r.click?r.click.apply(o,[e]):c(n+': you must add the "click: function(score, evt) { }" callback.'),o}},t.fn.raty.readOnly=function(i,n){var o=l(i,n,"readOnly");if(!(n.indexOf(".")>=0)){var r=o.children("img.button-cancel");if(r[0]&&(i?r.hide():r.show()),i)t("img."+o.attr("id")).unbind(),o.css("cursor","default").unbind();else{var s=t(n).data("options");e(o,s),o.css("cursor","pointer")}return o}},t.fn.raty.start=function(e,n){var o=l(e,n,"start");if(!(n.indexOf(".")>=0)){s(o,e);var r=t(n).data("options");return i(e,r),o}},t.fn.raty.defaults={cancel:!1,cancelHint:"cancel this rating!",cancelOff:"cancel-off.png",cancelOn:"cancel-on.png",cancelPlace:"left",click:null,half:!1,halfShow:!0,hintList:["bad","poor","regular","good","gorgeous"],iconRange:void 0,noRatedMsg:"not rated yet",number:5,path:"",precision:!1,readOnly:!1,scoreName:"score",size:16,space:!0,starHalf:"star-half.png",starOff:"star-off.png",starOn:"star-on.png",start:0,target:null,targetKeep:!1,targetOutValue:"",targetType:"hint",width:null}}(jQuery),function(){Function.prototype.inheritFrom=function(t,e){var i=function(){};if(i.prototype=t.prototype,this.prototype=new i,this.prototype.constructor=this,this.prototype.baseConstructor=t,this.prototype.superClass=t.prototype,e)for(var n in e)this.prototype[n]=e[n]},Number.prototype.jSliderNice=function(t){var e,i=/^(-)?(\d+)([\.,](\d+))?$/,n=Number(this),o=String(n),r="",s=" ";if(e=o.match(i)){var a=e[2],l=e[4]?Number("0."+e[4]):0;if(l){var c=Math.pow(10,t?t:2);if(l=Math.round(l*c),sNewDecPart=String(l),r=sNewDecPart,sNewDecPart.length<t)for(var u=t-sNewDecPart.length,d=0;u>d;d++)r="0"+r;r=","+r}else if(t&&0!=t){for(var d=0;t>d;d++)r+="0";r=","+r}var h;if(Number(a)<1e3)h=a+r;else{var d,f="";for(d=1;3*d<a.length;d++)f=s+a.substring(a.length-3*d,a.length-3*(d-1))+f;h=a.substr(0,3-3*d+a.length)+f+r}return e[1]?"-"+h:h}return o},this.jSliderIsArray=function(t){return"undefined"==typeof t?!1:t instanceof Array||!(t instanceof Object)&&"[object Array]"==Object.prototype.toString.call(t)||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice")?!0:!1}}(),function(){var t={};this.jSliderTmpl=function e(i,n){var o=/\W/.test(i)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+i.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):t[i]=t[i]||e(i);return n?o(n):o}}(),function(t){this.Draggable=function(){this._init.apply(this,arguments)},Draggable.prototype={oninit:function(){},events:function(){},onmousedown:function(){this.ptr.css({position:"absolute"})},onmousemove:function(t,e,i){this.ptr.css({left:e,top:i})},onmouseup:function(){},isDefault:{drag:!1,clicked:!1,toclick:!0,mouseup:!1},_init:function(){if(arguments.length>0){this.ptr=t(arguments[0]),this.outer=t(".draggable-outer"),this.is={},t.extend(this.is,this.isDefault);var e=this.ptr.offset();this.d={left:e.left,top:e.top,width:this.ptr.width(),height:this.ptr.height()},this.oninit.apply(this,arguments),this._events()}},_getPageCoords:function(t){return t.targetTouches&&t.targetTouches[0]?{x:t.targetTouches[0].pageX,y:t.targetTouches[0].pageY}:{x:t.pageX,y:t.pageY}},_bindEvent:function(t,e,i){this.supportTouches_?t.get(0).addEventListener(this.events_[e],i,!1):t.bind(this.events_[e],i)},_events:function(){var e=this;this.supportTouches_=t.browser.webkit&&-1!=navigator.userAgent.indexOf("Mobile"),this.events_={click:this.supportTouches_?"touchstart":"click",down:this.supportTouches_?"touchstart":"mousedown",move:this.supportTouches_?"touchmove":"mousemove",up:this.supportTouches_?"touchend":"mouseup"},this._bindEvent(t(document),"move",function(t){e.is.drag&&(t.stopPropagation(),t.preventDefault(),e._mousemove(t))}),this._bindEvent(t(document),"down",function(t){e.is.drag&&(t.stopPropagation(),t.preventDefault())}),this._bindEvent(t(document),"up",function(t){e._mouseup(t)}),this._bindEvent(this.ptr,"down",function(t){return e._mousedown(t),!1}),this._bindEvent(this.ptr,"up",function(t){e._mouseup(t)}),this.ptr.find("a").click(function(){return e.is.clicked=!0,e.is.toclick?void 0:(e.is.toclick=!0,!1)}).mousedown(function(t){return e._mousedown(t),!1}),this.events()},_mousedown:function(e){this.is.drag=!0,this.is.clicked=!1,this.is.mouseup=!1;var i=this.ptr.offset(),n=this._getPageCoords(e);this.cx=n.x-i.left,this.cy=n.y-i.top,t.extend(this.d,{left:i.left,top:i.top,width:this.ptr.width(),height:this.ptr.height()}),this.outer&&this.outer.get(0)&&this.outer.css({height:Math.max(this.outer.height(),t(document.body).height()),overflow:"hidden"}),this.onmousedown(e)},_mousemove:function(t){this.is.toclick=!1;var e=this._getPageCoords(t);this.onmousemove(t,e.x-this.cx,e.y-this.cy)},_mouseup:function(e){this.is.drag&&(this.is.drag=!1,this.outer&&this.outer.get(0)&&(t.browser.mozilla?this.outer.css({overflow:"hidden"}):this.outer.css({overflow:"visible"}),t.browser.msie&&"6.0"==t.browser.version?this.outer.css({height:"100%"}):this.outer.css({height:"auto"})),this.onmouseup(e))}}}(jQuery),function(t){function e(){this.baseConstructor.apply(this,arguments)}t.slider=function(e,i){var n=t(e);return n.data("jslider")||n.data("jslider",new jSlider(e,i)),n.data("jslider")},t.fn.slider=function(e,i){function n(t){return void 0!==t}function o(t){return null!=t}var r,s=arguments;return this.each(function(){var a=t.slider(this,e);if("string"==typeof e)switch(e){case"value":if(n(s[1])&&n(s[2])){var l=a.getPointers();o(l[0])&&o(s[1])&&(l[0].set(s[1]),l[0].setIndexOver()),o(l[1])&&o(s[2])&&(l[1].set(s[2]),l[1].setIndexOver())}else if(n(s[1])){var l=a.getPointers();o(l[0])&&o(s[1])&&(l[0].set(s[1]),l[0].setIndexOver())}else r=a.getValue();break;case"prc":if(n(s[1])&&n(s[2])){var l=a.getPointers();o(l[0])&&o(s[1])&&(l[0]._set(s[1]),l[0].setIndexOver()),o(l[1])&&o(s[2])&&(l[1]._set(s[2]),l[1].setIndexOver())}else if(n(s[1])){var l=a.getPointers();o(l[0])&&o(s[1])&&(l[0]._set(s[1]),l[0].setIndexOver())}else r=a.getPrcValue();break;case"calculatedValue":var c=a.getValue().split(";");r="";for(var u=0;u<c.length;u++)r+=(u>0?";":"")+a.nice(c[u]);break;case"skin":a.setSkin(s[1])}else e||i||(jSliderIsArray(r)||(r=[]),r.push(slider))}),jSliderIsArray(r)&&1==r.length&&(r=r[0]),r||this};var i={settings:{from:1,to:10,step:1,smooth:!0,limits:!0,round:0,value:"5;7",dimension:""},className:"jslider",selector:".jslider-",template:jSliderTmpl('<span class="<%=className%>"><table><tr><td><div class="<%=className%>-bg"><i class="l"><i></i></i><i class="r"><i></i></i><i class="v"><i></i></i></div><div class="<%=className%>-pointer"><i></i></div><div class="<%=className%>-pointer <%=className%>-pointer-to"><i></i></div><div class="<%=className%>-label"><span><%=settings.from%></span></div><div class="<%=className%>-label <%=className%>-label-to"><span><%=settings.to%></span><%=settings.dimension%></div><div class="<%=className%>-value"><span></span><%=settings.dimension%></div><div class="<%=className%>-value <%=className%>-value-to"><span></span><%=settings.dimension%></div><div class="<%=className%>-scale"><%=scale%></div></td></tr></table></span>')};this.jSlider=function(){return this.init.apply(this,arguments)},jSlider.prototype={init:function(e,n){this.settings=t.extend(!0,{},i.settings,n?n:{}),this.inputNode=t(e).hide(),this.settings.interval=this.settings.to-this.settings.from,this.settings.value=this.inputNode.attr("value"),this.settings.calculate&&t.isFunction(this.settings.calculate)&&(this.nice=this.settings.calculate),this.settings.onstatechange&&t.isFunction(this.settings.onstatechange)&&(this.onstatechange=this.settings.onstatechange),this.is={init:!1},this.o={},this.create()},onstatechange:function(){},create:function(){var n=this;this.domNode=t(i.template({className:i.className,settings:{from:this.nice(this.settings.from),to:this.nice(this.settings.to),dimension:this.settings.dimension},scale:this.generateScale()})),this.inputNode.after(this.domNode),this.drawScale(),this.settings.skin&&this.settings.skin.length>0&&this.setSkin(this.settings.skin),this.sizes={domWidth:this.domNode.width(),domOffset:this.domNode.offset()},t.extend(this.o,{pointers:{},labels:{0:{o:this.domNode.find(i.selector+"value").not(i.selector+"value-to")},1:{o:this.domNode.find(i.selector+"value").filter(i.selector+"value-to")}},limits:{0:this.domNode.find(i.selector+"label").not(i.selector+"label-to"),1:this.domNode.find(i.selector+"label").filter(i.selector+"label-to")}}),t.extend(this.o.labels[0],{value:this.o.labels[0].o.find("span")}),t.extend(this.o.labels[1],{value:this.o.labels[1].o.find("span")}),n.settings.value.split(";")[1]||(this.settings.single=!0,this.domNode.addDependClass("single")),n.settings.limits||this.domNode.addDependClass("limitless"),this.domNode.find(i.selector+"pointer").each(function(t){var i=n.settings.value.split(";")[t];if(i){n.o.pointers[t]=new e(this,t,n);var o=n.settings.value.split(";")[t-1];o&&new Number(i)<new Number(o)&&(i=o),i=i<n.settings.from?n.settings.from:i,i=i>n.settings.to?n.settings.to:i,n.o.pointers[t].set(i,!0)}}),this.o.value=this.domNode.find(".v"),this.is.init=!0,t.each(this.o.pointers,function(t){n.redraw(this)}),function(e){t(window).resize(function(){e.onresize()})}(this)},setSkin:function(t){this.skin_&&this.domNode.removeDependClass(this.skin_,"_"),this.domNode.addDependClass(this.skin_=t,"_")},setPointersIndex:function(e){t.each(this.getPointers(),function(t){this.index(t)})},getPointers:function(){return this.o.pointers},generateScale:function(){if(this.settings.scale&&this.settings.scale.length>0){for(var t="",e=this.settings.scale,i=Math.round(100/(e.length-1)*10)/10,n=0;n<e.length;n++)t+='<span style="left: '+n*i+'%">'+("|"!=e[n]?"<ins>"+e[n]+"</ins>":"")+"</span>";return t}return""},drawScale:function(){this.domNode.find(i.selector+"scale span ins").each(function(){t(this).css({marginLeft:-t(this).outerWidth()/2})})},onresize:function(){var e=this;this.sizes={domWidth:this.domNode.width(),domOffset:this.domNode.offset()},t.each(this.o.pointers,function(t){e.redraw(this)})},limits:function(t,e){if(!this.settings.smooth){var i=100*this.settings.step/this.settings.interval;t=Math.round(t/i)*i}var n=this.o.pointers[1-e.uid];return n&&e.uid&&t<n.value.prc&&(t=n.value.prc),n&&!e.uid&&t>n.value.prc&&(t=n.value.prc),0>t&&(t=0),t>100&&(t=100),Math.round(10*t)/10},redraw:function(t){return this.is.init?(this.setValue(),this.o.pointers[0]&&this.o.pointers[1]&&this.o.value.css({left:this.o.pointers[0].value.prc+"%",width:this.o.pointers[1].value.prc-this.o.pointers[0].value.prc+"%"}),this.o.labels[t.uid].value.html(this.nice(t.value.origin)),void this.redrawLabels(t)):!1},redrawLabels:function(t){function e(t,e,n){return e.margin=-e.label/2,label_left=e.border+e.margin,label_left<0&&(e.margin-=label_left),e.border+e.label/2>i.sizes.domWidth?(e.margin=0,e.right=!0):e.right=!1,t.o.css({left:n+"%",marginLeft:e.margin,right:"auto"}),e.right&&t.o.css({left:"auto",right:0}),e}var i=this,n=this.o.labels[t.uid],o=t.value.prc,r={label:n.o.outerWidth(),right:!1,border:o*this.sizes.domWidth/100};if(!this.settings.single){var s=this.o.pointers[1-t.uid],a=this.o.labels[s.uid];switch(t.uid){case 0:r.border+r.label/2>a.o.offset().left-this.sizes.domOffset.left?(a.o.css({visibility:"hidden"}),a.value.html(this.nice(s.value.origin)),n.o.css({visibility:"visible"}),o=(s.value.prc-o)/2+o,s.value.prc!=t.value.prc&&(n.value.html(this.nice(t.value.origin)+"&nbsp;&ndash;&nbsp;"+this.nice(s.value.origin)),r.label=n.o.outerWidth(),r.border=o*this.sizes.domWidth/100)):a.o.css({visibility:"visible"});break;case 1:r.border-r.label/2<a.o.offset().left-this.sizes.domOffset.left+a.o.outerWidth()?(a.o.css({visibility:"hidden"}),a.value.html(this.nice(s.value.origin)),n.o.css({visibility:"visible"}),o=(o-s.value.prc)/2+s.value.prc,s.value.prc!=t.value.prc&&(n.value.html(this.nice(s.value.origin)+"&nbsp;&ndash;&nbsp;"+this.nice(t.value.origin)),r.label=n.o.outerWidth(),r.border=o*this.sizes.domWidth/100)):a.o.css({visibility:"visible"})}}if(r=e(n,r,o),a){var r={label:a.o.outerWidth(),right:!1,border:s.value.prc*this.sizes.domWidth/100};r=e(a,r,s.value.prc)}this.redrawLimits()},redrawLimits:function(){if(this.settings.limits){var t=[!0,!0];for(key in this.o.pointers)if(!this.settings.single||0==key){var e=this.o.pointers[key],i=this.o.labels[e.uid],n=i.o.offset().left-this.sizes.domOffset.left,o=this.o.limits[0];n<o.outerWidth()&&(t[0]=!1);var o=this.o.limits[1];n+i.o.outerWidth()>this.sizes.domWidth-o.outerWidth()&&(t[1]=!1)}for(var r=0;r<t.length;r++)t[r]?this.o.limits[r].fadeIn("fast"):this.o.limits[r].fadeOut("fast")}},setValue:function(){var t=this.getValue();this.inputNode.attr("value",t),this.onstatechange.call(this,t)},getValue:function(){if(!this.is.init)return!1;var e=this,i="";return t.each(this.o.pointers,function(t){void 0==this.value.prc||isNaN(this.value.prc)||(i+=(t>0?";":"")+e.prcToValue(this.value.prc))}),i},getPrcValue:function(){if(!this.is.init)return!1;var e="";return t.each(this.o.pointers,function(t){void 0==this.value.prc||isNaN(this.value.prc)||(e+=(t>0?";":"")+this.value.prc)}),e},prcToValue:function(t){if(this.settings.heterogeneity&&this.settings.heterogeneity.length>0)for(var e=this.settings.heterogeneity,i=0,n=this.settings.from,o=0;o<=e.length;o++){if(e[o])var r=e[o].split("/");else var r=[100,this.settings.to];if(r[0]=new Number(r[0]),r[1]=new Number(r[1]),t>=i&&t<=r[0])var s=n+(t-i)*(r[1]-n)/(r[0]-i);i=r[0],n=r[1]}else var s=this.settings.from+t*this.settings.interval/100;return this.round(s)},valueToPrc:function(t,e){if(this.settings.heterogeneity&&this.settings.heterogeneity.length>0)for(var i=this.settings.heterogeneity,n=0,o=this.settings.from,r=0;r<=i.length;r++){if(i[r])var s=i[r].split("/");else var s=[100,this.settings.to];if(s[0]=new Number(s[0]),s[1]=new Number(s[1]),t>=o&&t<=s[1])var a=e.limits(n+(t-o)*(s[0]-n)/(s[1]-o));n=s[0],o=s[1]}else var a=e.limits(100*(t-this.settings.from)/this.settings.interval);return a},round:function(t){return t=Math.round(t/this.settings.step)*this.settings.step,t=this.settings.round?Math.round(t*Math.pow(10,this.settings.round))/Math.pow(10,this.settings.round):Math.round(t)},nice:function(t){return t=t.toString().replace(/,/gi,"."),t=t.toString().replace(/ /gi,""),Number.prototype.jSliderNice?new Number(t).jSliderNice(this.settings.round).replace(/-/gi,"&minus;"):new Number(t)}},e.inheritFrom(Draggable,{oninit:function(t,e,i){this.uid=e,this.parent=i,this.value={},this.settings=this.parent.settings},onmousedown:function(t){this._parent={offset:this.parent.domNode.offset(),width:this.parent.domNode.width()},this.ptr.addDependClass("hover"),this.setIndexOver()},onmousemove:function(t,e){var i=this._getPageCoords(t);this._set(this.calc(i.x))},onmouseup:function(e){this.parent.settings.callback&&t.isFunction(this.parent.settings.callback)&&this.parent.settings.callback.call(this.parent,this.parent.getValue()),this.ptr.removeDependClass("hover")},setIndexOver:function(){this.parent.setPointersIndex(1),this.index(2)},index:function(t){this.ptr.css({zIndex:t})},limits:function(t){return this.parent.limits(t,this)},calc:function(t){var e=this.limits(100*(t-this._parent.offset.left)/this._parent.width);return e},set:function(t,e){this.value.origin=this.parent.round(t),this._set(this.parent.valueToPrc(t,this),e)},_set:function(t,e){e||(this.value.origin=this.parent.prcToValue(t)),this.value.prc=t,this.ptr.css({left:t+"%"}),this.parent.redraw(this)}})}(jQuery),/*!
 * jQuery Tools v1.2.6 - The missing UI library for the Web
 * 
 * tooltip/tooltip.js
 * 
 * NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.
 * 
 * http://flowplayer.org/tools/
 * 
 */
function(t){function e(e,i,n){var o=n.relative?e.position().top:e.offset().top,r=n.relative?e.position().left:e.offset().left,s=n.position[0];o-=i.outerHeight()-n.offset[0],r+=e.outerWidth()+n.offset[1],/iPad/i.test(navigator.userAgent)&&(o-=t(window).scrollTop());var a=i.outerHeight()+e.outerHeight();"center"==s&&(o+=a/2),"bottom"==s&&(o+=a),s=n.position[1];var l=i.outerWidth()+e.outerWidth();return"center"==s&&(r-=l/2),"left"==s&&(r-=l),{top:o,left:r}}function i(i,o){var r,s,a=this,l=i.add(a),c=0,u=0,d=i.attr("title"),h=i.attr("data-tooltip"),f=n[o.effect],p=i.is(":input"),m=p&&i.is(":checkbox, :radio, select, :button, :submit"),g=i.attr("type"),v=o.events[g]||o.events[p?m?"widget":"input":"def"];if(!f)throw'Nonexistent effect "'+o.effect+'"';if(v=v.split(/,\s*/),2!=v.length)throw"Tooltip: bad events configuration for "+g;i.bind(v[0],function(t){clearTimeout(c),o.predelay?u=setTimeout(function(){a.show(t)},o.predelay):a.show(t)}).bind(v[1],function(t){clearTimeout(u),o.delay?c=setTimeout(function(){a.hide(t)},o.delay):a.hide(t)}),d&&o.cancelDefault&&(i.removeAttr("title"),i.data("title",d)),t.extend(a,{show:function(n){if(!r&&(h?r=t(h):o.tip?r=t(o.tip).eq(0):d?r=t(o.layout).addClass(o.tipClass).appendTo(document.body).hide().append(d):(r=i.next(),r.length||(r=i.parent().next())),!r.length))throw"Cannot find tooltip for "+i;if(a.isShown())return a;r.stop(!0,!0);var p=e(i,r,o);if(o.tip&&r.html(i.data("title")),n=t.Event(),n.type="onBeforeShow",l.trigger(n,[p]),n.isDefaultPrevented())return a;p=e(i,r,o),r.css({position:"absolute",top:p.top,left:p.left}),s=!0,f[0].call(a,function(){n.type="onShow",s="full",l.trigger(n)});var m=o.events.tooltip.split(/,\s*/);return r.data("__set")||(r.unbind(m[0]).bind(m[0],function(){clearTimeout(c),clearTimeout(u)}),m[1]&&!i.is("input:not(:checkbox, :radio), textarea")&&r.unbind(m[1]).bind(m[1],function(t){t.relatedTarget!=i[0]&&i.trigger(v[1].split(" ")[0])}),o.tip||r.data("__set",!0)),a},hide:function(e){return r&&a.isShown()?(e=t.Event(),e.type="onBeforeHide",l.trigger(e),e.isDefaultPrevented()?void 0:(s=!1,n[o.effect][1].call(a,function(){e.type="onHide",l.trigger(e)}),a)):a},isShown:function(t){return t?"full"==s:s},getConf:function(){return o},getTip:function(){return r},getTrigger:function(){return i}}),t.each("onHide,onBeforeShow,onShow,onBeforeHide".split(","),function(e,i){t.isFunction(o[i])&&t(a).bind(i,o[i]),a[i]=function(e){return e&&t(a).bind(i,e),a}})}t.tools=t.tools||{version:"v1.2.6"},t.tools.tooltip={conf:{effect:"toggle",fadeOutSpeed:"fast",predelay:0,delay:30,opacity:1,tip:0,fadeIE:!1,position:["top","center"],offset:[0,0],relative:!1,cancelDefault:!0,events:{def:"mouseenter,mouseleave",input:"focus,blur",widget:"focus mouseenter,blur mouseleave",tooltip:"mouseenter,mouseleave"},layout:"<div/>",tipClass:"tooltip"},addEffect:function(t,e,i){n[t]=[e,i]}};var n={toggle:[function(t){var e=this.getConf(),i=this.getTip(),n=e.opacity;1>n&&i.css({opacity:n}),i.show(),t.call()},function(t){this.getTip().hide(),t.call()}],fade:[function(e){var i=this.getConf();!t.browser.msie||i.fadeIE?this.getTip().fadeTo(i.fadeInSpeed,i.opacity,e):(this.getTip().show(),e())},function(e){var i=this.getConf();!t.browser.msie||i.fadeIE?this.getTip().fadeOut(i.fadeOutSpeed,e):(this.getTip().hide(),e())}]};t.fn.tooltip=function(e){var n=this.data("tooltip");return n?n:(e=t.extend(!0,{},t.tools.tooltip.conf,e),"string"==typeof e.position&&(e.position=e.position.split(/,?\s/)),this.each(function(){n=new i(t(this),e),t(this).data("tooltip",n)}),e.api?n:this)}}(jQuery),function(t){t.fn.validationEngineLanguage=function(){},t.validationEngineLanguage={newLang:function(){t.validationEngineLanguage.allRules={required:{regex:"none",alertText:"* This field is required",alertTextCheckboxMultiple:"* Please select an option",alertTextCheckboxe:"* This checkbox is required",alertTextDateRange:"* Both date range fields are required"},dateRange:{regex:"none",alertText:"* Invalid ",alertText2:"Date Range"},dateTimeRange:{regex:"none",alertText:"* Invalid ",alertText2:"Date Time Range"},minSize:{regex:"none",alertText:"* Minimum ",alertText2:" characters allowed"},maxSize:{regex:"none",alertText:"* Maximum ",alertText2:" characters allowed"},groupRequired:{regex:"none",alertText:"* You must fill one of the following fields"},min:{regex:"none",alertText:"* Minimum value is "},max:{regex:"none",alertText:"* Maximum value is "},past:{regex:"none",alertText:"* Date prior to "},future:{regex:"none",alertText:"* Date past "},maxCheckbox:{regex:"none",alertText:"* Maximum ",alertText2:" options allowed"},minCheckbox:{regex:"none",alertText:"* Please select ",alertText2:" options"},equals:{regex:"none",alertText:"* Fields do not match"},creditCard:{regex:"none",alertText:"* Invalid credit card number"},phone:{regex:/^([\+][0-9]{1,3}[ \.\-])?([\(]{1}[0-9]{2,6}[\)])?([0-9 \.\-\/]{3,20})((x|ext|extension)[ ]?[0-9]{1,4})?$/,alertText:"* Invalid phone number"},email:{regex:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,alertText:"* Invalid email address"},integer:{regex:/^[\-\+]?\d+$/,alertText:"* Not a valid integer"},number:{regex:/^[\-\+]?(([0-9]+)([\.,]([0-9]+))?|([\.,]([0-9]+))?)$/,alertText:"* Invalid floating decimal number"},date:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/,alertText:"* Invalid date, must be in YYYY-MM-DD format"},ipv4:{regex:/^((([01]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))[.]){3}(([0-1]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))$/,alertText:"* Invalid IP address"},url:{regex:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,alertText:"* Invalid URL"},onlyNumberSp:{regex:/^[0-9\ ]+$/,alertText:"* Numbers only"},onlyLetterSp:{regex:/^[a-zA-Z\ \']+$/,alertText:"* Letters only"},onlyLetterNumber:{regex:/^[0-9a-zA-Z]+$/,alertText:"* No special characters allowed"},ajaxUserCall:{url:"ajaxValidateFieldUser",extraData:"name=eric",alertText:"* This user is already taken",alertTextLoad:"* Validating, please wait"},ajaxUserCallPhp:{url:"phpajax/ajaxValidateFieldUser.php",extraData:"name=eric",alertTextOk:"* This username is available",alertText:"* This user is already taken",alertTextLoad:"* Validating, please wait"},ajaxNameCall:{url:"ajaxValidateFieldName",alertText:"* This name is already taken",alertTextOk:"* This name is available",alertTextLoad:"* Validating, please wait"},ajaxNameCallPhp:{url:"phpajax/ajaxValidateFieldName.php",alertText:"* This name is already taken",alertTextLoad:"* Validating, please wait"},validate2fields:{alertText:"* Please input HELLO"},dateFormat:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(?:(?:0?[1-9]|1[0-2])(\/|-)(?:0?[1-9]|1\d|2[0-8]))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(0?2(\/|-)29)(\/|-)(?:(?:0[48]00|[13579][26]00|[2468][048]00)|(?:\d\d)?(?:0[48]|[2468][048]|[13579][26]))$/,alertText:"* Invalid Date"},dateTimeFormat:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1}$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^((1[012]|0?[1-9]){1}\/(0?[1-9]|[12][0-9]|3[01]){1}\/\d{2,4}\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1})$/,alertText:"* Invalid Date or Date Format",alertText2:"Expected Format: ",alertText3:"mm/dd/yyyy hh:mm:ss AM|PM or ",alertText4:"yyyy-mm-dd hh:mm:ss AM|PM"}}}},t.validationEngineLanguage.newLang()}(jQuery);var plannto_popup_login_id="",login_flag="",click_type="";(function(){}).call(this),function(t,e,i){function n(t){for(var e={x:t.offsetLeft,y:t.offsetTop};t=t.offsetParent;)e.x+=t.offsetLeft,e.y+=t.offsetTop;return e}function o(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)t[o]===i&&(t[o]=n[o])}return t}function r(t,e){for(var i in e)t.style[s(t,i)||i]=e[i];return t}function s(t,e){var n,o,r=t.style;if(r[e]!==i)return e;for(e=e.charAt(0).toUpperCase()+e.slice(1),o=0;o<d.length;o++)if(n=d[o]+e,r[n]!==i)return n}function a(t,e,i,n){var o=["opacity",e,~~(100*t),i,n].join("-"),r=.01+i/n*100,s=Math.max(1-(1-t)/e*(100-r),t),a=u.substring(0,u.indexOf("Animation")).toLowerCase(),l=a&&"-"+a+"-"||"";return h[o]||(f.insertRule("@"+l+"keyframes "+o+"{0%{opacity:"+s+"}"+r+"%{opacity:"+t+"}"+(r+.01)+"%{opacity:1}"+(r+e)%100+"%{opacity:"+t+"}100%{opacity:"+s+"}}",0),h[o]=1),o}function l(t,e,i){return i&&!i.parentNode&&l(t,i),t.insertBefore(e,i||null),t}function c(t,i){var n,o=e.createElement(t||"div");for(n in i)o[n]=i[n];return o}var u,d=["webkit","Moz","ms","O"],h={},f=function(){var t=c("style");return l(e.getElementsByTagName("head")[0],t),t.sheet||t.styleSheet}(),p=function v(t){return this.spin?void(this.opts=o(t||{},v.defaults,m)):new v(t)},m=p.defaults={lines:12,length:7,width:5,radius:10,color:"#000",speed:1,trail:100,opacity:.25,fps:20},g=p.prototype={spin:function(t){this.stop();var e,i,o=this,s=o.el=r(c(),{position:"relative"});if(t&&(i=n(l(t,s,t.firstChild)),e=n(s),r(s,{left:(t.offsetWidth>>1)-e.x+i.x+"px",top:(t.offsetHeight>>1)-e.y+i.y+"px"})),s.setAttribute("aria-role","progressbar"),o.lines(s,o.opts),!u){var a=o.opts,d=0,h=a.fps,f=h/a.speed,p=(1-a.opacity)/(f*a.trail/100),m=f/a.lines;!function g(){d++;for(var t=a.lines;t;t--){var e=Math.max(1-(d+t*m)%f*p,a.opacity);o.opacity(s,a.lines-t,e,a)}o.timeout=o.el&&setTimeout(g,~~(1e3/h))}()}return o},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=i),this}};g.lines=function(t,e){function i(t,i){return r(c(),{position:"absolute",width:e.length+e.width+"px",height:e.width+"px",background:t,boxShadow:i,transformOrigin:"left",transform:"rotate("+~~(360/e.lines*o)+"deg) translate("+e.radius+"px,0)",borderRadius:(e.width>>1)+"px"})}for(var n,o=0;o<e.lines;o++)n=r(c(),{position:"absolute",top:1+~(e.width/2)+"px",transform:"translate3d(0,0,0)",opacity:e.opacity,animation:u&&a(e.opacity,e.trail,o,e.lines)+" "+1/e.speed+"s linear infinite"}),e.shadow&&l(n,r(i("#000","0 0 4px #000"),{top:"2px"})),l(t,l(n,i(e.color,"0 0 1px rgba(0,0,0,.1)")));return t},g.opacity=function(t,e,i){e<t.childNodes.length&&(t.childNodes[e].style.opacity=i)},function(){var t,e=r(c("group"),{behavior:"url(#default#VML)"});if(!s(e,"transform")&&e.adj){for(t=4;t--;)f.addRule(["group","roundrect","fill","stroke"][t],"behavior:url(#default#VML)");g.lines=function(t,e){function i(t,i,o){l(u,l(r(n(),{rotation:360/e.lines*t+"deg",left:~~i}),l(r(c("roundrect",{arcsize:1}),{width:s,height:e.width,left:e.radius,top:-e.width>>1,filter:o}),c("fill",{color:e.color,opacity:e.opacity}),c("stroke",{opacity:0}))))}function n(){return r(c("group",{coordsize:a+" "+a,coordorigin:-s+" "+-s}),{width:a,height:a})}var o,s=e.length+e.width,a=2*s,u=n(),d=~(e.length+e.radius+e.width)+"px";if(e.shadow)for(o=1;o<=e.lines;o++)i(o,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(o=1;o<=e.lines;o++)i(o);return l(r(t,{margin:d+" 0 0 "+d,zoom:1}),u)},g.opacity=function(t,e,i,n){var o=t.firstChild;n=n.shadow&&n.lines||0,o&&e+n<o.childNodes.length&&(o=o.childNodes[e+n],o=o&&o.firstChild,o=o&&o.firstChild,o&&(o.opacity=i))}}else u=s(e,"animation")}(),t.Spinner=p}(window,document),$(document).on("keyup.autocomplete","#search_car",function(){$(this).autocomplete({minLength:2,format:"js",source:function(t,e){$.ajax({url:"/search/autocomplete_items",data:{term:$("#search_car").val(),search_type:$("#category").val(),authenticity_token:window._token,from_profile:!0},type:"GET",dataType:"json",success:function(t){e($.map(t,function(t){return{id:t.id,value:t.value,imgsrc:t.imgsrc,type:t.type,url:t.url}}))}})},focus:function(t,e){return!1},select:function(t,e){$.ajax({url:"/preferences/plan_to_buy?item_id="+e.item.id+"&follow_type=Buyer&buying_plan_id="+$("#buying_plan_id").val()+"&per_page="+$("#per_page_value").val(),type:"GET",dataType:"script"})}}),-1!=$("#search_car").index()&&($("#search_car").data("autocomplete")._renderItem=function(t,e,i){return-1==i?$("<li></li>").data("item.autocomplete",e).append("<a class='searchMore'>"+e.value+"</a>").appendTo(t):$("<li></li>").data("item.autocomplete",e).append("<a><div style='margin-left:5px;float:left' class='autocompletediv'><img width='40' height='40' src='"+e.imgsrc+"' /></div><div style='margin-left:53px;'><span class='atext'>"+e.value+"</span><br/><span class ='atext'>"+e.type+"</span></div></a>").appendTo(t)}),$("#plantobuyPaginate div.pagination a").click(function(){var t=$(this).text(),e=$("em.current").text();return"\u2190 Previous"==t?t=parseInt(e)-1:"Next \u2192"==t&&(t=parseInt(e)+1),$.ajax({url:"/preferences/plan_to_buy?follow_type=&buying_plan_id="+$("#buying_plan_id").val()+"&page="+t+"&per_page="+$("#per_page_value").val(),type:"GET",dataType:"script"}),!1})}),$(document).on("keyup.autocomplete","#search_buying_car",function(){$(this).autocomplete({minLength:2,format:"js",source:function(t,e){$.ajax({url:"/search/autocomplete_items",data:{term:$("#search_buying_car").val(),authenticity_token:window._token,from_profile:!0,search_type:$("#category").val()},type:"GET",dataType:"json",success:function(t){e($.map(t,function(t){return{id:t.id,value:t.value,imgsrc:t.imgsrc,type:t.type,url:t.url}}))}})},focus:function(t,e){return!1},select:function(t,e){$.ajax({url:"/preferences/plan_to_buy?item_id="+e.item.id+"&follow_type=Buyer&buying_plan_id="+$("#buying_plan_id").val()+"&per_page="+$("#per_page_value").val()+"&display_type=popup",type:"GET",dataType:"script"})}}),-1!=$("#search_buying_car").index()&&($("#search_buying_car").data("autocomplete")._renderItem=function(t,e,i){return-1==i?$("<li></li>").data("item.autocomplete",e).append("<a class='searchMore'>"+e.value+"</a>").appendTo(t):$("<li></li>").data("item.autocomplete",e).append("<a><div style='margin-left:5px;float:left' class='autocompletediv'><img width='40' height='40' src='"+e.imgsrc+"' /></div><div style='margin-left:53px;'><span class='atext'>"+e.value+"</span><br/><span class ='atext'>"+e.type+"</span></div></a>").appendTo(t)})}),function(){}.call(this),function(){var t;t="undefined"!=typeof exports&&null!==exports?exports:this,t.Product={load_buyer:function(t,e,i,n){var o;return $("#plan_to_buy"+t).removeClass().addClass("plan_to_buy_icon_selected"+e),$("#plan_to_buy_span"+t).removeClass().addClass("action_btns_selected"+e),$("#plan_to_buy"+t).attr("title",i),$("#plan_to_follow"+t).attr("title",n),$("#plan_to_follow"+t).removeClass().addClass("plan_to_follow_icon"+e),$("#plan_to_follow_span"+t).removeClass().addClass("action_btns"+e),$("#plan_to_own"+t).removeClass().addClass("plan_to_own_icon"+e),$("#plan_to_own_span"+t).removeClass().addClass("action_btns"+e),o=$("#plan_to_buy"+t).attr("href"),$("#plan_to_buy"+t).attr("href",o+"&unfollow=true")},load_owner:function(t,e,i,n){var o;return $("#plan_to_own"+t).removeClass().addClass("plan_to_own_icon_selected"+e),$("#plan_to_own_span"+t).removeClass().addClass("action_btns_selected"+e),$("#plan_to_own"+t).attr("title",i),$("#plan_to_follow"+t).attr("title",n),$("#plan_to_follow"+t).removeClass().addClass("plan_to_follow_icon"+e),$("#plan_to_follow_span"+t).removeClass().addClass("action_btns"+e),o=$("#plan_to_own"+t).attr("href"),$("#plan_to_own"+t).attr("href",o+"&unfollow=true"),$("#plan_to_buy_span"+t).removeClass(),$("#plan_to_buy"+t).removeClass().addClass("plan_to_buy_icon"+e),$("#plan_to_buy_span"+t).addClass("action_btns"+e)},load_follow:function(t,e,i){var n;return $("#plan_to_follow"+t).removeClass(),$("#plan_to_follow"+t).removeClass().addClass("plan_to_follow_icon_selected"+e),$("#plan_to_follow_span"+t).removeClass().addClass("action_btns_selected"+e),$("#plan_to_follow"+t).attr("title",i),$("#plan_to_buy"+t).removeClass().addClass("plan_to_buy_icon"+e),$("#plan_to_buy_span"+t).removeClass().addClass("action_btns"+e),$("#plan_to_own_span"+t).removeClass().addClass("action_btns"+e),$("#plan_to_own"+t).removeClass().addClass("plan_to_own_icon"+e),n=$("#plan_to_follow"+t).attr("href"),$("#plan_to_follow"+t).attr("href",n+"&unfollow=true")},unload_buyer:function(t){return function(t,e,i,n){var o;return $("#plan_to_buy"+t).removeClass().addClass("plan_to_buy_icon"+e),$("#plan_to_buy_span"+t).removeClass().addClass("action_btns"+e),$("#plan_to_buy"+t).attr("title",i),$("#plan_to_follow"+t).attr("title",n),$("#plan_to_follow"+t).removeClass().addClass("plan_to_follow_icon"+e),$("#plan_to_follow_span"+t).removeClass().addClass("action_btns"+e),o=$("#plan_to_buy"+t).attr("href"),$("#plan_to_buy"+t).attr("href",Product.remove_unfollow_query_string(o,"Buyer"))}}(this),unload_owner:function(t,e,i,n){var o;return $("#plan_to_own"+t).removeClass().addClass("plan_to_own_icon"+e),$("#plan_to_own_span"+t).removeClass().addClass("action_btns"+e),$("#plan_to_own"+t).attr("title",i),$("#plan_to_follow"+t).attr("title",n),$("#plan_to_follow"+t).removeClass().addClass("plan_to_follow_icon"+e),$("#plan_to_follow_span"+t).removeClass().addClass("action_btns"+e),o=$("#plan_to_own"+t).attr("href"),$("#plan_to_own"+t).attr("href",Product.remove_unfollow_query_string(o,"Owner"))},unload_follow:function(t,e,i){var n;return $("#plan_to_follow"+t).removeClass().addClass("plan_to_follow_icon"+e),$("#plan_to_follow_span"+t).removeClass().addClass("action_btns"+e),$("#plan_to_buy"+t).removeClass().addClass("plan_to_buy_icon"+e),$("#plan_to_buy_span"+t).removeClass().addClass("action_btns"+e),$("#plan_to_own"+t).removeClass().addClass("plan_to_own_icon"+e),$("#plan_to_own_span"+t).removeClass().addClass("action_btns"+e),$("#plan_to_follow"+t).attr("title",i),n=$("#plan_to_follow"+t).attr("href"),$("#plan_to_follow"+t).attr("href",Product.remove_unfollow_query_string(n,"Follow"))},remove_unfollow_query_string:function(t,e){var i,n;return n=t.split("?"),i=n[1].split(/[&;]/g),i.pop(),n[0]+"?"+i.join("&")},hover_follow_but:function(t,e,i){return $(t).hover(function(){return $(this).html(i)},function(){return $(this).html(e)})},related_products:function(t){return $(document).ready(function(){return $.ajax({url:t,dataType:"html",success:function(t){return $("#uisideRelatedProduct").html(t)}})})},load_signout_user_link:function(){return $("#plan_to_buy_select").attr("data-url","javascript:void(0)")},login_dialog:function(){return $("#dialog-form").dialog({autoOpen:!1,height:300,width:350,modal:!0,title:"Login",buttons:{"Sign in":function(){var t;return t=!0,t?($("#user_new").submit(),$(this).dialog("close")):void 0},Cancel:function(){return $(this).dialog("close")}},close:function(){return allFields.val("").removeClass("ui-state-error")}})},show_login_dialog:function(t){return $(t).click(function(){return $("#dialog-form").dialog("open")})},show_login_dialog_change:function(t){return $(t).change(function(){return $("#dialog-form").dialog("open")})},hide_login_dialog:function(){return $("#dialog-form").hide()},detailed_specification:function(){return $("#detailed_specification").click(function(){return $("#usual2 ul").idTabs("tabs5"),$("#specification").trigger("click"),$("#specification").closest("ul").find("li").each(function(t){return $(this).hasClass("tab_active")&&$(this).removeClass("tab_active"),$("#specification").closest("li").addClass("tab_active")})})},show_notice:function(t){return $("#comment-notice").html('<div class="flash notice">'+t+"</div>").effect("highlight",{},3e3)},invite_dialog:function(){return $("#dialog-invite-form").dialog({autoOpen:!1,height:300,width:350,modal:!0,title:"Invite",buttons:{Send:function(){var t;return t=!0,t?$("#new_invitation").submit():void 0},Cancel:function(){return $(this).dialog("close")}},close:function(){return $(this).find(":input").val("").removeClass("ui-state-error")}})},show_invite_dialog:function(t){return $(t).click(function(){var t;return t=$(this).attr("id"),"invite_buy"===t?$("#invitation_follow_type").val(0):"invite_own"===t?$("#invitation_follow_type").val(1):$("#invitation_follow_type").val(2),$("#dialog-invite-form").dialog("open")})}}}.call(this),$(document).ready(function(){$("#answer_this_question").click(function(){$("#new_answer_content_block").toggle()})}),$(function(){$("select#question-sort").change(function(){var t=$(this).find("option:selected").val();jQuery.ajaxSetup({beforeSend:function(t){t.setRequestHeader("Accept","text/javascript")}}),$.get("/questions/",{sort_option:t},function(t){})})}),$(function(){$(".review_tabs ul li").click(function(){if(!$(this).hasClass("clicked")){$("#textarea_review_div").hide();var t=$(".review_tabs ul li.clicked"),e=t.attr("data-div"),i=$(this).attr("data-div");t.children("a").removeClass("active_tabs").addClass("review_tabs"),$(this).children("a").removeClass("review_tabs").addClass("active_tabs"),t.removeClass("clicked"),$("#"+e+"Div").hide(),$("#"+i+"Div").show(),$(this).addClass("clicked")}})}),$.textAutocomplete=function(t,e,i){$(document).unbind("mouseover").unbind("mouseenter").unbind("mouseleave"),$.ui.autocomplete.prototype._renderMenu=function(t,e){var i=this;$.each(e,function(e,n){i._renderItem(t,n,e)})};var n={background:"#e3e3e3",url:"",editMode:!1,addNew:!1,close:!0,search_type_array:[],addButton:!0,color:"black",multiple:!0,rounded:!1,image:!1,hidden_field:"",addFunctionName:"",editFunctionName:"",xCrsfToken:"",deleteFunctionName:"",has_parent:!1},o=$.extend({},n,i);$("#"+t).each(function(){$(this).bind("keypress",function(t){13==t.keyCode})}),$.setMode(t,e,o.editMode),$.ui.autocomplete.prototype._renderMenu=function(t,e){var i=this;$.each(e,function(e,n){i._renderItem(t,n,e)})},$("#"+t).autocomplete({minLength:0,format:"js",source:function(t,e){$.ajax({url:o.url,data:{term:t.term,search_type:o.search_type_array},type:"GET",dataType:"json",success:function(t){e($.map(t,function(t){return{id:t.id,value:t.value,imgsrc:t.imgsrc,type:t.type,url:t.url}}))}})},focus:function(t,e){return!1},select:function(i,n){return $.selectEvent(n.item,o.addfunctionName),""!=o.hidden_field&&$.addIdToTextField(o.hidden_field,n.item.id,o.has_parent),$.addTagToAutocomplete(t,e,o,n.item.value,n.item.id,o.has_parent),$("#"+t).val(""),!1}}).data("autocomplete")._renderItem=function(t,e,i){return 1==o.image?$("<li></li>").data("item.autocomplete",e).append("<a><div style='margin-left:5px;float:left' class='autocompletediv'><img width='40' height='30' src='"+e.imgsrc+"' /></div><div style='margin-left:53px;'><span class='atext'>"+e.value+"</span><br/><span class ='atext'>"+e.type+"</span></div></a>").appendTo(t):$("<li></li>").data("item.autocomplete",e).append("<a>"+e.value+"</a>").appendTo(t)},$("#deleteTag").live("click",function(){if(""!=o.hidden_field){var t=$(this).closest("li").attr("id").replace("textTaggers","");$.removeIdFromField(o.hidden_field,t,o.has_parent)}return $(this).closest("li").remove(),o.deleteFunctionName&&(data=new Object,data.id=t,$.selectEvent(data,o.deleteFunctionName)),!1}),jQuery.addIdToTextField=function(t,e,i){0==i&&(t="#"+t);var n=$(""+t).val(),o=""==n.toString()?[]:n.split(","),r=!0;$.each(o,function(t,i){i.toString()==e.toString()&&(r=!1)}),1==r&&o.push(e),$(""+t).val(o.toString())},jQuery.addTagToAutocomplete=function(t,e,i,n,o,r){var s=n,a=!0;if(0==r&&(e="#"+e),$(""+e).find("li").each(function(t){$(this).text().toString()==s.toString()&&(a=!1)}),""!=s&&1==a){0==i.multiple&&$(""+e).find("li").remove();var l="textTaggers"+o,c="<li id='"+l+"' class='taggingmain'><span><a class='txt_tagging'>"+n+"</a><a id= 'deleteTag' class='icon_close_tagging' href='#'></a></span></li>";if($(""+e).addClass("tagging"),$(c).appendTo(""+e),$(""+t).val(""),$(""+t).autocomplete("enable"),i.editMode||i.close){if(0==i.has_parent)var u="ul"+e+" li span a.icon_close";else var u=""+e+" li span a.icon_close";$(u).show()}else{if(0==i.has_parent)var u="ul"+e+" li span a.icon_close";else var u=""+e+" li span a.icon_close";var u="ul#"+e+" li span a.icon_close";$(u).hide()}}$(""+t).val("")}},function(t,e,i){function n(t,i){var n,o=e.createElement(t||"div");for(n in i)o[n]=i[n];return o}function o(t,e,i){return i&&!i.parentNode&&o(t,i),t.insertBefore(e,i||null),t}function r(t,e,i,n){var o=["opacity",e,~~(100*t),i,n].join("-"),r=.01+i/n*100,s=Math.max(1-(1-t)/e*(100-r),t),a=u.substring(0,u.indexOf("Animation")).toLowerCase(),l=a&&"-"+a+"-"||"";return h[o]||(f.insertRule("@"+l+"keyframes "+o+"{0%{opacity:"+s+"}"+r+"%{opacity:"+t+"}"+(r+.01)+"%{opacity:1}"+(r+e)%100+"%{opacity:"+t+"}100%{opacity:"+s+"}}",0),h[o]=1),o}function s(t,e){var n,o,r=t.style;if(r[e]!==i)return e;for(e=e.charAt(0).toUpperCase()+e.slice(1),o=0;o<d.length;o++)if(n=d[o]+e,r[n]!==i)return n}function a(t,e){for(var i in e)t.style[s(t,i)||i]=e[i];return t}function l(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)t[o]===i&&(t[o]=n[o])}return t}function c(t){for(var e={x:t.offsetLeft,y:t.offsetTop};t=t.offsetParent;)e.x+=t.offsetLeft,e.y+=t.offsetTop;return e}/**
 * Copyright (c) 2011 Felix Gnass [fgnass at neteye dot de]
 * Licensed under the MIT license
 */
var u,d=["webkit","Moz","ms","O"],h={},f=function(){var t=n("style");return o(e.getElementsByTagName("head")[0],t),t.sheet||t.styleSheet}(),p=function v(t){return this.spin?void(this.opts=l(t||{},v.defaults,m)):new v(t)},m=p.defaults={lines:12,length:7,width:5,radius:10,color:"#000",speed:1,trail:100,opacity:.25,fps:20},g=p.prototype={spin:function(t){this.stop();var e,i,r=this,s=r.el=a(n(),{position:"relative"});if(t&&(i=c(o(t,s,t.firstChild)),e=c(s),a(s,{left:(t.offsetWidth>>1)-e.x+i.x+"px",top:(t.offsetHeight>>1)-e.y+i.y+"px"})),s.setAttribute("aria-role","progressbar"),r.lines(s,r.opts),!u){var l=r.opts,d=0,h=l.fps,f=h/l.speed,p=(1-l.opacity)/(f*l.trail/100),m=f/l.lines;!function g(){d++;for(var t=l.lines;t;t--){var e=Math.max(1-(d+t*m)%f*p,l.opacity);r.opacity(s,l.lines-t,e,l)}r.timeout=r.el&&setTimeout(g,~~(1e3/h))}()}return r},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=i),this}};g.lines=function(t,e){function i(t,i){return a(n(),{position:"absolute",width:e.length+e.width+"px",height:e.width+"px",background:t,boxShadow:i,transformOrigin:"left",transform:"rotate("+~~(360/e.lines*l)+"deg) translate("+e.radius+"px,0)",borderRadius:(e.width>>1)+"px"})}for(var s,l=0;l<e.lines;l++)s=a(n(),{position:"absolute",top:1+~(e.width/2)+"px",transform:"translate3d(0,0,0)",opacity:e.opacity,animation:u&&r(e.opacity,e.trail,l,e.lines)+" "+1/e.speed+"s linear infinite"}),e.shadow&&o(s,a(i("#000","0 0 4px #000"),{top:"2px"})),o(t,o(s,i(e.color,"0 0 1px rgba(0,0,0,.1)")));return t},g.opacity=function(t,e,i){e<t.childNodes.length&&(t.childNodes[e].style.opacity=i)},function(){var t,e=a(n("group"),{behavior:"url(#default#VML)"});if(!s(e,"transform")&&e.adj){for(t=4;t--;)f.addRule(["group","roundrect","fill","stroke"][t],"behavior:url(#default#VML)");g.lines=function(t,e){function i(){return a(n("group",{coordsize:c+" "+c,coordorigin:-l+" "+-l}),{width:c,height:c})}function r(t,r,s){o(u,o(a(i(),{rotation:360/e.lines*t+"deg",left:~~r}),o(a(n("roundrect",{arcsize:1}),{width:l,height:e.width,left:e.radius,top:-e.width>>1,filter:s}),n("fill",{color:e.color,opacity:e.opacity}),n("stroke",{opacity:0}))))}var s,l=e.length+e.width,c=2*l,u=i(),d=~(e.length+e.radius+e.width)+"px";if(e.shadow)for(s=1;s<=e.lines;s++)r(s,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(s=1;s<=e.lines;s++)r(s);return o(a(t,{margin:d+" 0 0 "+d,zoom:1}),u)},g.opacity=function(t,e,i,n){var o=t.firstChild;n=n.shadow&&n.lines||0,o&&e+n<o.childNodes.length&&(o=o.childNodes[e+n],o=o&&o.firstChild,o=o&&o.firstChild,o&&(o.opacity=i))}}else u=s(e,"animation")}(),t.Spinner=p}(window,document);var SEARCH_URL="/search",checkBoxIds="";$(document).click(function(t){$(t.target).parents().andSelf().is(".box")||$(t.target).parents().andSelf().is(".ui-autocomplete")||$(t.target).parents().andSelf().is("#criteriaPopup")||($("#criteriaPopup").hide(),$(".ui-autocomplete").hide())}),$(document).ready(function(){$("#search_sort_by").live("change",function(){return $(this).val()&&($("#sort_by").val($(this).val()),$("#order_by").val($("#search_order_by").val()),$("#page").val(1),searchData("spinner")),!1}),$("#search_order_by").live("change",function(){return $(this).val()&&($("#sort_by").val($("#search_sort_by").val()),$("#order_by").val($("#search_order_by").val()),$("#page").val(1),searchData("spinner")),!1}),$("#searchItemsPaginate div.pagination a").live("click",function(){var t=$(this).text(),e=$("em.current").text();return"\u2190 Previous"==t?t=parseInt(e)-1:"Next \u2192"==t&&(t=parseInt(e)+1),$("#page").val(t),searchData("spinner"),!1}),$("#clearTag").live("click",function(){removeAllTags(),resetFormData(),hideClearTag(),hidePreferenceTag(),hideGetAdviceTag(),hideSearchPack(),searchData("spinner")}),$("#addPreferenceTag").live("click",function(){return confirm("This will remove your old preference for this type, Are you sure?")?($.post("/preferences/add_preference",$("#searchForm").serialize(),null,"script"),!1):!1}),$("#getAdviceTag").live("click",function(){$.get("/preferences/get_advice",$("#searchForm").serialize(),null,"script")}),$("#criteriaSubmit").click(function(){var t=$("#which_attribute").val()+"_tag";showSearchPack(),showClearTag(),showPreferenceTag(),showGetAdviceTag(),$(".search_category").find("#"+t).length>0&&$("#"+t).remove();var e=$("#which_form_field").val();if("Between"==$("#which_type").val()){var i=$("#form_field_val").val().split(";");$("#min_"+e).val(i[0]),$("#max_"+e).val(i[1]);var n=$("#min_"+e).val(),o=$("#max_"+e).val();if(""==n||""==o)return alert("Please select a search criteria."),!1;var r=""+$("#which_type").val()+" "+intToFormat(n)+" "+$("#which_unit").val()+" - "+intToFormat(o)+" "+$("#which_unit").val(),s="<span class='txt_subcategories'>"+r+"</span>"}else if("Greater than"==$("#which_type").val()||"Less then"==$("#which_type").val()){$("#"+e).val($("#form_field_val").val());var a=$("#"+e).val();if(""==a)return alert("Please select a search criteria."),!1;var r=""+$("#which_type").val()+" "+a+" "+$("#which_unit").val(),s="<span class='txt_subcategories'>"+r+"</span>"}else{var a=$("#"+e).val();if(""==a)return alert("Please select a search criteria."),!1;var r=" ( "+a+" ) ",s="<span class='txt_subcategories'>"+r+"</span>"}if("List of values"==$("#which_type").val()||"manufacturer"==$("#which_type").val()){var l,c=a.split(","),u=$("#which_form_field").val(),s="",d="removableListofValues"+u;s=s+"<span id='"+d+"'>";var l,h="";$.each(c,function(t,e){l="removeThis_"+t+"_"+u,h=h+"<span class='txt_subcategories'>"+e+"<a class='icon_close1 removableList' id='"+l+"' href='#'></a></span>"}),s+=h;var f="middlebg"}else var f="middlebg attributeTag";var p="<li id='"+t+"' class='"+f+"'><span class='title_txt'>"+$("#criteriaHeading").text()+"<a id= 'deleteTag' class='icon_close'></a></span>"+s+"</li>";$(p).appendTo(".search_category"),$("#page").val(1),searchData("spinner"),$("#criteriaPopup").hide(),$("#"+$("#which_attribute").val()).hide()}),$(".removableList").live("click",function(){var t=$(this).attr("id").replace("removeThis_",""),e=t.split("_"),i=e[0],n=e[1],o=$("#"+n).val(),r=o.split(",");if(o="",1==r.length){var s=$(this).closest("li").attr("id"),a=s.substring(0,s.indexOf("_tag"));$("#"+a).show(),$(this).closest("li").remove(),$("#"+n).val("")}else{var l=[];$.each(r,function(t,e){t!=i&&l.push(e)});var c,u="";$.each(l,function(t,e){c="removeThis_"+t+"_"+n,u=u+"<span class='txt_subcategories'>"+e+"<a class='icon_close1 removableList' id='"+c+"' href='#'></a></span>"});var d="removableListofValues"+n;$("span#"+d).html(u),$("#"+n).val(""+l.toString())}return $("#page").val(1),searchData("spinner"),!1}),$(".removablePopupList").live("click",function(){var t=$(this).attr("id").replace("removeThis_",""),e=t.split("_"),i=e[0],n=e[1],o=$("#"+n).val(),r=o.split(",");o="";var s=[];$.each(r,function(t,e){t!=i&&s.push(e)});var a,l=[];return $.each(s,function(t,e){a="removeThis_"+t+"_"+n,l.push(e+"<a id='"+a+"' class='removablePopupList'> x </a>")}),$("#searchCriteriaLabel").html(""+l.toString()),$("#"+n).val(""+s.toString()),!1}),$(".boxClick").live("click",function(){$("#criteriaPopup").hide()}),$("#autocompleteField").mouseenter(function(){}).mouseout(function(){$(document).unbind("mouseover").unbind("mouseenter").unbind("mouseleave")}),$("a.btn_selected_compare").live("click",function(){var t=checkBoxIds.split(",");return t.length<2?void alert("You must select atleast two items to compare."):void(location.href="/items/compare?ids="+t.toString())}),$("input[name='Compare']").live("click",function(){store_checkbox_ids(this)})}),function(t,e,i){function n(t){for(var e={x:t.offsetLeft,y:t.offsetTop};t=t.offsetParent;)e.x+=t.offsetLeft,e.y+=t.offsetTop;return e}function o(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)t[o]===i&&(t[o]=n[o])}return t}function r(t,e){for(var i in e)t.style[s(t,i)||i]=e[i];return t}function s(t,e){var n,o,r=t.style;if(r[e]!==i)return e;for(e=e.charAt(0).toUpperCase()+e.slice(1),o=0;o<d.length;o++)if(n=d[o]+e,r[n]!==i)return n}function a(t,e,i,n){var o=["opacity",e,~~(100*t),i,n].join("-"),r=.01+i/n*100,s=Math.max(1-(1-t)/e*(100-r),t),a=u.substring(0,u.indexOf("Animation")).toLowerCase(),l=a&&"-"+a+"-"||"";return h[o]||(f.insertRule("@"+l+"keyframes "+o+"{0%{opacity:"+s+"}"+r+"%{opacity:"+t+"}"+(r+.01)+"%{opacity:1}"+(r+e)%100+"%{opacity:"+t+"}100%{opacity:"+s+"}}",0),h[o]=1),o}function l(t,e,i){return i&&!i.parentNode&&l(t,i),t.insertBefore(e,i||null),t}function c(t,i){var n,o=e.createElement(t||"div");for(n in i)o[n]=i[n];return o}var u,d=["webkit","Moz","ms","O"],h={},f=function(){var t=c("style");return l(e.getElementsByTagName("head")[0],t),t.sheet||t.styleSheet}(),p=function v(t){return this.spin?void(this.opts=o(t||{},v.defaults,m)):new v(t)},m=p.defaults={lines:12,length:7,width:5,radius:10,color:"#000",speed:1,trail:100,opacity:.25,fps:20},g=p.prototype={spin:function(t){this.stop();var e,i,o=this,s=o.el=r(c(),{position:"relative"});if(t&&(i=n(l(t,s,t.firstChild)),e=n(s),r(s,{left:(t.offsetWidth>>1)-e.x+i.x+"px",top:(t.offsetHeight>>1)-e.y+i.y+"px"})),s.setAttribute("aria-role","progressbar"),o.lines(s,o.opts),!u){var a=o.opts,d=0,h=a.fps,f=h/a.speed,p=(1-a.opacity)/(f*a.trail/100),m=f/a.lines;!function g(){d++;for(var t=a.lines;t;t--){var e=Math.max(1-(d+t*m)%f*p,a.opacity);o.opacity(s,a.lines-t,e,a)}o.timeout=o.el&&setTimeout(g,~~(1e3/h))}()}return o},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=i),this}};g.lines=function(t,e){function i(t,i){return r(c(),{position:"absolute",width:e.length+e.width+"px",height:e.width+"px",background:t,boxShadow:i,transformOrigin:"left",transform:"rotate("+~~(360/e.lines*o)+"deg) translate("+e.radius+"px,0)",borderRadius:(e.width>>1)+"px"})}for(var n,o=0;o<e.lines;o++)n=r(c(),{position:"absolute",top:1+~(e.width/2)+"px",transform:"translate3d(0,0,0)",opacity:e.opacity,animation:u&&a(e.opacity,e.trail,o,e.lines)+" "+1/e.speed+"s linear infinite"}),e.shadow&&l(n,r(i("#000","0 0 4px #000"),{top:"2px"})),l(t,l(n,i(e.color,"0 0 1px rgba(0,0,0,.1)")));return t},g.opacity=function(t,e,i){e<t.childNodes.length&&(t.childNodes[e].style.opacity=i)},function(){var t,e=r(c("group"),{behavior:"url(#default#VML)"});if(!s(e,"transform")&&e.adj){for(t=4;t--;)f.addRule(["group","roundrect","fill","stroke"][t],"behavior:url(#default#VML)");g.lines=function(t,e){function i(t,i,o){l(u,l(r(n(),{rotation:360/e.lines*t+"deg",left:~~i}),l(r(c("roundrect",{arcsize:1}),{width:s,height:e.width,left:e.radius,top:-e.width>>1,filter:o}),c("fill",{color:e.color,opacity:e.opacity}),c("stroke",{opacity:0}))))}function n(){return r(c("group",{coordsize:a+" "+a,coordorigin:-s+" "+-s}),{width:a,height:a})}var o,s=e.length+e.width,a=2*s,u=n(),d=~(e.length+e.radius+e.width)+"px";if(e.shadow)for(o=1;o<=e.lines;o++)i(o,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(o=1;o<=e.lines;o++)i(o);return l(r(t,{margin:d+" 0 0 "+d,zoom:1}),u)},g.opacity=function(t,e,i,n){var o=t.firstChild;n=n.shadow&&n.lines||0,o&&e+n<o.childNodes.length&&(o=o.childNodes[e+n],o=o&&o.firstChild,o=o&&o.firstChild,o&&(o.opacity=i))}}else u=s(e,"animation")}(),t.Spinner=p}(window,document),$(document).ready(function(){$.textTagger=function(t,e,i){$(document).unbind("mouseover").unbind("mouseenter").unbind("mouseleave"),$.ui.autocomplete.prototype._renderMenu=function(t,e){var i=this;$.each(e,function(e,n){i._renderItem(t,n,e)})};var n={background:"#e3e3e3",url:"",editMode:!1,addNew:!1,close:!0,search_type_array:[],addButton:!0,color:"black",has_parent:!1,multiple:!0,rounded:!1,hidden_field:"",addFunctionName:"",editFunctionName:"",deleteFunctionName:""},o=$.extend({},n,i);if($(""+t).each(function(){$(this).bind("keypress",function(t){13==t.keyCode})}),o.addButton){var r="<button id='addTag'> Add </button>";$(r).insertAfter(""+t);var s="<button id='doneButton'> Done </button>";$(s).insertAfter("#addTag")}$.setMode(t,e,o.editMode),$.ui.autocomplete.prototype._renderMenu=function(t,e){var i=this;$.each(e,function(e,n){i._renderItem(t,n,e)})},0==o.has_parent&&(t="#"+t),$(""+t).autocomplete({minLength:1,delay:800,format:"js",source:function(t,e){$.ajax({url:o.url,data:{term:t.term,search_type:o.search_type_array},type:"GET",dataType:"json",success:function(t){e($.map(t,function(t){return{id:t.id,value:t.value,imgsrc:t.imgsrc,type:t.type,url:t.url}}))}})},focus:function(t,e){return!1},select:function(i,n){return $.selectEvent(n.item,o.addfunctionName),""!=o.hidden_field&&$.addIdToField(o.hidden_field,n.item.id,o.has_parent),$.addTag(t,e,o,n.item.value,n.item.id,o.has_parent),$(""+t).val(""),!1}}),-1!=$(""+t).index()&&($(""+t).data("autocomplete")._renderItem=function(t,e,i){return $("<li></li>").data("item.autocomplete",e).append("<a><div style='margin-left:5px;float:left' class='autocompletediv'><img width='40' height='40' onerror='this.error=null;this.src=\"http://cdn1.plannto.com/items/mobile/medium/default_mobile.jpeg\"' src='"+e.imgsrc+"' /></div><div style='margin-left:53px;'><span class='atext'>"+e.value+"</span><br/><span class ='atext'>"+e.type+"</span></div></a>").appendTo(t)}),$("#addTag").live("click",function(){$.addTag(t,e,o,$(""+t).val(),"",o.has_parent)}),$("#textTaggers").live("click",function(){}),$("#deleteTag").live("click",function(){if(""!=o.hidden_field){var t=$(this).closest("li").attr("id").replace("textTaggers","");$.removeIdFromField(o.hidden_field,t,o.has_parent)}return $(this).closest("li").remove(),o.deleteFunctionName&&(data=new Object,data.id=t,$.selectEvent(data,o.deleteFunctionName)),!1}),$("#doneButton").live("click",function(){o.addButton=!1;var i="ul#"+e+" li span a.icon_close";$(i).hide(),$.doneEvent(t,e,o.editMode)}),$("#editTag").click(function(){$(this).hide();var i="ul#"+e+" li span a.icon_close";$(i).show(),o.addButton=!0,$.editTag(t,e,o.addButton)})},jQuery.selectEvent=function(t,e){var i=window[e];"function"==typeof i&&i(t)},jQuery.addIdToField=function(t,e,i){0==i&&(t="#"+t);var n=$(""+t).val(),o=""==n?[]:n.split(","),r=!0;$.each(o,function(t,i){i.toString()==e.toString()&&(r=!1)}),1==r&&o.push(e),$(""+t).val(o.toString())},jQuery.removeIdFromField=function(t,e,i){0==i&&(t="#"+t);var n=$(""+t).val(),o=""==n?[]:n.split(","),r=[];$.each(o,function(t,i){i.toString()!=e.toString()&&r.push(i)}),$(""+t).val(r)},jQuery.doneEvent=function(t,e,i){i&&($(""+t).hide(),$("#addTag").hide(),$("#doneButton").hide(),$("#editTag").show())},jQuery.setMode=function(t,e,i){if(i){var n="<button id='editTag'>Edit</button>";$(n).insertAfter("#"+e),$(""+t).hide();var o="ul#"+e+" li span a.icon_close";$(o).show()}else{var o="ul#"+e+" li span a.icon_close";$(o).hide()}},jQuery.editTag=function(t,e,i){if(i){if($(""+t).val(""),$(""+t).show(),$("#addTag").length)$("#addTag").show();else{var n='<button id="addTag"> Add </button>';$(n).insertAfter(""+t)}if($("#doneButton").length)$("#doneButton").show();else{var o="<button id='doneButton'> Done </button>";$(o).insertAfter("#addTag")}}},jQuery.addTag=function(t,e,i,n,o,r){var s=n,a=!0;if(0==r&&(e="#"+e),$(""+e).find("li").each(function(t){$(this).text().toString()==s.toString()&&(a=!1)}),""!=s&&1==a){0==i.multiple&&$(""+e).find("li").remove();var l="textTaggers"+o,c="<li id='"+l+"' class='taggingmain'><span><a class='txt_tagging'>"+n+"</a><a id= 'deleteTag' class='icon_close_tagging' href='#'></a></span></li>";if($(""+e).addClass("tagging"),$(c).appendTo(""+e),$(""+t).val(""),$(""+t).autocomplete("enable"),i.editMode||i.close){if(0==i.has_parent)var u="ul"+e+" li span a.icon_close";else var u=""+e+" li span a.icon_close";$(u).show()}else{if(0==i.has_parent)var u="ul"+e+" li span a.icon_close";else var u=""+e+" li span a.icon_close";var u="ul#"+e+" li span a.icon_close";$(u).hide()}}$(""+t).val("")}}),function(){}.call(this),$(function(){$(".midcol a:first-child").click(function(){var t=$(this),e=t.parent(),i=e.children().last();e.toggleClass("likes"),e.removeClass("dislikes",!e.hasClass("dislikes")),e.toggleClass("unvoted",!e.hasClass("likes")),t.toggleClass("up upmod"),i.hasClass("downmod")&&(i.removeClass("downmod"),i.addClass("down"))}),$(".midcol a:last-child").click(function(){var t=$(this),e=t.parent(),i=e.children().first();e.toggleClass("dislikes"),e.removeClass("likes",!e.hasClass("likes")),e.toggleClass("unvoted",!e.hasClass("dislikes")),t.toggleClass("down downmod"),i.hasClass("upmod")&&(i.removeClass("upmod"),i.addClass("up"))})}),window.tinymce=window.tinymce||{base:"//cdn1.plannto.com/static/assets/tinymce",suffix:""},function(t,e){"use strict";function i(t,e){for(var i,n=[],r=0;r<t.length;++r){if(i=s[t[r]]||o(t[r]),!i)throw"module definition dependecy not found: "+t[r];n.push(i)}e.apply(null,n)}function n(t,n,o){if("string"!=typeof t)throw"invalid module definition, module id must be defined and be a string";if(n===e)throw"invalid module definition, dependencies must be specified";if(o===e)throw"invalid module definition, definition function must be specified";i(n,function(){s[t]=o.apply(null,arguments)})}function o(e){for(var i=t,n=e.split(/[.\/]/),o=0;o<n.length;++o){if(!i[n[o]])return;i=i[n[o]]}return i}function r(i){var n,o,r,a,l;for(n=0;n<i.length;n++){o=t,r=i[n],a=r.split(/[.\/]/);for(var c=0;c<a.length-1;++c)o[a[c]]===e&&(o[a[c]]={}),o=o[a[c]];o[a[a.length-1]]=s[r]}if(t.AMDLC_TESTS){l=t.privateModules||{};for(r in s)l[r]=s[r];for(n=0;n<i.length;n++)delete l[i[n]];t.privateModules=l}}var s={};/**
 * Rect.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/geom/Rect",[],function(){function t(t,e,i){var n,o,s,a,l,u;return n=e.x,o=e.y,s=t.w,a=t.h,l=e.w,u=e.h,i=(i||"").split(""),"b"===i[0]&&(o+=u),"r"===i[1]&&(n+=l),"c"===i[0]&&(o+=c(u/2)),"c"===i[1]&&(n+=c(l/2)),"b"===i[3]&&(o-=a),"r"===i[4]&&(n-=s),"c"===i[3]&&(o-=c(a/2)),"c"===i[4]&&(n-=c(s/2)),r(n,o,s,a)}function e(e,i,n,o){var r,s;for(s=0;s<o.length;s++)if(r=t(e,i,o[s]),r.x>=n.x&&r.x+r.w<=n.w+n.x&&r.y>=n.y&&r.y+r.h<=n.h+n.y)return o[s];return null}function i(t,e,i){return r(t.x-e,t.y-i,t.w+2*e,t.h+2*i)}function n(t,e){var i,n,o,s;return i=l(t.x,e.x),n=l(t.y,e.y),o=a(t.x+t.w,e.x+e.w),s=a(t.y+t.h,e.y+e.h),0>o-i||0>s-n?null:r(i,n,o-i,s-n)}function o(t,e,i){var n,o,s,a,c,u,d,h,f,p;return c=t.x,u=t.y,d=t.x+t.w,h=t.y+t.h,f=e.x+e.w,p=e.y+e.h,n=l(0,e.x-c),o=l(0,e.y-u),s=l(0,d-f),a=l(0,h-p),c+=n,u+=o,i&&(d+=n,h+=o,c-=s,u-=a),d-=s,h-=a,r(c,u,d-c,h-u)}function r(t,e,i,n){return{x:t,y:e,w:i,h:n}}function s(t){return r(t.left,t.top,t.width,t.height)}var a=Math.min,l=Math.max,c=Math.round;return{inflate:i,relativePosition:t,findBestRelativePosition:e,intersect:n,clamp:o,create:r,fromClientRect:s}}),/**
 * Promise.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * Promise polyfill under MIT license: https://github.com/taylorhakes/promise-polyfill
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/util/Promise",[],function(){function t(t,e){return function(){t.apply(e,arguments)}}function e(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],a(e,t(n,this),t(o,this))}function i(t){var e=this;return null===this._state?void this._deferreds.push(t):void l(function(){var i=e._state?t.onFulfilled:t.onRejected;if(null===i)return void(e._state?t.resolve:t.reject)(e._value);var n;try{n=i(e._value)}catch(o){return void t.reject(o)}t.resolve(n)})}function n(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var i=e.then;if("function"==typeof i)return void a(t(i,e),t(n,this),t(o,this))}this._state=!0,this._value=e,r.call(this)}catch(s){o.call(this,s)}}function o(t){this._state=!1,this._value=t,r.call(this)}function r(){for(var t=0,e=this._deferreds.length;e>t;t++)i.call(this,this._deferreds[t]);this._deferreds=null}function s(t,e,i,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=i,this.reject=n}function a(t,e,i){var n=!1;try{t(function(t){n||(n=!0,e(t))},function(t){n||(n=!0,i(t))})}catch(o){if(n)return;n=!0,i(o)}}if(window.Promise)return window.Promise;var l=e.immediateFn||"function"==typeof setImmediate&&setImmediate||function(t){setTimeout(t,1)},c=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};return e.prototype["catch"]=function(t){return this.then(null,t)},e.prototype.then=function(t,n){var o=this;return new e(function(e,r){i.call(o,new s(t,n,e,r))})},e.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&c(arguments[0])?arguments[0]:arguments);return new e(function(e,i){function n(r,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,function(t){n(r,t)},i)}t[r]=s,0===--o&&e(t)}catch(l){i(l)}}if(0===t.length)return e([]);for(var o=t.length,r=0;r<t.length;r++)n(r,t[r])})},e.resolve=function(t){return t&&"object"==typeof t&&t.constructor===e?t:new e(function(e){e(t)})},e.reject=function(t){return new e(function(e,i){i(t)})},e.race=function(t){return new e(function(e,i){for(var n=0,o=t.length;o>n;n++)t[n].then(e,i)})},e}),/**
 * Delay.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/util/Delay",["tinymce/util/Promise"],function(t){function e(t,e){function i(t){window.setTimeout(t,0)}var n,o=window.requestAnimationFrame,r=["ms","moz","webkit"];for(n=0;n<r.length&&!o;n++)o=window[r[n]+"RequestAnimationFrame"];o||(o=i),o(t,e)}function i(t,e){return"number"!=typeof e&&(e=0),setTimeout(t,e)}function n(t,e){return"number"!=typeof e&&(e=0),setInterval(t,e)}function o(t){return clearTimeout(t)}function r(t){return clearInterval(t)}var s;return{requestAnimationFrame:function(i,n){return s?void s.then(i):void(s=new t(function(t){n||(n=document.body),e(t,n)}).then(i))},setTimeout:i,setInterval:n,setEditorTimeout:function(t,e,n){return i(function(){t.removed||e()},n)},setEditorInterval:function(t,e,i){var o;return o=n(function(){t.removed?clearInterval(o):e()},i)},clearInterval:r,clearTimeout:o}}),/**
 * EventUtils.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/dom/EventUtils",["tinymce/util/Delay"],function(t){function e(t,e,i,n){t.addEventListener?t.addEventListener(e,i,n||!1):t.attachEvent&&t.attachEvent("on"+e,i)}function i(t,e,i,n){t.removeEventListener?t.removeEventListener(e,i,n||!1):t.detachEvent&&t.detachEvent("on"+e,i)}function n(t,e){function i(){return!1}function n(){return!0}var o,r,s=e||{};for(o in t)l[o]||(s[o]=t[o]);if(s.target||(s.target=s.srcElement||document),t&&a.test(t.type)&&t.pageX===r&&t.clientX!==r){var c=s.target.ownerDocument||document,u=c.documentElement,d=c.body;s.pageX=t.clientX+(u&&u.scrollLeft||d&&d.scrollLeft||0)-(u&&u.clientLeft||d&&d.clientLeft||0),s.pageY=t.clientY+(u&&u.scrollTop||d&&d.scrollTop||0)-(u&&u.clientTop||d&&d.clientTop||0)}return s.preventDefault=function(){s.isDefaultPrevented=n,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},s.stopPropagation=function(){s.isPropagationStopped=n,t&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0)},s.stopImmediatePropagation=function(){s.isImmediatePropagationStopped=n,s.stopPropagation()},s.isDefaultPrevented||(s.isDefaultPrevented=i,s.isPropagationStopped=i,s.isImmediatePropagationStopped=i),"undefined"==typeof s.metaKey&&(s.metaKey=!1),s}function o(n,o,r){function s(){r.domLoaded||(r.domLoaded=!0,o(u))}function a(){("complete"===c.readyState||"interactive"===c.readyState&&c.body)&&(i(c,"readystatechange",a),s())}function l(){try{c.documentElement.doScroll("left")}catch(e){return void t.setTimeout(l)}s()}var c=n.document,u={type:"ready"};return r.domLoaded?void o(u):(c.addEventListener?"complete"===c.readyState?s():e(n,"DOMContentLoaded",s):(e(c,"readystatechange",a),c.documentElement.doScroll&&n.self===n.top&&l()),void e(n,"load",s))}function r(){function t(t,e){var i,n,o,r,s=h[e];if(i=s&&s[t.type])for(n=0,o=i.length;o>n;n++)if(r=i[n],r&&r.func.call(r.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}var r,a,l,c,u,d=this,h={};a=s+(+new Date).toString(32),c="onmouseenter"in document.documentElement,l="onfocusin"in document.documentElement,u={mouseenter:"mouseover",mouseleave:"mouseout"},r=1,d.domLoaded=!1,d.events=h,d.bind=function(i,s,f,p){function m(e){t(n(e||C.event),g)}var g,v,y,b,x,_,w,C=window;if(i&&3!==i.nodeType&&8!==i.nodeType){for(i[a]?g=i[a]:(g=r++,i[a]=g,h[g]={}),p=p||i,s=s.split(" "),y=s.length;y--;)b=s[y],_=m,x=w=!1,"DOMContentLoaded"===b&&(b="ready"),d.domLoaded&&"ready"===b&&"complete"==i.readyState?f.call(p,n({type:b})):(c||(x=u[b],x&&(_=function(e){var i,o;if(i=e.currentTarget,o=e.relatedTarget,o&&i.contains)o=i.contains(o);else for(;o&&o!==i;)o=o.parentNode;o||(e=n(e||C.event),e.type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=i,t(e,g))})),l||"focusin"!==b&&"focusout"!==b||(w=!0,x="focusin"===b?"focus":"blur",_=function(e){e=n(e||C.event),e.type="focus"===e.type?"focusin":"focusout",t(e,g)}),v=h[g][b],v?"ready"===b&&d.domLoaded?f({type:b}):v.push({func:f,scope:p}):(h[g][b]=v=[{func:f,scope:p}],v.fakeName=x,v.capture=w,v.nativeHandler=_,"ready"===b?o(i,_,d):e(i,x||b,_,w)));return i=v=0,f}},d.unbind=function(t,e,n){var o,r,s,l,c,u;if(!t||3===t.nodeType||8===t.nodeType)return d;if(o=t[a]){if(u=h[o],e){for(e=e.split(" "),s=e.length;s--;)if(c=e[s],r=u[c]){if(n)for(l=r.length;l--;)if(r[l].func===n){var f=r.nativeHandler,p=r.fakeName,m=r.capture;r=r.slice(0,l).concat(r.slice(l+1)),r.nativeHandler=f,r.fakeName=p,r.capture=m,u[c]=r}n&&0!==r.length||(delete u[c],i(t,r.fakeName||c,r.nativeHandler,r.capture))}}else{for(c in u)r=u[c],i(t,r.fakeName||c,r.nativeHandler,r.capture);u={}}for(c in u)return d;delete h[o];try{delete t[a]}catch(g){t[a]=null}}return d},d.fire=function(e,i,o){var r;if(!e||3===e.nodeType||8===e.nodeType)return d;o=n(null,o),o.type=i,o.target=e;do r=e[a],r&&t(o,r),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow;while(e&&!o.isPropagationStopped());return d},d.clean=function(t){var e,i,n=d.unbind;if(!t||3===t.nodeType||8===t.nodeType)return d;if(t[a]&&n(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName)for(n(t),i=t.getElementsByTagName("*"),e=i.length;e--;)t=i[e],t[a]&&n(t);return d},d.destroy=function(){h={}},d.cancel=function(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}}var s="mce-data-",a=/^(?:mouse|contextmenu)|click/,l={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1};return r.Event=new r,r.Event.bind(window,"ready",function(){}),r}),/**
 * Sizzle.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 *
 * @ignore-file
 */
/**
 * Sizzle CSS Selector Engine v@VERSION
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: @DATE
 */
n("tinymce/dom/Sizzle",[],function(){function t(t,e,i,n){var o,r,s,a,l,c,d,f,p,m;if((e?e.ownerDocument||e:B)!==M&&A(e),e=e||M,i=i||[],!t||"string"!=typeof t)return i;if(1!==(a=e.nodeType)&&9!==a)return[];if($&&!n){if(o=vt.exec(t))if(s=o[1]){if(9===a){if(r=e.getElementById(s),!r||!r.parentNode)return i;if(r.id===s)return i.push(r),i}else if(e.ownerDocument&&(r=e.ownerDocument.getElementById(s))&&F(e,r)&&r.id===s)return i.push(r),i}else{if(o[2])return Z.apply(i,e.getElementsByTagName(t)),i;if((s=o[3])&&_.getElementsByClassName)return Z.apply(i,e.getElementsByClassName(s)),i}if(_.qsa&&(!R||!R.test(t))){if(f=d=H,p=e,m=9===a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(c=T(t),(d=e.getAttribute("id"))?f=d.replace(bt,"\\$&"):e.setAttribute("id",f),f="[id='"+f+"'] ",l=c.length;l--;)c[l]=f+h(c[l]);p=yt.test(t)&&u(e.parentNode)||e,m=c.join(",")}if(m)try{return Z.apply(i,p.querySelectorAll(m)),i}catch(g){}finally{d||e.removeAttribute("id")}}}return N(t.replace(at,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>w.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[H]=!0,t}function o(t){var e=M.createElement("div");try{return!!t(e)}catch(i){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function r(t,e){for(var i=t.split("|"),n=t.length;n--;)w.attrHandle[i[n]]=e}function s(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||X)-(~t.sourceIndex||X);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function a(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function l(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function c(t){return n(function(e){return e=+e,n(function(i,n){for(var o,r=t([],i.length,e),s=r.length;s--;)i[o=r[s]]&&(i[o]=!(n[o]=i[o]))})})}function u(t){return t&&typeof t.getElementsByTagName!==Y&&t}function d(){}function h(t){for(var e=0,i=t.length,n="";i>e;e++)n+=t[e].value;return n}function f(t,e,i){var n=e.dir,o=i&&"parentNode"===n,r=W++;return e.first?function(e,i,r){for(;e=e[n];)if(1===e.nodeType||o)return t(e,i,r)}:function(e,i,s){var a,l,c=[z,r];if(s){for(;e=e[n];)if((1===e.nodeType||o)&&t(e,i,s))return!0}else for(;e=e[n];)if(1===e.nodeType||o){if(l=e[H]||(e[H]={}),(a=l[n])&&a[0]===z&&a[1]===r)return c[2]=a[2];if(l[n]=c,c[2]=t(e,i,s))return!0}}}function p(t){return t.length>1?function(e,i,n){for(var o=t.length;o--;)if(!t[o](e,i,n))return!1;return!0}:t[0]}function m(e,i,n){for(var o=0,r=i.length;r>o;o++)t(e,i[o],n);return n}function g(t,e,i,n,o){for(var r,s=[],a=0,l=t.length,c=null!=e;l>a;a++)(r=t[a])&&(!i||i(r,n,o))&&(s.push(r),c&&e.push(a));return s}function v(t,e,i,o,r,s){return o&&!o[H]&&(o=v(o)),r&&!r[H]&&(r=v(r,s)),n(function(n,s,a,l){var c,u,d,h=[],f=[],p=s.length,v=n||m(e||"*",a.nodeType?[a]:a,[]),y=!t||!n&&e?v:g(v,h,t,a,l),b=i?r||(n?t:p||o)?[]:s:y;if(i&&i(y,b,a,l),o)for(c=g(b,f),o(c,[],a,l),u=c.length;u--;)(d=c[u])&&(b[f[u]]=!(y[f[u]]=d));if(n){if(r||t){if(r){for(c=[],u=b.length;u--;)(d=b[u])&&c.push(y[u]=d);r(null,b=[],c,l)}for(u=b.length;u--;)(d=b[u])&&(c=r?et.call(n,d):h[u])>-1&&(n[c]=!(s[c]=d))}}else b=g(b===s?b.splice(p,b.length):b),r?r(null,s,b,l):Z.apply(s,b)})}function y(t){for(var e,i,n,o=t.length,r=w.relative[t[0].type],s=r||w.relative[" "],a=r?1:0,l=f(function(t){return t===e},s,!0),c=f(function(t){return et.call(e,t)>-1},s,!0),u=[function(t,i,n){return!r&&(n||i!==D)||((e=i).nodeType?l(t,i,n):c(t,i,n))}];o>a;a++)if(i=w.relative[t[a].type])u=[f(p(u),i)];else{if(i=w.filter[t[a].type].apply(null,t[a].matches),i[H]){for(n=++a;o>n&&!w.relative[t[n].type];n++);return v(a>1&&p(u),a>1&&h(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),i,n>a&&y(t.slice(a,n)),o>n&&y(t=t.slice(n)),o>n&&h(t))}u.push(i)}return p(u)}function b(e,i){var o=i.length>0,r=e.length>0,s=function(n,s,a,l,c){var u,d,h,f=0,p="0",m=n&&[],v=[],y=D,b=n||r&&w.find.TAG("*",c),x=z+=null==y?1:Math.random()||.1,_=b.length;for(c&&(D=s!==M&&s);p!==_&&null!=(u=b[p]);p++){if(r&&u){for(d=0;h=e[d++];)if(h(u,s,a)){l.push(u);break}c&&(z=x)}o&&((u=!h&&u)&&f--,n&&m.push(u))}if(f+=p,o&&p!==f){for(d=0;h=i[d++];)h(m,v,s,a);if(n){if(f>0)for(;p--;)m[p]||v[p]||(v[p]=Q.call(l));v=g(v)}Z.apply(l,v),c&&!n&&v.length>0&&f+i.length>1&&t.uniqueSort(l)}return c&&(z=x,D=y),m};return o?n(s):s}var x,_,w,C,k,T,S,N,D,E,P,A,M,I,$,R,O,L,F,H="sizzle"+-new Date,B=window.document,z=0,W=0,j=i(),V=i(),U=i(),q=function(t,e){return t===e&&(P=!0),0},Y=typeof e,X=1<<31,G={}.hasOwnProperty,K=[],Q=K.pop,J=K.push,Z=K.push,tt=K.slice,et=K.indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(this[e]===t)return e;return-1},it="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",ot="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt="\\["+nt+"*("+ot+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ot+"))|)"+nt+"*\\]",st=":("+ot+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",at=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ut=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),dt=new RegExp(st),ht=new RegExp("^"+ot+"$"),ft={ID:new RegExp("^#("+ot+")"),CLASS:new RegExp("^\\.("+ot+")"),TAG:new RegExp("^("+ot+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+it+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,bt=/'|\\/g,xt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),_t=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{Z.apply(K=tt.call(B.childNodes),B.childNodes),K[B.childNodes.length].nodeType}catch(wt){Z={apply:K.length?function(t,e){J.apply(t,tt.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}_=t.support={},k=t.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},A=t.setDocument=function(t){var e,i=t?t.ownerDocument||t:B,n=i.defaultView;return i!==M&&9===i.nodeType&&i.documentElement?(M=i,I=i.documentElement,$=!k(i),n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",function(){A()},!1):n.attachEvent&&n.attachEvent("onunload",function(){A()})),_.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),_.getElementsByTagName=o(function(t){return t.appendChild(i.createComment("")),!t.getElementsByTagName("*").length}),_.getElementsByClassName=gt.test(i.getElementsByClassName),_.getById=o(function(t){return I.appendChild(t).id=H,!i.getElementsByName||!i.getElementsByName(H).length}),_.getById?(w.find.ID=function(t,e){if(typeof e.getElementById!==Y&&$){var i=e.getElementById(t);return i&&i.parentNode?[i]:[]}},w.filter.ID=function(t){var e=t.replace(xt,_t);return function(t){return t.getAttribute("id")===e}}):(delete w.find.ID,w.filter.ID=function(t){var e=t.replace(xt,_t);return function(t){var i=typeof t.getAttributeNode!==Y&&t.getAttributeNode("id");return i&&i.value===e}}),w.find.TAG=_.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==Y?e.getElementsByTagName(t):void 0}:function(t,e){var i,n=[],o=0,r=e.getElementsByTagName(t);if("*"===t){for(;i=r[o++];)1===i.nodeType&&n.push(i);return n}return r},w.find.CLASS=_.getElementsByClassName&&function(t,e){return $?e.getElementsByClassName(t):void 0},O=[],R=[],(_.qsa=gt.test(i.querySelectorAll))&&(o(function(t){t.innerHTML="<select msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&R.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||R.push("\\["+nt+"*(?:value|"+it+")"),t.querySelectorAll(":checked").length||R.push(":checked")}),o(function(t){var e=i.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&R.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||R.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),R.push(",.*:")})),(_.matchesSelector=gt.test(L=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&o(function(t){_.disconnectedMatch=L.call(t,"div"),L.call(t,"[s!='']:x"),O.push("!=",st)}),R=R.length&&new RegExp(R.join("|")),O=O.length&&new RegExp(O.join("|")),e=gt.test(I.compareDocumentPosition),F=e||gt.test(I.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},q=e?function(t,e){if(t===e)return P=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!_.sortDetached&&e.compareDocumentPosition(t)===n?t===i||t.ownerDocument===B&&F(B,t)?-1:e===i||e.ownerDocument===B&&F(B,e)?1:E?et.call(E,t)-et.call(E,e):0:4&n?-1:1)}:function(t,e){if(t===e)return P=!0,0;var n,o=0,r=t.parentNode,a=e.parentNode,l=[t],c=[e];if(!r||!a)return t===i?-1:e===i?1:r?-1:a?1:E?et.call(E,t)-et.call(E,e):0;if(r===a)return s(t,e);for(n=t;n=n.parentNode;)l.unshift(n);for(n=e;n=n.parentNode;)c.unshift(n);for(;l[o]===c[o];)o++;return o?s(l[o],c[o]):l[o]===B?-1:c[o]===B?1:0},i):M},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if((e.ownerDocument||e)!==M&&A(e),i=i.replace(ut,"='$1']"),_.matchesSelector&&$&&(!O||!O.test(i))&&(!R||!R.test(i)))try{var n=L.call(e,i);if(n||_.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(o){}return t(i,M,null,[e]).length>0},t.contains=function(t,e){return(t.ownerDocument||t)!==M&&A(t),F(t,e)},t.attr=function(t,i){(t.ownerDocument||t)!==M&&A(t);var n=w.attrHandle[i.toLowerCase()],o=n&&G.call(w.attrHandle,i.toLowerCase())?n(t,i,!$):e;return o!==e?o:_.attributes||!$?t.getAttribute(i):(o=t.getAttributeNode(i))&&o.specified?o.value:null},t.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},t.uniqueSort=function(t){var e,i=[],n=0,o=0;if(P=!_.detectDuplicates,E=!_.sortStable&&t.slice(0),t.sort(q),P){for(;e=t[o++];)e===t[o]&&(n=i.push(o));for(;n--;)t.splice(i[n],1)}return E=null,t},C=t.getText=function(t){var e,i="",n=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=C(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[n++];)i+=C(e);return i},w=t.selectors={cacheLength:50,createPseudo:n,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(xt,_t),t[3]=(t[3]||t[4]||t[5]||"").replace(xt,_t),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(t){var e,i=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&dt.test(i)&&(e=T(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(xt,_t).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=j[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&j(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==Y&&t.getAttribute("class")||"")})},ATTR:function(e,i,n){return function(o){var r=t.attr(o,e);return null==r?"!="===i:i?(r+="","="===i?r===n:"!="===i?r!==n:"^="===i?n&&0===r.indexOf(n):"*="===i?n&&r.indexOf(n)>-1:"$="===i?n&&r.slice(-n.length)===n:"~="===i?(" "+r+" ").indexOf(n)>-1:"|="===i?r===n||r.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(t,e,i,n,o){var r="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===o?function(t){return!!t.parentNode}:function(e,i,l){var c,u,d,h,f,p,m=r!==s?"nextSibling":"previousSibling",g=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a;if(g){if(r){for(;m;){for(d=e;d=d[m];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?g.firstChild:g.lastChild],s&&y){for(u=g[H]||(g[H]={}),c=u[t]||[],f=c[0]===z&&c[1],h=c[0]===z&&c[2],d=f&&g.childNodes[f];d=++f&&d&&d[m]||(h=f=0)||p.pop();)if(1===d.nodeType&&++h&&d===e){u[t]=[z,f,h];break}}else if(y&&(c=(e[H]||(e[H]={}))[t])&&c[0]===z)h=c[1];else for(;(d=++f&&d&&d[m]||(h=f=0)||p.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++h||(y&&((d[H]||(d[H]={}))[t]=[z,h]),d!==e)););return h-=o,h===n||h%n===0&&h/n>=0}}},PSEUDO:function(e,i){var o,r=w.pseudos[e]||w.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return r[H]?r(i):r.length>1?(o=[e,e,"",i],w.setFilters.hasOwnProperty(e.toLowerCase())?n(function(t,e){for(var n,o=r(t,i),s=o.length;s--;)n=et.call(t,o[s]),t[n]=!(e[n]=o[s])}):function(t){return r(t,0,o)}):r}},pseudos:{not:n(function(t){var e=[],i=[],o=S(t.replace(at,"$1"));return o[H]?n(function(t,e,i,n){for(var r,s=o(t,null,n,[]),a=t.length;a--;)(r=s[a])&&(t[a]=!(e[a]=r))}):function(t,n,r){return e[0]=t,o(e,null,r,i),!i.pop()}}),has:n(function(e){return function(i){return t(e,i).length>0}}),contains:n(function(t){return t=t.replace(xt,_t),function(e){return(e.textContent||e.innerText||C(e)).indexOf(t)>-1}}),lang:n(function(e){return ht.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(xt,_t).toLowerCase(),function(t){var i;do if(i=$?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===e||0===i.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=window.location&&window.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===I},focus:function(t){return t===M.activeElement&&(!M.hasFocus||M.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!w.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,i){return[0>i?i+e:i]}),even:c(function(t,e){for(var i=0;e>i;i+=2)t.push(i);return t}),odd:c(function(t,e){for(var i=1;e>i;i+=2)t.push(i);return t}),lt:c(function(t,e,i){for(var n=0>i?i+e:i;--n>=0;)t.push(n);return t}),gt:c(function(t,e,i){for(var n=0>i?i+e:i;++n<e;)t.push(n);return t})}},w.pseudos.nth=w.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[x]=a(x);for(x in{submit:!0,reset:!0})w.pseudos[x]=l(x);return d.prototype=w.filters=w.pseudos,w.setFilters=new d,T=t.tokenize=function(e,i){var n,o,r,s,a,l,c,u=V[e+" "];if(u)return i?0:u.slice(0);for(a=e,l=[],c=w.preFilter;a;){(!n||(o=lt.exec(a)))&&(o&&(a=a.slice(o[0].length)||a),l.push(r=[])),n=!1,(o=ct.exec(a))&&(n=o.shift(),r.push({value:n,type:o[0].replace(at," ")}),a=a.slice(n.length));for(s in w.filter)!(o=ft[s].exec(a))||c[s]&&!(o=c[s](o))||(n=o.shift(),r.push({value:n,type:s,matches:o}),a=a.slice(n.length));if(!n)break}return i?a.length:a?t.error(e):V(e,l).slice(0)},S=t.compile=function(t,e){var i,n=[],o=[],r=U[t+" "];if(!r){for(e||(e=T(t)),i=e.length;i--;)r=y(e[i]),r[H]?n.push(r):o.push(r);r=U(t,b(o,n)),r.selector=t}return r},N=t.select=function(t,e,i,n){var o,r,s,a,l,c="function"==typeof t&&t,d=!n&&T(t=c.selector||t);if(i=i||[],1===d.length){if(r=d[0]=d[0].slice(0),r.length>2&&"ID"===(s=r[0]).type&&_.getById&&9===e.nodeType&&$&&w.relative[r[1].type]){if(e=(w.find.ID(s.matches[0].replace(xt,_t),e)||[])[0],!e)return i;c&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(o=ft.needsContext.test(t)?0:r.length;o--&&(s=r[o],!w.relative[a=s.type]);)if((l=w.find[a])&&(n=l(s.matches[0].replace(xt,_t),yt.test(r[0].type)&&u(e.parentNode)||e))){if(r.splice(o,1),t=n.length&&h(r),!t)return Z.apply(i,n),i;break}}return(c||S(t,d))(n,e,!$,i,yt.test(t)&&u(e.parentNode)||e),i},_.sortStable=H.split("").sort(q).join("")===H,_.detectDuplicates=!!P,A(),_.sortDetached=o(function(t){return 1&t.compareDocumentPosition(M.createElement("div"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||r("type|href|height|width",function(t,e,i){return i?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),_.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||r("value",function(t,e,i){return i||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||r(it,function(t,e,i){var n;return i?void 0:t[e]===!0?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),t}),/**
 * Env.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/Env",[],function(){function t(t){return"matchMedia"in window?matchMedia(t).matches:!1}var e,i,n,o,r,s,a,l,c,u,d,h,f=navigator,p=f.userAgent;e=window.opera&&window.opera.buildNumber,c=/Android/.test(p),i=/WebKit/.test(p),n=!i&&!e&&/MSIE/gi.test(p)&&/Explorer/gi.test(f.appName),n=n&&/MSIE (\w+)\./.exec(p)[1],o=-1==p.indexOf("Trident/")||-1==p.indexOf("rv:")&&-1==f.appName.indexOf("Netscape")?!1:11,r=-1==p.indexOf("Edge/")||n||o?!1:12,n=n||o||r,s=!i&&!o&&/Gecko/.test(p),a=-1!=p.indexOf("Mac"),l=/(iPad|iPhone)/.test(p),u="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,d=t("only screen and (max-device-width: 480px)")&&(c||l),h=t("only screen and (min-width: 800px)")&&(c||l),r&&(i=!1);var m=!l||u||p.match(/AppleWebKit\/(\d*)/)[1]>=534;return{opera:e,webkit:i,ie:n,gecko:s,mac:a,iOS:l,android:c,contentEditable:m,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=n,range:window.getSelection&&"Range"in window,documentMode:n&&!r?document.documentMode||7:10,fileApi:u,ceFalse:n===!1||n>8,desktop:!d&&!h}}),/**
 * Arr.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/util/Arr",[],function(){function t(t){var e,i,n=t;if(!u(t))for(n=[],e=0,i=t.length;i>e;e++)n[e]=t[e];return n}function i(t,i,n){var o,r;if(!t)return 0;if(n=n||t,t.length!==e){for(o=0,r=t.length;r>o;o++)if(i.call(n,t[o],o,t)===!1)return 0}else for(o in t)if(t.hasOwnProperty(o)&&i.call(n,t[o],o,t)===!1)return 0;return 1}function n(t,e){var n=[];return i(t,function(i,o){n.push(e(i,o,t))}),n}function o(t,e){var n=[];return i(t,function(i,o){(!e||e(i,o,t))&&n.push(i)}),n}function r(t,e){var i,n;if(t)for(i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1}function s(t,e,i,n){var o=0;for(arguments.length<3&&(i=t[0]);o<t.length;o++)i=e.call(n,i,t[o],o);return i}function a(t,e,i){var n,o;for(n=0,o=t.length;o>n;n++)if(e.call(i,t[n],n,t))return n;return-1}function l(t,i,n){var o=a(t,i,n);return-1!==o?t[o]:e}function c(t){return t[t.length-1]}var u=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};return{isArray:u,toArray:t,each:i,map:n,filter:o,indexOf:r,reduce:s,findIndex:a,find:l,last:c}}),/**
 * Tools.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/util/Tools",["tinymce/Env","tinymce/util/Arr"],function(t,i){function n(t){return null===t||t===e?"":(""+t).replace(f,"")}function o(t,n){return n?"array"==n&&i.isArray(t)?!0:typeof t==n:t!==e}function r(t,e,i){var n;for(t=t||[],e=e||",","string"==typeof t&&(t=t.split(e)),i=i||{},n=t.length;n--;)i[t[n]]={};return i}function s(t,e,i){var n,o,r,s,a,l=this,c=0;if(t=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(t),r=t[3].match(/(^|\.)(\w+)$/i)[2],o=l.createNS(t[3].replace(/\.\w+$/,""),i),!o[r]){if("static"==t[2])return o[r]=e,void(this.onCreate&&this.onCreate(t[2],t[3],o[r]));e[r]||(e[r]=function(){},c=1),o[r]=e[r],l.extend(o[r].prototype,e),t[5]&&(n=l.resolve(t[5]).prototype,s=t[5].match(/\.(\w+)$/i)[1],a=o[r],c?o[r]=function(){return n[s].apply(this,arguments)}:o[r]=function(){return this.parent=n[s],a.apply(this,arguments)},o[r].prototype[r]=o[r],l.each(n,function(t,e){o[r].prototype[e]=n[e]}),l.each(e,function(t,e){n[e]?o[r].prototype[e]=function(){return this.parent=n[e],t.apply(this,arguments)}:e!=r&&(o[r].prototype[e]=t)})),l.each(e["static"],function(t,e){o[r][e]=t})}}function a(t,i){var n,o,r,s,a=arguments;for(n=1,o=a.length;o>n;n++){i=a[n];for(r in i)i.hasOwnProperty(r)&&(s=i[r],s!==e&&(t[r]=s))}return t}function l(t,e,n,o){o=o||this,t&&(n&&(t=t[n]),i.each(t,function(t,i){return e.call(o,t,i,n)===!1?!1:void l(t,e,n,o)}))}function c(t,e){var i,n;for(e=e||window,t=t.split("."),i=0;i<t.length;i++)n=t[i],e[n]||(e[n]={}),e=e[n];return e}function u(t,e){var i,n;for(e=e||window,t=t.split("."),i=0,n=t.length;n>i&&(e=e[t[i]],e);i++);return e}function d(t,e){return!t||o(t,"array")?t:i.map(t.split(e||","),n)}function h(e){var i=t.cacheSuffix;return i&&(e+=(-1===e.indexOf("?")?"?":"&")+i),e}var f=/^\s*|\s*$/g;return{trim:n,isArray:i.isArray,is:o,toArray:i.toArray,makeMap:r,each:i.each,map:i.map,grep:i.filter,inArray:i.indexOf,extend:a,create:s,walk:l,createNS:c,resolve:u,explode:d,_addCacheSuffix:h}}),/**
 * DomQuery.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/dom/DomQuery",["tinymce/dom/EventUtils","tinymce/dom/Sizzle","tinymce/util/Tools","tinymce/Env"],function(t,i,n,o){function r(t){return"undefined"!=typeof t}function s(t){return"string"==typeof t}function a(t){return t&&t==t.window}function l(t,e){var i,n,o;for(e=e||C,o=e.createElement("div"),i=e.createDocumentFragment(),o.innerHTML=t;n=o.firstChild;)i.appendChild(n);return i}function c(t,e,i,n){var o;if(s(e))e=l(e,v(t[0]));else if(e.length&&!e.nodeType){if(e=h.makeArray(e),n)for(o=e.length-1;o>=0;o--)c(t,e[o],i,n);else for(o=0;o<e.length;o++)c(t,e[o],i,n);return t}if(e.nodeType)for(o=t.length;o--;)i.call(t[o],e);return t}function u(t,e){return t&&e&&-1!==(" "+t.className+" ").indexOf(" "+e+" ")}function d(t,e,i){var n,o;return e=h(e)[0],t.each(function(){var t=this;i&&n==t.parentNode?o.appendChild(t):(n=t.parentNode,o=e.cloneNode(!1),t.parentNode.insertBefore(o,t),o.appendChild(t))}),t}function h(t,e){return new h.fn.init(t,e)}function f(t,e){var i;if(e.indexOf)return e.indexOf(t);for(i=e.length;i--;)if(e[i]===t)return i;return-1}function p(t){return null===t||t===w?"":(""+t).replace(R,"")}function m(t,e){var i,n,o,r,s;if(t)if(i=t.length,i===r){for(n in t)if(t.hasOwnProperty(n)&&(s=t[n],e.call(s,n,s)===!1))break}else for(o=0;i>o&&(s=t[o],e.call(s,o,s)!==!1);o++);return t}function g(t,e){var i=[];return m(t,function(t,n){e(n,t)&&i.push(n)}),i}function v(t){return t?9==t.nodeType?t:t.ownerDocument:C}function y(t,i,n){var o=[],r=t[i];for("string"!=typeof n&&n instanceof h&&(n=n[0]);r&&9!==r.nodeType;){if(n!==e){if(r===n)break;if("string"==typeof n&&h(r).is(n))break}1===r.nodeType&&o.push(r),r=r[i]}return o}function b(t,i,n,o){var r=[];for(o instanceof h&&(o=o[0]);t;t=t[i])if(!n||t.nodeType===n){if(o!==e){if(t===o)break;if("string"==typeof o&&h(t).is(o))break}r.push(t)}return r}function x(t,e,i){for(t=t[e];t;t=t[e])if(t.nodeType==i)return t;return null}function _(t,e,i){m(i,function(i,n){t[i]=t[i]||{},t[i][e]=n})}var w,C=document,k=Array.prototype.push,T=Array.prototype.slice,S=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,N=t.Event,D=n.makeMap("children,contents,next,prev"),E=n.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),P=n.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),A={"for":"htmlFor","class":"className",readonly:"readOnly"},M={"float":"cssFloat"},I={},$={},R=/^\s*|\s*$/g;return h.fn=h.prototype={constructor:h,selector:"",context:null,length:0,init:function(t,e){var i,n,o=this;if(!t)return o;if(t.nodeType)return o.context=o[0]=t,o.length=1,o;if(e&&e.nodeType)o.context=e;else{if(e)return h(t).attr(e);o.context=e=document}if(s(t)){if(o.selector=t,i="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:S.exec(t),!i)return h(e).find(t);if(i[1])for(n=l(t,v(e)).firstChild;n;)k.call(o,n),n=n.nextSibling;else{if(n=v(e).getElementById(i[2]),!n)return o;if(n.id!==i[2])return o.find(t);o.length=1,o[0]=n}}else this.add(t,!1);return o},toArray:function(){return n.toArray(this)},add:function(t,e){var i,n,o=this;if(s(t))return o.add(h(t));if(e!==!1)for(i=h.unique(o.toArray().concat(h.makeArray(t))),o.length=i.length,n=0;n<i.length;n++)o[n]=i[n];else k.apply(o,h.makeArray(t));return o},attr:function(t,e){var i,n=this;if("object"==typeof t)m(t,function(t,e){n.attr(t,e)});else{if(!r(e)){if(n[0]&&1===n[0].nodeType){if(i=I[t],i&&i.get)return i.get(n[0],t);if(P[t])return n.prop(t)?t:w;e=n[0].getAttribute(t,2),null===e&&(e=w)}return e}this.each(function(){var i;if(1===this.nodeType){if(i=I[t],i&&i.set)return void i.set(this,e);null===e?this.removeAttribute(t,2):this.setAttribute(t,e,2)}})}return n},removeAttr:function(t){return this.attr(t,null)},prop:function(t,e){var i=this;if(t=A[t]||t,"object"==typeof t)m(t,function(t,e){i.prop(t,e)});else{if(!r(e))return i[0]&&i[0].nodeType&&t in i[0]?i[0][t]:e;this.each(function(){1==this.nodeType&&(this[t]=e)})}return i},css:function(t,e){function i(t){return t.replace(/-(\D)/g,function(t,e){return e.toUpperCase()})}function n(t){return t.replace(/[A-Z]/g,function(t){return"-"+t})}var o,s,a=this;if("object"==typeof t)m(t,function(t,e){a.css(t,e)});else if(r(e))t=i(t),"number"!=typeof e||E[t]||(e+="px"),a.each(function(){var i=this.style;if(s=$[t],s&&s.set)return void s.set(this,e);try{this.style[M[t]||t]=e}catch(o){}(null===e||""===e)&&(i.removeProperty?i.removeProperty(n(t)):i.removeAttribute(t))});else{if(o=a[0],s=$[t],s&&s.get)return s.get(o);if(o.ownerDocument.defaultView)try{return o.ownerDocument.defaultView.getComputedStyle(o,null).getPropertyValue(n(t))}catch(l){return w}else if(o.currentStyle)return o.currentStyle[i(t)]}return a},remove:function(){for(var t,e=this,i=this.length;i--;)t=e[i],N.clean(t),t.parentNode&&t.parentNode.removeChild(t);return this},empty:function(){for(var t,e=this,i=this.length;i--;)for(t=e[i];t.firstChild;)t.removeChild(t.firstChild);return this},html:function(t){var e,i=this;if(r(t)){e=i.length;try{for(;e--;)i[e].innerHTML=t}catch(n){h(i[e]).empty().append(t)}return i}return i[0]?i[0].innerHTML:""},text:function(t){var e,i=this;if(r(t)){for(e=i.length;e--;)"innerText"in i[e]?i[e].innerText=t:i[0].textContent=t;return i}return i[0]?i[0].innerText||i[0].textContent:""},append:function(){return c(this,arguments,function(t){1===this.nodeType&&this.appendChild(t)})},prepend:function(){return c(this,arguments,function(t){1===this.nodeType&&this.insertBefore(t,this.firstChild)},!0)},before:function(){var t=this;return t[0]&&t[0].parentNode?c(t,arguments,function(t){this.parentNode.insertBefore(t,this)}):t},after:function(){var t=this;return t[0]&&t[0].parentNode?c(t,arguments,function(t){this.parentNode.insertBefore(t,this.nextSibling)},!0):t},appendTo:function(t){return h(t).append(this),this},prependTo:function(t){return h(t).prepend(this),this},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){return d(this,t)},wrapAll:function(t){return d(this,t,!0)},wrapInner:function(t){return this.each(function(){h(this).contents().wrapAll(t)}),this},unwrap:function(){return this.parent().each(function(){h(this).replaceWith(this.childNodes)})},clone:function(){var t=[];return this.each(function(){t.push(this.cloneNode(!0))}),h(t)},addClass:function(t){return this.toggleClass(t,!0)},removeClass:function(t){return this.toggleClass(t,!1)},toggleClass:function(t,e){var i=this;return"string"!=typeof t?i:(-1!==t.indexOf(" ")?m(t.split(" "),function(){i.toggleClass(this,e)}):i.each(function(i,n){var o,r;r=u(n,t),r!==e&&(o=n.className,r?n.className=p((" "+o+" ").replace(" "+t+" "," ")):n.className+=o?" "+t:t)}),i)},hasClass:function(t){return u(this[0],t)},each:function(t){return m(this,t)},on:function(t,e){return this.each(function(){N.bind(this,t,e)})},off:function(t,e){return this.each(function(){N.unbind(this,t,e)})},trigger:function(t){return this.each(function(){"object"==typeof t?N.fire(this,t.type,t):N.fire(this,t)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new h(T.apply(this,arguments))},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(t){var e,i,n=[];for(e=0,i=this.length;i>e;e++)h.find(t,this[e],n);return h(n)},filter:function(t){return h("function"==typeof t?g(this.toArray(),function(e,i){return t(i,e)}):h.filter(t,this.toArray()))},closest:function(t){var e=[];return t instanceof h&&(t=t[0]),this.each(function(i,n){for(;n;){if("string"==typeof t&&h(n).is(t)){e.push(n);break}if(n==t){e.push(n);break}n=n.parentNode}}),h(e)},offset:function(t){var e,i,n,o,r=0,s=0;return t?this.css(t):(e=this[0],e&&(i=e.ownerDocument,n=i.documentElement,e.getBoundingClientRect&&(o=e.getBoundingClientRect(),r=o.left+(n.scrollLeft||i.body.scrollLeft)-n.clientLeft,s=o.top+(n.scrollTop||i.body.scrollTop)-n.clientTop)),{left:r,top:s})},push:k,sort:[].sort,splice:[].splice},n.extend(h,{extend:n.extend,makeArray:function(t){return a(t)||t.nodeType?[t]:n.toArray(t)},inArray:f,isArray:n.isArray,each:m,trim:p,grep:g,find:i,expr:i.selectors,unique:i.uniqueSort,text:i.getText,contains:i.contains,filter:function(t,e,i){var n=e.length;for(i&&(t=":not("+t+")");n--;)1!=e[n].nodeType&&e.splice(n,1);return e=1===e.length?h.find.matchesSelector(e[0],t)?[e[0]]:[]:h.find.matches(t,e)}}),m({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return y(t,"parentNode")},next:function(t){return x(t,"nextSibling",1)},prev:function(t){return x(t,"previousSibling",1)},children:function(t){return b(t.firstChild,"nextSibling",1)},contents:function(t){return n.toArray(("iframe"===t.nodeName?t.contentDocument||t.contentWindow.document:t).childNodes)}},function(t,e){h.fn[t]=function(i){var n=this,o=[];return n.each(function(){var t=e.call(o,this,i,o);t&&(h.isArray(t)?o.push.apply(o,t):o.push(t))}),this.length>1&&(D[t]||(o=h.unique(o)),0===t.indexOf("parents")&&(o=o.reverse())),o=h(o),i?o.filter(i):o}}),m({parentsUntil:function(t,e){return y(t,"parentNode",e)},nextUntil:function(t,e){return b(t,"nextSibling",1,e).slice(1)},prevUntil:function(t,e){return b(t,"previousSibling",1,e).slice(1)}},function(t,e){h.fn[t]=function(i,n){var o=this,r=[];return o.each(function(){var t=e.call(r,this,i,r);t&&(h.isArray(t)?r.push.apply(r,t):r.push(t))}),this.length>1&&(r=h.unique(r),(0===t.indexOf("parents")||"prevUntil"===t)&&(r=r.reverse())),r=h(r),n?r.filter(n):r}}),h.fn.is=function(t){return!!t&&this.filter(t).length>0},h.fn.init.prototype=h.fn,h.overrideDefaults=function(t){function e(n,o){return i=i||t(),0===arguments.length&&(n=i.element),o||(o=i.context),new e.fn.init(n,o)}var i;return h.extend(e,this),e},o.ie&&o.ie<8&&(_(I,"get",{maxlength:function(t){var e=t.maxLength;return 2147483647===e?w:e},size:function(t){var e=t.size;return 20===e?w:e},"class":function(t){return t.className},style:function(t){var e=t.style.cssText;return 0===e.length?w:e}}),_(I,"set",{"class":function(t,e){t.className=e},style:function(t,e){t.style.cssText=e}})),o.ie&&o.ie<9&&(M["float"]="styleFloat",_($,"set",{opacity:function(t,e){var i=t.style;null===e||""===e?i.removeAttribute("filter"):(i.zoom=1,i.filter="alpha(opacity="+100*e+")")}})),h.attrHooks=I,h.cssHooks=$,h}),/**
 * Styles.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/html/Styles",[],function(){return function(t,e){function i(t,e,i,n){function o(t){return t=parseInt(t,10).toString(16),t.length>1?t:"0"+t}return"#"+o(e)+o(i)+o(n)}var n,o,r,s,a,l=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,c=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,u=/\s*([^:]+):\s*([^;]+);?/g,d=/\s+$/,h={},f="\ufeff";for(t=t||{},e&&(s=e.getValidStyles(),a=e.getInvalidStyles()),r=("\\\" \\' \\; \\: ; : "+f).split(" "),o=0;o<r.length;o++)h[r[o]]=f+o,h[f+o]=r[o];return{toHex:function(t){return t.replace(l,i)},parse:function(e){function n(t,e,i){var n,r,s,a;if(n=b[t+"-top"+e],n&&(r=b[t+"-right"+e],r&&(s=b[t+"-bottom"+e],s&&(a=b[t+"-left"+e])))){var l=[n,r,s,a];for(o=l.length-1;o--&&l[o]===l[o+1];);o>-1&&i||(b[t+e]=-1==o?l[0]:l.join(" "),delete b[t+"-top"+e],delete b[t+"-right"+e],delete b[t+"-bottom"+e],delete b[t+"-left"+e])}}function r(t){var e,i=b[t];if(i){for(i=i.split(" "),e=i.length;e--;)if(i[e]!==i[0])return!1;return b[t]=i[0],!0}}function s(t,e,i,n){r(e)&&r(i)&&r(n)&&(b[t]=b[e]+" "+b[i]+" "+b[n],delete b[e],delete b[i],delete b[n])}function a(t){return y=!0,h[t]}function f(t,e){return y&&(t=t.replace(/\uFEFF[0-9]/g,function(t){return h[t]})),e||(t=t.replace(/\\([\'\";:])/g,"$1")),t}function p(e,i,n,o,r,s){if(r=r||s)return r=f(r),"'"+r.replace(/\'/g,"\\'")+"'";if(i=f(i||n||o),!t.allow_script_urls){var a=i.replace(/[\s\r\n]+/,"");if(/(java|vb)script:/i.test(a))return"";if(!t.allow_svg_data_urls&&/^data:image\/svg/i.test(a))return""}return x&&(i=x.call(_,i,"style")),"url('"+i.replace(/\'/g,"\\'")+"')"}var m,g,v,y,b={},x=t.url_converter,_=t.url_converter_scope||this;if(e){for(e=e.replace(/[\u0000-\u001F]/g,""),e=e.replace(/\\[\"\';:\uFEFF]/g,a).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(t){return t.replace(/[;:]/g,a)});m=u.exec(e);){if(g=m[1].replace(d,"").toLowerCase(),v=m[2].replace(d,""),v=v.replace(/\\[0-9a-f]+/g,function(t){return String.fromCharCode(parseInt(t.substr(1),16))}),g&&v.length>0){if(!t.allow_script_urls&&("behavior"==g||/expression\s*\(|\/\*|\*\//.test(v)))continue;"font-weight"===g&&"700"===v?v="bold":("color"===g||"background-color"===g)&&(v=v.toLowerCase()),v=v.replace(l,i),v=v.replace(c,p),b[g]=y?f(v,!0):v}u.lastIndex=m.index+m[0].length}n("border","",!0),n("border","-width"),n("border","-color"),n("border","-style"),n("padding",""),n("margin",""),s("border","border-width","border-style","border-color"),"medium none"===b.border&&delete b.border,"none"===b["border-image"]&&delete b["border-image"]}return b},serialize:function(t,e){function i(e){var i,o,r,a;if(i=s[e])for(o=0,r=i.length;r>o;o++)e=i[o],a=t[e],a!==n&&a.length>0&&(c+=(c.length>0?" ":"")+e+": "+a+";")}function o(t,e){var i;return i=a["*"],i&&i[t]?!1:(i=a[e],i&&i[t]?!1:!0)}var r,l,c="";if(e&&s)i("*"),i(e);else for(r in t)l=t[r],l!==n&&l.length>0&&(!a||o(r,e))&&(c+=(c.length>0?" ":"")+r+": "+l+";");return c}}}}),/**
 * TreeWalker.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/dom/TreeWalker",[],function(){return function(t,e){function i(t,i,n,o){var r,s;if(t){if(!o&&t[i])return t[i];if(t!=e){if(r=t[n])return r;for(s=t.parentNode;s&&s!=e;s=s.parentNode)if(r=s[n])return r}}}var n=t;this.current=function(){return n},this.next=function(t){return n=i(n,"firstChild","nextSibling",t)},this.prev=function(t){return n=i(n,"lastChild","previousSibling",t)}}}),/**
 * Range.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/dom/Range",["tinymce/util/Tools"],function(t){function e(i){function n(){return R.createDocumentFragment()}function o(t,e){C(H,t,e)}function r(t,e){C(B,t,e)}function s(t){o(t.parentNode,q(t))}function a(t){o(t.parentNode,q(t)+1)}function l(t){r(t.parentNode,q(t))}function c(t){r(t.parentNode,q(t)+1)}function u(t){t?($[j]=$[W],$[V]=$[z]):($[W]=$[j],$[z]=$[V]),$.collapsed=H}function d(t){s(t),c(t)}function h(t){o(t,0),r(t,1===t.nodeType?t.childNodes.length:t.nodeValue.length)}function f(t,e){var i=$[W],n=$[z],o=$[j],r=$[V],s=e.startContainer,a=e.startOffset,l=e.endContainer,c=e.endOffset;return 0===t?w(i,n,s,a):1===t?w(o,r,s,a):2===t?w(o,r,l,c):3===t?w(i,n,l,c):void 0}function p(){k(F)}function m(){return k(O)}function g(){return k(L)}function v(t){var e,n,o=this[W],r=this[z];3!==o.nodeType&&4!==o.nodeType||!o.nodeValue?(o.childNodes.length>0&&(n=o.childNodes[r]),n?o.insertBefore(t,n):3==o.nodeType?i.insertAfter(t,o):o.appendChild(t)):r?r>=o.nodeValue.length?i.insertAfter(t,o):(e=o.splitText(r),o.parentNode.insertBefore(t,e)):o.parentNode.insertBefore(t,o)}function y(t){var e=$.extractContents();$.insertNode(t),t.appendChild(e),$.selectNode(t)}function b(){return U(new e(i),{startContainer:$[W],startOffset:$[z],endContainer:$[j],endOffset:$[V],collapsed:$.collapsed,commonAncestorContainer:$.commonAncestorContainer})}function x(t,e){var i;if(3==t.nodeType)return t;if(0>e)return t;for(i=t.firstChild;i&&e>0;)--e,i=i.nextSibling;return i?i:t}function _(){return $[W]==$[j]&&$[z]==$[V]}function w(t,e,n,o){var r,s,a,l,c,u;if(t==n)return e==o?0:o>e?-1:1;for(r=n;r&&r.parentNode!=t;)r=r.parentNode;if(r){for(s=0,a=t.firstChild;a!=r&&e>s;)s++,a=a.nextSibling;return s>=e?-1:1}for(r=t;r&&r.parentNode!=n;)r=r.parentNode;if(r){for(s=0,a=n.firstChild;a!=r&&o>s;)s++,a=a.nextSibling;return o>s?-1:1}for(l=i.findCommonAncestor(t,n),c=t;c&&c.parentNode!=l;)c=c.parentNode;for(c||(c=l),u=n;u&&u.parentNode!=l;)u=u.parentNode;if(u||(u=l),c==u)return 0;for(a=l.firstChild;a;){if(a==c)return-1;if(a==u)return 1;a=a.nextSibling}}function C(t,e,n){var o,r;for(t?($[W]=e,$[z]=n):($[j]=e,$[V]=n),o=$[j];o.parentNode;)o=o.parentNode;for(r=$[W];r.parentNode;)r=r.parentNode;r==o?w($[W],$[z],$[j],$[V])>0&&$.collapse(t):$.collapse(t),$.collapsed=_(),$.commonAncestorContainer=i.findCommonAncestor($[W],$[j])}function k(t){var e,i,n,o,r,s,a,l=0,c=0;if($[W]==$[j])return T(t);for(e=$[j],i=e.parentNode;i;e=i,i=i.parentNode){if(i==$[W])return S(e,t);++l}for(e=$[W],i=e.parentNode;i;e=i,i=i.parentNode){if(i==$[j])return N(e,t);++c}for(n=c-l,o=$[W];n>0;)o=o.parentNode,n--;for(r=$[j];0>n;)r=r.parentNode,n++;for(s=o.parentNode,a=r.parentNode;s!=a;s=s.parentNode,a=a.parentNode)o=s,r=a;return D(o,r,t)}function T(t){var e,i,o,r,s,a,l,c,u;if(t!=F&&(e=n()),$[z]==$[V])return e;if(3==$[W].nodeType){if(i=$[W].nodeValue,o=i.substring($[z],$[V]),t!=L&&(r=$[W],c=$[z],u=$[V]-$[z],0===c&&u>=r.nodeValue.length-1?r.parentNode.removeChild(r):r.deleteData(c,u),$.collapse(H)),t==F)return;return o.length>0&&e.appendChild(R.createTextNode(o)),e}for(r=x($[W],$[z]),s=$[V]-$[z];r&&s>0;)a=r.nextSibling,l=M(r,t),e&&e.appendChild(l),--s,r=a;return t!=L&&$.collapse(H),e}function S(t,e){var i,o,r,s,a,l;if(e!=F&&(i=n()),o=E(t,e),i&&i.appendChild(o),r=q(t),s=r-$[z],0>=s)return e!=L&&($.setEndBefore(t),$.collapse(B)),i;for(o=t.previousSibling;s>0;)a=o.previousSibling,l=M(o,e),i&&i.insertBefore(l,i.firstChild),--s,o=a;return e!=L&&($.setEndBefore(t),$.collapse(B)),i}function N(t,e){var i,o,r,s,a,l;for(e!=F&&(i=n()),r=P(t,e),i&&i.appendChild(r),o=q(t),++o,s=$[V]-o,r=t.nextSibling;r&&s>0;)a=r.nextSibling,l=M(r,e),i&&i.appendChild(l),--s,r=a;return e!=L&&($.setStartAfter(t),$.collapse(H)),i}function D(t,e,i){var o,r,s,a,l,c,u;for(i!=F&&(r=n()),o=P(t,i),r&&r.appendChild(o),s=q(t),a=q(e),++s,l=a-s,c=t.nextSibling;l>0;)u=c.nextSibling,o=M(c,i),r&&r.appendChild(o),c=u,--l;return o=E(e,i),r&&r.appendChild(o),i!=L&&($.setStartAfter(t),$.collapse(H)),r}function E(t,e){var i,n,o,r,s,a=x($[j],$[V]-1),l=a!=$[j];if(a==t)return A(a,l,B,e);for(i=a.parentNode,n=A(i,B,B,e);i;){for(;a;)o=a.previousSibling,r=A(a,l,B,e),e!=F&&n.insertBefore(r,n.firstChild),l=H,a=o;if(i==t)return n;a=i.previousSibling,i=i.parentNode,s=A(i,B,B,e),e!=F&&s.appendChild(n),n=s}}function P(t,e){var i,n,o,r,s,a=x($[W],$[z]),l=a!=$[W];if(a==t)return A(a,l,H,e);for(i=a.parentNode,n=A(i,B,H,e);i;){for(;a;)o=a.nextSibling,r=A(a,l,H,e),e!=F&&n.appendChild(r),l=H,a=o;if(i==t)return n;a=i.nextSibling,i=i.parentNode,s=A(i,B,H,e),e!=F&&s.appendChild(n),n=s}}function A(t,e,n,o){var r,s,a,l,c;if(e)return M(t,o);if(3==t.nodeType){if(r=t.nodeValue,n?(l=$[z],s=r.substring(l),a=r.substring(0,l)):(l=$[V],s=r.substring(0,l),a=r.substring(l)),o!=L&&(t.nodeValue=a),o==F)return;return c=i.clone(t,B),c.nodeValue=s,c}if(o!=F)return i.clone(t,B)}function M(t,e){return e!=F?e==L?i.clone(t,H):t:void t.parentNode.removeChild(t)}function I(){return i.create("body",null,g()).outerText}var $=this,R=i.doc,O=0,L=1,F=2,H=!0,B=!1,z="startOffset",W="startContainer",j="endContainer",V="endOffset",U=t.extend,q=i.nodeIndex;return U($,{startContainer:R,startOffset:0,endContainer:R,endOffset:0,collapsed:H,commonAncestorContainer:R,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:o,setEnd:r,setStartBefore:s,setStartAfter:a,setEndBefore:l,setEndAfter:c,collapse:u,selectNode:d,selectNodeContents:h,compareBoundaryPoints:f,deleteContents:p,extractContents:m,cloneContents:g,insertNode:v,surroundContents:y,cloneRange:b,toStringIE:I}),$}return e.prototype.toString=function(){return this.toStringIE()},e}),/**
 * Entities.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/html/Entities",["tinymce/util/Tools"],function(t){function e(t){var e;return e=document.createElement("div"),e.innerHTML=t,e.textContent||e.innerText||t}function i(t,e){var i,n,r,s={};if(t){for(t=t.split(","),e=e||10,i=0;i<t.length;i+=2)n=String.fromCharCode(parseInt(t[i],e)),o[n]||(r="&"+t[i+1]+";",s[n]=r,s[r]=n);return s}}var n,o,r,s=t.makeMap,a=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=/[<>&\"\']/g,u=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,d={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};o={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},r={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},n=i("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var h={encodeRaw:function(t,e){return t.replace(e?a:l,function(t){return o[t]||t})},encodeAllRaw:function(t){return(""+t).replace(c,function(t){return o[t]||t})},encodeNumeric:function(t,e){return t.replace(e?a:l,function(t){return t.length>1?"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";":o[t]||"&#"+t.charCodeAt(0)+";"})},encodeNamed:function(t,e,i){return i=i||n,t.replace(e?a:l,function(t){return o[t]||i[t]||t})},getEncodeFunc:function(t,e){function r(t,i){return t.replace(i?a:l,function(t){return o[t]||e[t]||"&#"+t.charCodeAt(0)+";"||t})}function c(t,i){return h.encodeNamed(t,i,e)}return e=i(e)||n,t=s(t.replace(/\+/g,",")),t.named&&t.numeric?r:t.named?e?c:h.encodeNamed:t.numeric?h.encodeNumeric:h.encodeRaw},decode:function(t){return t.replace(u,function(t,i){return i?(i="x"===i.charAt(0).toLowerCase()?parseInt(i.substr(1),16):parseInt(i,10),i>65535?(i-=65536,String.fromCharCode(55296+(i>>10),56320+(1023&i))):d[i]||String.fromCharCode(i)):r[t]||n[t]||e(t)})}};return h}),/**
 * StyleSheetLoader.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/dom/StyleSheetLoader",["tinymce/util/Tools","tinymce/util/Delay"],function(t,e){return function(i,n){function o(t){i.getElementsByTagName("head")[0].appendChild(t)}function r(n,r,c){function u(){for(var t=b.passed,e=t.length;e--;)t[e]();b.status=2,b.passed=[],b.failed=[]}function d(){for(var t=b.failed,e=t.length;e--;)t[e]();b.status=3,b.passed=[],b.failed=[]}function h(){var t=navigator.userAgent.match(/WebKit\/(\d*)/);return!!(t&&t[1]<536)}function f(t,i){t()||((new Date).getTime()-y<s?e.setTimeout(i):d())}function p(){f(function(){for(var t,e,n=i.styleSheets,o=n.length;o--;)if(t=n[o],e=t.ownerNode?t.ownerNode:t.owningElement,e&&e.id===g.id)return u(),!0},p)}function m(){f(function(){try{var t=v.sheet.cssRules;return u(),!!t}catch(e){}},m)}var g,v,y,b;if(n=t._addCacheSuffix(n),l[n]?b=l[n]:(b={passed:[],failed:[]},l[n]=b),r&&b.passed.push(r),c&&b.failed.push(c),1!=b.status){if(2==b.status)return void u();if(3==b.status)return void d();if(b.status=1,g=i.createElement("link"),g.rel="stylesheet",g.type="text/css",g.id="u"+a++,g.async=!1,g.defer=!1,y=(new Date).getTime(),"onload"in g&&!h())g.onload=p,g.onerror=d;else{if(navigator.userAgent.indexOf("Firefox")>0)return v=i.createElement("style"),v.textContent='@import "'+n+'"',m(),void o(v);p()}o(g),g.href=n}}var s,a=0,l={};n=n||{},s=n.maxLoadTime||5e3,this.load=r}}),/**
 * DOMUtils.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/dom/DOMUtils",["tinymce/dom/Sizzle","tinymce/dom/DomQuery","tinymce/html/Styles","tinymce/dom/EventUtils","tinymce/dom/TreeWalker","tinymce/dom/Range","tinymce/html/Entities","tinymce/Env","tinymce/util/Tools","tinymce/dom/StyleSheetLoader"],function(t,i,n,o,r,s,a,l,c,u){function d(t,e){var i,n={},o=e.keep_values;return i={set:function(i,n,o){e.url_converter&&(n=e.url_converter.call(e.url_converter_scope||t,n,o,i[0])),i.attr("data-mce-"+o,n).attr(o,n)},get:function(t,e){return t.attr("data-mce-"+e)||t.attr(e)}},n={style:{set:function(t,e){return null!==e&&"object"==typeof e?void t.css(e):(o&&t.attr("data-mce-style",e),void t.attr("style",e))},get:function(e){var i=e.attr("data-mce-style")||e.attr("style");return i=t.serializeStyle(t.parseStyle(i),e[0].nodeName)}}},o&&(n.href=n.src=i),n}function h(t,e){var i=e.attr("style");i=t.serializeStyle(t.parseStyle(i),e[0].nodeName),i||(i=null),e.attr("data-mce-style",i)}function f(t,e){var i,n,o=0;if(t)for(i=t.nodeType,t=t.previousSibling;t;t=t.previousSibling)n=t.nodeType,(!e||3!=n||n!=i&&t.nodeValue.length)&&(o++,i=n);return o}function p(t,e){var r,s=this;s.doc=t,s.win=window,s.files={},s.counter=0,s.stdMode=!b||t.documentMode>=8,s.boxModel=!b||"CSS1Compat"==t.compatMode||s.stdMode,s.styleSheetLoader=new u(t),s.boundEvents=[],s.settings=e=e||{},s.schema=e.schema,s.styles=new n({url_converter:e.url_converter,url_converter_scope:e.url_converter_scope},e.schema),s.fixDoc(t),s.events=e.ownEvents?new o(e.proxy):o.Event,s.attrHooks=d(s,e),r=e.schema?e.schema.getBlockElements():{},s.$=i.overrideDefaults(function(){return{context:t,element:s.getRoot()}}),s.isBlock=function(t){if(!t)return!1;var e=t.nodeType;return e?!(1!==e||!r[t.nodeName]):!!r[t]}}var m=c.each,g=c.is,v=c.grep,y=c.trim,b=l.ie,x=/^([a-z0-9],?)+$/i,_=/^[ \t\r\n]*$/;return p.prototype={$$:function(t){return"string"==typeof t&&(t=this.get(t)),this.$(t)},root:null,fixDoc:function(t){var e,i=this.settings;if(b&&i.schema){"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(e){t.createElement(e)});for(e in i.schema.getCustomElements())t.createElement(e)}},clone:function(t,e){var i,n,o=this;return!b||1!==t.nodeType||e?t.cloneNode(e):(n=o.doc,e?i.firstChild:(i=n.createElement(t.nodeName),m(o.getAttribs(t),function(e){o.setAttrib(i,e.nodeName,o.getAttrib(t,e.nodeName))}),i))},getRoot:function(){var t=this;return t.settings.root_element||t.doc.body},getViewPort:function(t){var e,i;return t=t?t:this.win,e=t.document,i=this.boxModel?e.documentElement:e.body,{x:t.pageXOffset||i.scrollLeft,y:t.pageYOffset||i.scrollTop,w:t.innerWidth||i.clientWidth,h:t.innerHeight||i.clientHeight}},getRect:function(t){var e,i,n=this;return t=n.get(t),e=n.getPos(t),i=n.getSize(t),{x:e.x,y:e.y,w:i.w,h:i.h}},getSize:function(t){var e,i,n=this;return t=n.get(t),e=n.getStyle(t,"width"),i=n.getStyle(t,"height"),-1===e.indexOf("px")&&(e=0),-1===i.indexOf("px")&&(i=0),{w:parseInt(e,10)||t.offsetWidth||t.clientWidth,h:parseInt(i,10)||t.offsetHeight||t.clientHeight}},getParent:function(t,e,i){return this.getParents(t,e,i,!1)},getParents:function(t,i,n,o){var r,s=this,a=[];for(t=s.get(t),o=o===e,n=n||("BODY"!=s.getRoot().nodeName?s.getRoot().parentNode:null),g(i,"string")&&(r=i,i="*"===i?function(t){return 1==t.nodeType}:function(t){return s.is(t,r)});t&&t!=n&&t.nodeType&&9!==t.nodeType;){if(!i||i(t)){if(!o)return t;a.push(t)}t=t.parentNode}return o?a:null},get:function(t){var e;return t&&this.doc&&"string"==typeof t&&(e=t,t=this.doc.getElementById(t),t&&t.id!==e)?this.doc.getElementsByName(e)[1]:t},getNext:function(t,e){return this._findSib(t,e,"nextSibling")},getPrev:function(t,e){return this._findSib(t,e,"previousSibling")},select:function(e,i){var n=this;return t(e,n.get(i)||n.settings.root_element||n.doc,[])},is:function(i,n){var o;if(i.length===e){if("*"===n)return 1==i.nodeType;if(x.test(n)){for(n=n.toLowerCase().split(/,/),i=i.nodeName.toLowerCase(),o=n.length-1;o>=0;o--)if(n[o]==i)return!0;return!1}}if(i.nodeType&&1!=i.nodeType)return!1;var r=i.nodeType?[i]:i;return t(n,r[0].ownerDocument||r[0],null,r).length>0},add:function(t,e,i,n,o){var r=this;return this.run(t,function(t){var s;return s=g(e,"string")?r.doc.createElement(e):e,r.setAttribs(s,i),n&&(n.nodeType?s.appendChild(n):r.setHTML(s,n)),o?s:t.appendChild(s)})},create:function(t,e,i){return this.add(this.doc.createElement(t),t,e,i,1)},createHTML:function(t,e,i){var n,o="";o+="<"+t;for(n in e)e.hasOwnProperty(n)&&null!==e[n]&&"undefined"!=typeof e[n]&&(o+=" "+n+'="'+this.encode(e[n])+'"');return"undefined"!=typeof i?o+">"+i+"</"+t+">":o+" />"},createFragment:function(t){var e,i,n,o=this.doc;for(n=o.createElement("div"),e=o.createDocumentFragment(),t&&(n.innerHTML=t);i=n.firstChild;)e.appendChild(i);return e},remove:function(t,e){return t=this.$$(t),e?t.each(function(){for(var t;t=this.firstChild;)3==t.nodeType&&0===t.data.length?this.removeChild(t):this.parentNode.insertBefore(t,this)}).remove():t.remove(),t.length>1?t.toArray():t[0]},setStyle:function(t,e,i){t=this.$$(t).css(e,i),this.settings.update_styles&&h(this,t)},getStyle:function(t,i,n){return t=this.$$(t),n?t.css(i):(i=i.replace(/-(\D)/g,function(t,e){return e.toUpperCase()}),"float"==i&&(i=l.ie&&l.ie<12?"styleFloat":"cssFloat"),t[0]&&t[0].style?t[0].style[i]:e)},setStyles:function(t,e){t=this.$$(t).css(e),this.settings.update_styles&&h(this,t)},removeAllAttribs:function(t){return this.run(t,function(t){var e,i=t.attributes;for(e=i.length-1;e>=0;e--)t.removeAttributeNode(i.item(e))})},setAttrib:function(t,e,i){var n,o,r=this,s=r.settings;""===i&&(i=null),t=r.$$(t),n=t.attr(e),t.length&&(o=r.attrHooks[e],o&&o.set?o.set(t,i,e):t.attr(e,i),n!=i&&s.onSetAttrib&&s.onSetAttrib({attrElm:t,attrName:e,attrValue:i}))},setAttribs:function(t,e){var i=this;i.$$(t).each(function(t,n){m(e,function(t,e){i.setAttrib(n,e,t)})})},getAttrib:function(t,e,i){var n,o,r=this;return t=r.$$(t),t.length&&(n=r.attrHooks[e],o=n&&n.get?n.get(t,e):t.attr(e)),"undefined"==typeof o&&(o=i||""),o},getPos:function(t,e){var n,o,r=this,s=0,a=0,l=r.doc,c=l.body;if(t=r.get(t),e=e||c,t){if(e===c&&t.getBoundingClientRect&&"static"===i(c).css("position"))return o=t.getBoundingClientRect(),e=r.boxModel?l.documentElement:c,s=o.left+(l.documentElement.scrollLeft||c.scrollLeft)-e.clientLeft,a=o.top+(l.documentElement.scrollTop||c.scrollTop)-e.clientTop,{x:s,y:a};for(n=t;n&&n!=e&&n.nodeType;)s+=n.offsetLeft||0,a+=n.offsetTop||0,n=n.offsetParent;for(n=t.parentNode;n&&n!=e&&n.nodeType;)s-=n.scrollLeft||0,a-=n.scrollTop||0,n=n.parentNode}return{x:s,y:a}},parseStyle:function(t){return this.styles.parse(t)},serializeStyle:function(t,e){return this.styles.serialize(t,e)},addStyle:function(t){var e,i,n=this,o=n.doc;if(n!==p.DOM&&o===document){var r=p.DOM.addedStyles;if(r=r||[],r[t])return;r[t]=!0,p.DOM.addedStyles=r}i=o.getElementById("mceDefaultStyles"),i||(i=o.createElement("style"),i.id="mceDefaultStyles",i.type="text/css",e=o.getElementsByTagName("head")[0],e.firstChild?e.insertBefore(i,e.firstChild):e.appendChild(i)),i.styleSheet?i.styleSheet.cssText+=t:i.appendChild(o.createTextNode(t))},loadCSS:function(t){var e,i=this,n=i.doc;return i!==p.DOM&&n===document?void p.DOM.loadCSS(t):(t||(t=""),e=n.getElementsByTagName("head")[0],void m(t.split(","),function(t){var o;t=c._addCacheSuffix(t),i.files[t]||(i.files[t]=!0,o=i.create("link",{rel:"stylesheet",href:t}),b&&n.documentMode&&n.recalc&&(o.onload=function(){n.recalc&&n.recalc(),o.onload=null}),e.appendChild(o))}))},addClass:function(t,e){this.$$(t).addClass(e)},removeClass:function(t,e){this.toggleClass(t,e,!1)},hasClass:function(t,e){return this.$$(t).hasClass(e)},toggleClass:function(t,e,n){this.$$(t).toggleClass(e,n).each(function(){""===this.className&&i(this).attr("class",null)})},show:function(t){this.$$(t).show()},hide:function(t){this.$$(t).hide()},isHidden:function(t){return"none"==this.$$(t).css("display")},uniqueId:function(t){return(t?t:"mce_")+this.counter++},setHTML:function(t,e){t=this.$$(t),b?t.each(function(t,n){if(n.canHaveHTML!==!1){for(;n.firstChild;)n.removeChild(n.firstChild);try{n.innerHTML="<br>"+e,n.removeChild(n.firstChild)}catch(o){i("<div>").html("<br>"+e).contents().slice(1).appendTo(n)}return e}}):t.html(e)},getOuterHTML:function(t){return t=this.get(t),1==t.nodeType&&"outerHTML"in t?t.outerHTML:i("<div>").append(i(t).clone()).html()},setOuterHTML:function(t,e){var n=this;n.$$(t).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=e)}catch(t){}n.remove(i(this).html(e),!0)})},decode:a.decode,encode:a.encodeAllRaw,insertAfter:function(t,e){return e=this.get(e),this.run(t,function(t){var i,n;return i=e.parentNode,n=e.nextSibling,n?i.insertBefore(t,n):i.appendChild(t),t})},replace:function(t,e,i){var n=this;return n.run(e,function(e){return g(e,"array")&&(t=t.cloneNode(!0)),i&&m(v(e.childNodes),function(e){t.appendChild(e)}),e.parentNode.replaceChild(t,e)})},rename:function(t,e){var i,n=this;return t.nodeName!=e.toUpperCase()&&(i=n.create(e),m(n.getAttribs(t),function(e){n.setAttrib(i,e.nodeName,n.getAttrib(t,e.nodeName))}),n.replace(i,t,1)),i||t},findCommonAncestor:function(t,e){for(var i,n=t;n;){for(i=e;i&&n!=i;)i=i.parentNode;if(n==i)break;n=n.parentNode}return!n&&t.ownerDocument?t.ownerDocument.documentElement:n},toHex:function(t){return this.styles.toHex(c.trim(t))},run:function(t,e,i){var n,o=this;return"string"==typeof t&&(t=o.get(t)),t?(i=i||this,t.nodeType||!t.length&&0!==t.length?e.call(i,t):(n=[],m(t,function(t,r){t&&("string"==typeof t&&(t=o.get(t)),n.push(e.call(i,t,r)))}),n)):!1},getAttribs:function(t){var e;if(t=this.get(t),!t)return[];if(b){if(e=[],"OBJECT"==t.nodeName)return t.attributes;"OPTION"===t.nodeName&&this.getAttrib(t,"selected")&&e.push({specified:1,nodeName:"selected"});var i=/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi;return t.cloneNode(!1).outerHTML.replace(i,"").replace(/[\w:\-]+/gi,function(t){e.push({specified:1,nodeName:t})}),e}return t.attributes},isEmpty:function(t,e){var i,n,o,s,a,l=this,c=0;if(t=t.firstChild){s=new r(t,t.parentNode),e=e||(l.schema?l.schema.getNonEmptyElements():null);do{if(o=t.nodeType,1===o){if(t.getAttribute("data-mce-bogus"))continue;if(a=t.nodeName.toLowerCase(),e&&e[a]){if("br"===a){c++;continue}return!1}for(n=l.getAttribs(t),i=n.length;i--;)if(a=n[i].nodeName,"name"===a||"data-mce-bookmark"===a)return!1}if(8==o)return!1;if(3===o&&!_.test(t.nodeValue))return!1}while(t=s.next())}return 1>=c},createRng:function(){var t=this.doc;return t.createRange?t.createRange():new s(this)},nodeIndex:f,split:function(t,e,i){function n(t){function e(t){var e=t.previousSibling&&"SPAN"==t.previousSibling.nodeName,i=t.nextSibling&&"SPAN"==t.nextSibling.nodeName;return e&&i}var i,o=t.childNodes,r=t.nodeType;if(1!=r||"bookmark"!=t.getAttribute("data-mce-type")){for(i=o.length-1;i>=0;i--)n(o[i]);if(9!=r){if(3==r&&t.nodeValue.length>0){var s=y(t.nodeValue).length;if(!a.isBlock(t.parentNode)||s>0||0===s&&e(t))return}else if(1==r&&(o=t.childNodes,1==o.length&&o[0]&&1==o[0].nodeType&&"bookmark"==o[0].getAttribute("data-mce-type")&&t.parentNode.insertBefore(o[0],t),o.length||/^(br|hr|input|img)$/i.test(t.nodeName)))return;a.remove(t)}return t}}var o,r,s,a=this,l=a.createRng();return t&&e?(l.setStart(t.parentNode,a.nodeIndex(t)),l.setEnd(e.parentNode,a.nodeIndex(e)),o=l.extractContents(),l=a.createRng(),l.setStart(e.parentNode,a.nodeIndex(e)+1),l.setEnd(t.parentNode,a.nodeIndex(t)+1),r=l.extractContents(),s=t.parentNode,s.insertBefore(n(o),t),i?s.insertBefore(i,t):s.insertBefore(e,t),s.insertBefore(n(r),t),a.remove(t),i||e):void 0},bind:function(t,e,i,n){var o=this;if(c.isArray(t)){for(var r=t.length;r--;)t[r]=o.bind(t[r],e,i,n);return t}return!o.settings.collect||t!==o.doc&&t!==o.win||o.boundEvents.push([t,e,i,n]),o.events.bind(t,e,i,n||o)},unbind:function(t,e,i){var n,o=this;if(c.isArray(t)){for(n=t.length;n--;)t[n]=o.unbind(t[n],e,i);return t}if(o.boundEvents&&(t===o.doc||t===o.win))for(n=o.boundEvents.length;n--;){var r=o.boundEvents[n];t!=r[0]||e&&e!=r[1]||i&&i!=r[2]||this.events.unbind(r[0],r[1],r[2])}return this.events.unbind(t,e,i)},fire:function(t,e,i){return this.events.fire(t,e,i)},getContentEditable:function(t){var e;return t&&1==t.nodeType?(e=t.getAttribute("data-mce-contenteditable"),e&&"inherit"!==e?e:"inherit"!==t.contentEditable?t.contentEditable:null):null},getContentEditableParent:function(t){for(var e=this.getRoot(),i=null;t&&t!==e&&(i=this.getContentEditable(t),null===i);t=t.parentNode);return i},destroy:function(){var e=this;if(e.boundEvents){for(var i=e.boundEvents.length;i--;){var n=e.boundEvents[i];this.events.unbind(n[0],n[1],n[2])}e.boundEvents=null}t.setDocument&&t.setDocument(),e.win=e.doc=e.root=e.events=e.frag=null},isChildOf:function(t,e){for(;t;){if(e===t)return!0;t=t.parentNode}return!1},dumpRng:function(t){return"startContainer: "+t.startContainer.nodeName+", startOffset: "+t.startOffset+", endContainer: "+t.endContainer.nodeName+", endOffset: "+t.endOffset},_findSib:function(t,e,i){var n=this,o=e;if(t)for("string"==typeof o&&(o=function(t){return n.is(t,e)}),t=t[i];t;t=t[i])if(o(t))return t;return null}},p.DOM=new p(document),p.nodeIndex=f,p}),/**
 * ScriptLoader.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/dom/ScriptLoader",["tinymce/dom/DOMUtils","tinymce/util/Tools"],function(t,e){function i(){function t(t,i){function o(){l.remove(a),s&&(s.onreadystatechange=s.onload=s=null),i()}function r(){"undefined"!=typeof console&&console.log&&console.log("Failed to load: "+t)}var s,a,l=n;a=l.uniqueId(),s=document.createElement("script"),s.id=a,s.type="text/javascript",s.src=e._addCacheSuffix(t),"onreadystatechange"in s?s.onreadystatechange=function(){/loaded|complete/.test(s.readyState)&&o()}:s.onload=o,s.onerror=r,(document.getElementsByTagName("head")[0]||document.body).appendChild(s)}var i,s=0,a=1,l=2,c={},u=[],d={},h=[],f=0;this.isDone=function(t){return c[t]==l},this.markDone=function(t){c[t]=l},this.add=this.load=function(t,e,n){var o=c[t];o==i&&(u.push(t),c[t]=s),e&&(d[t]||(d[t]=[]),d[t].push({func:e,scope:n||this}))},this.loadQueue=function(t,e){this.loadScripts(u,t,e)},this.loadScripts=function(e,n,s){function u(t){o(d[t],function(t){t.func.call(t.scope)}),d[t]=i}var p;h.push({func:n,scope:s||this}),(p=function(){var i=r(e);e.length=0,o(i,function(e){return c[e]==l?void u(e):void(c[e]!=a&&(c[e]=a,f++,t(e,function(){c[e]=l,f--,u(e),p()})))}),f||(o(h,function(t){t.func.call(t.scope)}),h.length=0)})()}}var n=t.DOM,o=e.each,r=e.grep;return i.ScriptLoader=new i,i}),/**
 * AddOnManager.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/AddOnManager",["tinymce/dom/ScriptLoader","tinymce/util/Tools"],function(t,i){function n(){var t=this;t.items=[],t.urls={},t.lookup={}}var o=i.each;return n.prototype={get:function(t){return this.lookup[t]?this.lookup[t].instance:e},dependencies:function(t){var e;return this.lookup[t]&&(e=this.lookup[t].dependencies),e||[]},requireLangPack:function(e,i){var o=n.language;if(o&&n.languageLoad!==!1){if(i)if(i=","+i+",",-1!=i.indexOf(","+o.substr(0,2)+","))o=o.substr(0,2);else if(-1==i.indexOf(","+o+","))return;t.ScriptLoader.add(this.urls[e]+"/langs/"+o+".js")}},add:function(t,e,i){return this.items.push(e),this.lookup[t]={instance:e,dependencies:i},e},createUrl:function(t,e){return"object"==typeof e?e:{prefix:t.prefix,resource:e,suffix:t.suffix}},addComponents:function(e,i){var n=this.urls[e];o(i,function(e){t.ScriptLoader.add(n+"/"+e)})},load:function(i,r,s,a){function l(){var n=c.dependencies(i);o(n,function(t){var i=c.createUrl(r,t);c.load(i.resource,i,e,e)}),s&&(a?s.call(a):s.call(t))}var c=this,u=r;c.urls[i]||("object"==typeof r&&(u=r.prefix+r.resource+r.suffix),0!==u.indexOf("/")&&-1==u.indexOf("://")&&(u=n.baseURL+"/"+u),c.urls[i]=u.substring(0,u.lastIndexOf("/")),c.lookup[i]?l():t.ScriptLoader.add(u,l,a))}},n.PluginManager=new n,n.ThemeManager=new n,n}),/**
 * NodeType.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/dom/NodeType",[],function(){function t(t){return function(e){return!!e&&e.nodeType==t}}function e(t){return t=t.toLowerCase().split(" "),function(e){var i,n;if(e&&e.nodeType)for(n=e.nodeName.toLowerCase(),i=0;i<t.length;i++)if(n===t[i])return!0;return!1}}function i(t,e){return e=e.toLowerCase().split(" "),function(i){var n,o;if(a(i))for(n=0;n<e.length;n++)if(o=getComputedStyle(i,null).getPropertyValue(t),o===e[n])return!0;return!1}}function n(t,e){return function(i){return a(i)&&i[t]===e}}function o(t,e){return function(i){return a(i)&&i.getAttribute(t)===e}}function r(t){return a(t)&&t.hasAttribute("data-mce-bogus")}function s(t){return function(e){if(a(e)){if(e.contentEditable===t)return!0;if(e.getAttribute("data-mce-contenteditable")===t)return!0}return!1}}var a=t(1);return{isText:t(3),isElement:a,isComment:t(8),isBr:e("br"),isContentEditableTrue:s("true"),isContentEditableFalse:s("false"),matchNodeNames:e,hasPropValue:n,hasAttributeValue:o,matchStyleValues:i,isBogus:r}}),/**
 * Zwsp.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/text/Zwsp",[],function(){function t(t){return t==i}function e(t){return t.replace(new RegExp(i,"g"),"")}var i="\u200b";return{isZwsp:t,ZWSP:i,trim:e}}),/**
 * CaretContainer.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/caret/CaretContainer",["tinymce/dom/NodeType","tinymce/text/Zwsp"],function(t,e){function i(t){return d(t)&&(t=t.parentNode),u(t)&&t.hasAttribute("data-mce-caret")}function n(t){return d(t)&&e.isZwsp(t.data)}function o(t){return i(t)||n(t)}function r(t,i){var n,r,s,a;if(n=t.ownerDocument,s=n.createTextNode(e.ZWSP),a=t.parentNode,i){if(r=t.previousSibling,d(r)){if(o(r))return r;if(c(r))return r.splitText(r.data.length-1)}a.insertBefore(s,t)}else{if(r=t.nextSibling,d(r)){if(o(r))return r;if(l(r))return r.splitText(1),r}t.nextSibling?a.insertBefore(s,t.nextSibling):a.appendChild(s)}return s}function s(t,e,i){var n,o,r;return n=e.ownerDocument,o=n.createElement(t),o.setAttribute("data-mce-caret",i?"before":"after"),o.setAttribute("data-mce-bogus","all"),o.appendChild(n.createTextNode("\xa0")),r=e.parentNode,i?r.insertBefore(o,e):e.nextSibling?r.insertBefore(o,e.nextSibling):r.appendChild(o),o}function a(t){var i;u(t)&&o(t)&&("&nbsp;"!=t.innerHTML?t.removeAttribute("data-mce-caret"):t.parentNode&&t.parentNode.removeChild(t)),d(t)&&(i=e.trim(t.data),0===i.length&&t.parentNode&&t.parentNode.removeChild(t),t.nodeValue=i)}function l(t){return d(t)&&t.data[0]==e.ZWSP}function c(t){return d(t)&&t.data[t.data.length-1]==e.ZWSP}var u=t.isElement,d=t.isText;return{isCaretContainer:o,isCaretContainerBlock:i,isCaretContainerInline:n,insertInline:r,insertBlock:s,remove:a,startsWithCaretContainer:l,endsWithCaretContainer:c}}),/**
 * RangeUtils.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/dom/RangeUtils",["tinymce/util/Tools","tinymce/dom/TreeWalker","tinymce/dom/NodeType","tinymce/caret/CaretContainer"],function(t,e,i,n){function o(t,e){var i=t.childNodes;return e--,e>i.length-1?e=i.length-1:0>e&&(e=0),i[e]||t}function r(t){this.walk=function(e,i){function n(t){var e;return e=t[0],3===e.nodeType&&e===g&&v>=e.nodeValue.length&&t.splice(0,1),e=t[t.length-1],0===b&&t.length>0&&e===y&&3===e.nodeType&&t.splice(t.length-1,1),t}function r(t,e,i){for(var n=[];t&&t!=i;t=t[e])n.push(t);return n}function s(t,e){do{if(t.parentNode==e)return t;t=t.parentNode}while(t)}function l(t,e,o){var s=o?"nextSibling":"previousSibling";for(h=t,f=h.parentNode;h&&h!=e;h=f)f=h.parentNode,p=r(h==t?h:h[s],s),p.length&&(o||p.reverse(),i(n(p)))}var c,u,d,h,f,p,m,g=e.startContainer,v=e.startOffset,y=e.endContainer,b=e.endOffset;if(m=t.select("td.mce-item-selected,th.mce-item-selected"),m.length>0)return void a(m,function(t){i([t])});if(1==g.nodeType&&g.hasChildNodes()&&(g=g.childNodes[v]),1==y.nodeType&&y.hasChildNodes()&&(y=o(y,b)),g==y)return i(n([g]));for(c=t.findCommonAncestor(g,y),h=g;h;h=h.parentNode){if(h===y)return l(g,c,!0);if(h===c)break}for(h=y;h;h=h.parentNode){if(h===g)return l(y,c);if(h===c)break}u=s(g,c)||g,d=s(y,c)||y,l(g,u,!0),p=r(u==g?u:u.nextSibling,"nextSibling",d==y?d.nextSibling:d),p.length&&i(n(p)),l(y,d)},this.split=function(t){function e(t,e){return t.splitText(e)}var i=t.startContainer,n=t.startOffset,o=t.endContainer,r=t.endOffset;return i==o&&3==i.nodeType?n>0&&n<i.nodeValue.length&&(o=e(i,n),i=o.previousSibling,r>n?(r-=n,i=o=e(o,r).previousSibling,r=o.nodeValue.length,n=0):r=0):(3==i.nodeType&&n>0&&n<i.nodeValue.length&&(i=e(i,n),n=0),3==o.nodeType&&r>0&&r<o.nodeValue.length&&(o=e(o,r).previousSibling,r=o.nodeValue.length)),{startContainer:i,startOffset:n,endContainer:o,endOffset:r}},this.normalize=function(i){function n(n){function s(t){return t&&/^(TD|TH|CAPTION)$/.test(t.nodeName)}function a(i,n){for(var o=new e(i,t.getParent(i.parentNode,t.isBlock)||x);i=o[n?"prev":"next"]();)if("BR"===i.nodeName)return!0}function u(t){for(;t&&t!=x;){if(l(t))return!0;t=t.parentNode}return!1}function d(t,e){return t.previousSibling&&t.previousSibling.nodeName==e}function h(i,n){var s,a,l;if(n=n||f,l=t.getParent(n.parentNode,t.isBlock)||x,i&&"BR"==n.nodeName&&b&&t.isEmpty(l))return f=n.parentNode,p=t.nodeIndex(n),void(o=!0);for(s=new e(n,l);g=s[i?"prev":"next"]();){if("false"===t.getContentEditableParent(g)||c(g))return;if(3===g.nodeType&&g.nodeValue.length>0)return f=g,p=i?g.nodeValue.length:0,void(o=!0);if(t.isBlock(g)||v[g.nodeName.toLowerCase()])return;a=g}r&&a&&(f=a,o=!0,p=0)}var f,p,m,g,v,y,b,x=t.getRoot();if(f=i[(n?"start":"end")+"Container"],p=i[(n?"start":"end")+"Offset"],b=1==f.nodeType&&p===f.childNodes.length,v=t.schema.getNonEmptyElements(),y=n,!c(f)){if(1==f.nodeType&&p>f.childNodes.length-1&&(y=!1),9===f.nodeType&&(f=t.getRoot(),p=0),f===x){if(y&&(g=f.childNodes[p>0?p-1:0])){if(c(g))return;if(v[g.nodeName]||"TABLE"==g.nodeName)return}if(f.hasChildNodes()){if(p=Math.min(!y&&p>0?p-1:p,f.childNodes.length-1),f=f.childNodes[p],p=0,u(f)||c(f))return;if(f.hasChildNodes()&&!/TABLE/.test(f.nodeName)){g=f,m=new e(f,x);do{if(l(g)||c(g)){o=!1;break}if(3===g.nodeType&&g.nodeValue.length>0){p=y?0:g.nodeValue.length,f=g,o=!0;break}if(v[g.nodeName.toLowerCase()]&&!s(g)){p=t.nodeIndex(g),f=g.parentNode,"IMG"!=g.nodeName||y||p++,o=!0;break}}while(g=y?m.next():m.prev())}}}r&&(3===f.nodeType&&0===p&&h(!0),1===f.nodeType&&(g=f.childNodes[p],g||(g=f.childNodes[p-1]),!g||"BR"!==g.nodeName||d(g,"A")||a(g)||a(g,!0)||h(!0,g))),y&&!r&&3===f.nodeType&&p===f.nodeValue.length&&h(!1),o&&i["set"+(n?"Start":"End")](f,p)}}var o,r;return r=i.collapsed,n(!0),r||n(),o&&r&&i.collapse(!0),o}}function s(e,i,n){var o,r,s;if(o=n.elementFromPoint(e,i),r=n.body.createTextRange(),"HTML"==o.tagName&&(o=n.body),r.moveToElementText(o),s=t.toArray(r.getClientRects()),s=s.sort(function(t,e){return t=Math.abs(Math.max(t.top-i,t.bottom-i)),e=Math.abs(Math.max(e.top-i,e.bottom-i)),t-e}),s.length>0){i=(s[0].bottom+s[0].top)/2;try{return r.moveToPoint(e,i),r.collapse(!0),r}catch(a){}}return null}var a=t.each,l=i.isContentEditableFalse,c=n.isCaretContainer;return r.compareRanges=function(t,e){if(t&&e){if(!t.item&&!t.duplicate)return t.startContainer==e.startContainer&&t.startOffset==e.startOffset;if(t.item&&e.item&&t.item(0)===e.item(0))return!0;if(t.isEqual&&e.isEqual&&e.isEqual(t))return!0}return!1},r.getCaretRangeFromPoint=function(t,e,i){var n,o;if(i.caretPositionFromPoint)o=i.caretPositionFromPoint(t,e),n=i.createRange(),n.setStart(o.offsetNode,o.offset),n.collapse(!0);else if(i.caretRangeFromPoint)n=i.caretRangeFromPoint(t,e);else if(i.body.createTextRange){n=i.body.createTextRange();try{n.moveToPoint(t,e),n.collapse(!0)}catch(r){n=s(t,e,i)}}return n},r.getSelectedNode=function(t){var e=t.startContainer,i=t.startOffset;return e.hasChildNodes()&&t.endOffset==i+1?e.childNodes[i]:null},r.getNode=function(t,e){return 1==t.nodeType&&t.hasChildNodes()&&(e>=t.childNodes.length&&(e=t.childNodes.length-1),t=t.childNodes[e]),t},r}),/**
 * NodeChange.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/NodeChange",["tinymce/dom/RangeUtils","tinymce/Env","tinymce/util/Delay"],function(t,e,i){return function(n){function o(t){var e,i;if(i=n.$(t).parentsUntil(n.getBody()).add(t),i.length===s.length){for(e=i.length;e>=0&&i[e]===s[e];e--);if(-1===e)return s=i,!0}return s=i,!1}var r,s=[];"onselectionchange"in n.getDoc()||n.on("NodeChange Click MouseUp KeyUp Focus",function(e){var i,o;i=n.selection.getRng(),o={startContainer:i.startContainer,startOffset:i.startOffset,endContainer:i.endContainer,endOffset:i.endOffset},"nodechange"!=e.type&&t.compareRanges(o,r)||n.fire("SelectionChange"),r=o}),n.on("contextmenu",function(){n.fire("SelectionChange")}),n.on("SelectionChange",function(){var t=n.selection.getStart(!0);(e.range||!n.selection.isCollapsed())&&!o(t)&&n.dom.isChildOf(t,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("MouseUp",function(t){t.isDefaultPrevented()||("IMG"==n.selection.getNode().nodeName?i.setEditorTimeout(n,function(){n.nodeChanged()}):n.nodeChanged())}),this.nodeChanged=function(t){var e,i,o,r=n.selection;n.initialized&&r&&!n.settings.disable_nodechange&&!n.readonly&&(o=n.getBody(),e=r.getStart()||o,e=e.ownerDocument!=n.getDoc()?n.getBody():e,"IMG"==e.nodeName&&r.isCollapsed()&&(e=e.parentNode),i=[],n.dom.getParent(e,function(t){return t===o?!0:void i.push(t)}),t=t||{},t.element=e,t.parents=i,n.fire("NodeChange",t))}}}),/**
 * Node.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/html/Node",[],function(){function t(t,e,i){var n,o,r=i?"lastChild":"firstChild",s=i?"prev":"next";if(t[r])return t[r];if(t!==e){if(n=t[s])return n;for(o=t.parent;o&&o!==e;o=o.parent)if(n=o[s])return n}}function e(t,e){this.name=t,this.type=e,1===e&&(this.attributes=[],this.attributes.map={})}var i=/^[ \t\r\n]*$/,n={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};return e.prototype={replace:function(t){var e=this;return t.parent&&t.remove(),e.insert(t,e),e.remove(),e},attr:function(t,e){var i,n,o,r=this;if("string"!=typeof t){for(n in t)r.attr(n,t[n]);return r}if(i=r.attributes){if(e!==o){if(null===e){if(t in i.map)for(delete i.map[t],n=i.length;n--;)if(i[n].name===t)return i=i.splice(n,1),r;return r}if(t in i.map){for(n=i.length;n--;)if(i[n].name===t){i[n].value=e;break}}else i.push({name:t,value:e});return i.map[t]=e,r}return i.map[t]}},clone:function(){var t,i,n,o,r,s=this,a=new e(s.name,s.type);if(n=s.attributes){for(r=[],r.map={},t=0,i=n.length;i>t;t++)o=n[t],"id"!==o.name&&(r[r.length]={name:o.name,value:o.value},r.map[o.name]=o.value);a.attributes=r}return a.value=s.value,a.shortEnded=s.shortEnded,a},wrap:function(t){var e=this;return e.parent.insert(t,e),t.append(e),e},unwrap:function(){var t,e,i=this;for(t=i.firstChild;t;)e=t.next,i.insert(t,i,!0),t=e;i.remove()},remove:function(){var t=this,e=t.parent,i=t.next,n=t.prev;return e&&(e.firstChild===t?(e.firstChild=i,i&&(i.prev=null)):n.next=i,e.lastChild===t?(e.lastChild=n,n&&(n.next=null)):i.prev=n,t.parent=t.next=t.prev=null),t},append:function(t){var e,i=this;return t.parent&&t.remove(),e=i.lastChild,e?(e.next=t,t.prev=e,i.lastChild=t):i.lastChild=i.firstChild=t,t.parent=i,t},insert:function(t,e,i){var n;return t.parent&&t.remove(),n=e.parent||this,i?(e===n.firstChild?n.firstChild=t:e.prev.next=t,t.prev=e.prev,t.next=e,e.prev=t):(e===n.lastChild?n.lastChild=t:e.next.prev=t,t.next=e.next,t.prev=e,e.next=t),t.parent=n,t},getAll:function(e){var i,n=this,o=[];for(i=n.firstChild;i;i=t(i,n))i.name===e&&o.push(i);return o},empty:function(){var e,i,n,o=this;if(o.firstChild){for(e=[],n=o.firstChild;n;n=t(n,o))e.push(n);for(i=e.length;i--;)n=e[i],n.parent=n.firstChild=n.lastChild=n.next=n.prev=null}return o.firstChild=o.lastChild=null,o},isEmpty:function(e){var n,o,r=this,s=r.firstChild;if(s)do{if(1===s.type){if(s.attributes.map["data-mce-bogus"])continue;if(e[s.name])return!1;for(n=s.attributes.length;n--;)if(o=s.attributes[n].name,"name"===o||0===o.indexOf("data-mce-bookmark"))return!1}if(8===s.type)return!1;if(3===s.type&&!i.test(s.value))return!1}while(s=t(s,r));return!0},walk:function(e){return t(this,null,e)}},e.create=function(t,i){var o,r;if(o=new e(t,n[t]||1),i)for(r in i)o.attr(r,i[r]);return o},e}),/**
 * Schema.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/html/Schema",["tinymce/util/Tools"],function(t){function e(t,e){return t?t.split(e||" "):[]}function i(t){function i(t,i,n){function o(t,e){var i,n,o={};for(i=0,n=t.length;n>i;i++)o[t[i]]=e||{};return o}var a,l,c,u=arguments;for(n=n||[],i=i||"","string"==typeof n&&(n=e(n)),l=3;l<u.length;l++)"string"==typeof u[l]&&(u[l]=e(u[l])),n.push.apply(n,u[l]);for(t=e(t),a=t.length;a--;)c=[].concat(s,e(i)),f[t[a]]={attributes:o(c),attributesOrder:c,children:o(n,r)}}function n(t,i){var n,o,r,s;for(t=e(t),n=t.length,i=e(i);n--;)for(o=f[t[n]],r=0,s=i.length;s>r;r++)o.attributes[i[r]]={},o.attributesOrder.push(i[r])}var s,l,c,u,d,h,f={};return o[t]?o[t]:(s=e("id accesskey class dir lang style tabindex title"),l=e("address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul"),c=e("a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment"),"html4"!=t&&(s.push.apply(s,e("contenteditable contextmenu draggable dropzone hidden spellcheck translate")),l.push.apply(l,e("article aside details dialog figure header footer hgroup section nav")),c.push.apply(c,e("audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"))),"html5-strict"!=t&&(s.push("xml:lang"),h=e("acronym applet basefont big font strike tt"),c.push.apply(c,h),a(h,function(t){i(t,"",c)}),d=e("center dir isindex noframes"),l.push.apply(l,d),u=[].concat(l,c),a(d,function(t){i(t,"",u)})),u=u||[].concat(l,c),i("html","manifest","head body"),i("head","","base command link meta noscript script style title"),i("title hr noscript br"),i("base","href target"),i("link","href rel media hreflang type sizes hreflang"),i("meta","name http-equiv content charset"),i("style","media type scoped"),i("script","src async defer type charset"),i("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",u),i("address dt dd div caption","",u),i("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",c),i("blockquote","cite",u),i("ol","reversed start type","li"),i("ul","","li"),i("li","value",u),i("dl","","dt dd"),i("a","href target rel media hreflang type",c),i("q","cite",c),i("ins del","cite datetime",u),i("img","src sizes srcset alt usemap ismap width height"),i("iframe","src name width height",u),i("embed","src type width height"),i("object","data type typemustmatch name usemap form width height",u,"param"),i("param","name value"),i("map","name",u,"area"),i("area","alt coords shape href target rel media hreflang type"),i("table","border","caption colgroup thead tfoot tbody tr"+("html4"==t?" col":"")),i("colgroup","span","col"),i("col","span"),i("tbody thead tfoot","","tr"),i("tr","","td th"),i("td","colspan rowspan headers",u),i("th","colspan rowspan headers scope abbr",u),i("form","accept-charset action autocomplete enctype method name novalidate target",u),i("fieldset","disabled form name",u,"legend"),i("label","form for",c),i("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),i("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==t?u:c),i("select","disabled form multiple name required size","option optgroup"),i("optgroup","disabled label","option"),i("option","disabled label selected value"),i("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),i("menu","type label",u,"li"),i("noscript","",u),"html4"!=t&&(i("wbr"),i("ruby","",c,"rt rp"),i("figcaption","",u),i("mark rt rp summary bdi","",c),i("canvas","width height",u),i("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",u,"track source"),i("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",u,"track source"),i("picture","","img source"),i("source","src srcset type media sizes"),i("track","kind src srclang label default"),i("datalist","",c,"option"),i("article section nav aside header footer","",u),i("hgroup","","h1 h2 h3 h4 h5 h6"),i("figure","",u,"figcaption"),i("time","datetime",c),i("dialog","open",u),i("command","type label icon disabled checked radiogroup command"),i("output","for form name",c),i("progress","value max",c),i("meter","value min max low high optimum",c),i("details","open",u,"summary"),i("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=t&&(n("script","language xml:space"),n("style","xml:space"),n("object","declare classid code codebase codetype archive standby align border hspace vspace"),n("embed","align name hspace vspace"),n("param","valuetype type"),n("a","charset name rev shape coords"),n("br","clear"),n("applet","codebase archive code object alt name width height align hspace vspace"),n("img","name longdesc align border hspace vspace"),n("iframe","longdesc frameborder marginwidth marginheight scrolling align"),n("font basefont","size color face"),n("input","usemap align"),n("select","onchange"),n("textarea"),n("h1 h2 h3 h4 h5 h6 div p legend caption","align"),n("ul","type compact"),n("li","type"),n("ol dl menu dir","compact"),n("pre","width xml:space"),n("hr","align noshade size width"),n("isindex","prompt"),n("table","summary width frame rules cellspacing cellpadding align bgcolor"),n("col","width align char charoff valign"),n("colgroup","width align char charoff valign"),n("thead","align char charoff valign"),n("tr","align char charoff valign bgcolor"),n("th","axis align char charoff valign nowrap bgcolor width height"),n("form","accept"),n("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),n("tfoot","align char charoff valign"),n("tbody","align char charoff valign"),n("area","nohref"),n("body","background bgcolor text link vlink alink")),"html4"!=t&&(n("input button select textarea","autofocus"),n("input textarea","placeholder"),n("a","download"),n("link script img","crossorigin"),n("iframe","sandbox seamless allowfullscreen")),a(e("a form meter progress dfn"),function(t){f[t]&&delete f[t].children[t]}),delete f.caption.children.table,delete f.script,o[t]=f,f)}function n(t,e){var i;return t&&(i={},"string"==typeof t&&(t={"*":t}),a(t,function(t,n){i[n]=i[n.toUpperCase()]="map"==e?s(t,/[, ]/):c(t,/[, ]/)})),i}var o={},r={},s=t.makeMap,a=t.each,l=t.extend,c=t.explode,u=t.inArray;return function(t){function r(e,i,n){var r=t[e];return r?r=s(r,/[, ]/,s(r.toUpperCase(),/[, ]/)):(r=o[e],r||(r=s(i," ",s(i.toUpperCase()," ")),r=l(r,n),o[e]=r)),r}function d(t){return new RegExp("^"+t.replace(/([?+*])/g,".$1")+"$")}function h(t){var i,n,o,r,a,l,c,h,f,p,m,g,v,y,b,x,_,w,C,k=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,T=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,S=/[*?+]/;if(t)for(t=e(t,","),A["@"]&&(x=A["@"].attributes,_=A["@"].attributesOrder),i=0,n=t.length;n>i;i++)if(a=k.exec(t[i])){if(y=a[1],f=a[2],b=a[3],h=a[5],g={},v=[],l={attributes:g,attributesOrder:v},"#"===y&&(l.paddEmpty=!0),"-"===y&&(l.removeEmpty=!0),"!"===a[4]&&(l.removeEmptyAttrs=!0),x){for(w in x)g[w]=x[w];v.push.apply(v,_)}if(h)for(h=e(h,"|"),o=0,r=h.length;r>o;o++)if(a=T.exec(h[o])){if(c={},m=a[1],p=a[2].replace(/::/g,":"),y=a[3],C=a[4],"!"===m&&(l.attributesRequired=l.attributesRequired||[],l.attributesRequired.push(p),c.required=!0),"-"===m){delete g[p],v.splice(u(v,p),1);continue}y&&("="===y&&(l.attributesDefault=l.attributesDefault||[],l.attributesDefault.push({name:p,value:C}),c.defaultValue=C),":"===y&&(l.attributesForced=l.attributesForced||[],l.attributesForced.push({name:p,value:C}),c.forcedValue=C),"<"===y&&(c.validValues=s(C,"?"))),S.test(p)?(l.attributePatterns=l.attributePatterns||[],c.pattern=d(p),l.attributePatterns.push(c)):(g[p]||v.push(p),g[p]=c)}x||"@"!=f||(x=g,_=v),b&&(l.outputName=f,A[b]=l),S.test(f)?(l.pattern=d(f),I.push(l)):A[f]=l}}function f(t){A={},I=[],h(t),a(b,function(t,e){M[e]=t.children})}function p(t){var i=/^(~)?(.+)$/;t&&(o.text_block_elements=o.block_elements=null,a(e(t,","),function(t){var e=i.exec(t),n="~"===e[1],o=n?"span":"div",r=e[2];if(M[r]=M[o],$[r]=o,n||(T[r.toUpperCase()]={},T[r]={}),!A[r]){var s=A[o];s=l({},s),delete s.removeEmptyAttrs,delete s.removeEmpty,A[r]=s}a(M,function(t,e){t[o]&&(M[e]=t=l({},M[e]),t[r]=t[o])})}))}function m(i){var n=/^([+\-]?)(\w+)\[([^\]]+)\]$/;o[t.schema]=null,i&&a(e(i,","),function(t){var i,o,r=n.exec(t);r&&(o=r[1],i=o?M[r[2]]:M[r[2]]={"#comment":{}},i=M[r[2]],a(e(r[3],"|"),function(t){"-"===o?delete i[t]:i[t]={}}))})}function g(t){var e,i=A[t];if(i)return i;for(e=I.length;e--;)if(i=I[e],i.pattern.test(t))return i}var v,y,b,x,_,w,C,k,T,S,N,D,E,P=this,A={},M={},I=[],$={},R={};t=t||{},b=i(t.schema),t.verify_html===!1&&(t.valid_elements="*[*]"),v=n(t.valid_styles),y=n(t.invalid_styles,"map"),k=n(t.valid_classes,"map"),x=r("whitespace_elements","pre script noscript style textarea video audio iframe object"),_=r("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),w=r("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),C=r("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),S=r("non_empty_elements","td th iframe video audio object script",w),N=r("move_caret_before_on_enter_elements","table",S),D=r("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),T=r("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption",D),E=r("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),a((t.special||"script noscript style textarea").split(" "),function(t){R[t]=new RegExp("</"+t+"[^>]*>","gi")}),t.valid_elements?f(t.valid_elements):(a(b,function(t,e){A[e]={attributes:t.attributes,attributesOrder:t.attributesOrder},M[e]=t.children}),"html5"!=t.schema&&a(e("strong/b em/i"),function(t){t=e(t,"/"),A[t[1]].outputName=t[0]}),A.img.attributesDefault=[{name:"alt",value:""}],a(e("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(t){A[t]&&(A[t].removeEmpty=!0)}),a(e("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(t){A[t].paddEmpty=!0}),a(e("span"),function(t){A[t].removeEmptyAttrs=!0})),p(t.custom_elements),m(t.valid_children),h(t.extended_valid_elements),m("+ol[ul|ol],+ul[ul|ol]"),t.invalid_elements&&a(c(t.invalid_elements),function(t){A[t]&&delete A[t]}),g("span")||h("span[!data-mce-type|*]"),P.children=M,P.getValidStyles=function(){return v},P.getInvalidStyles=function(){return y},P.getValidClasses=function(){return k},P.getBoolAttrs=function(){return C},P.getBlockElements=function(){return T},P.getTextBlockElements=function(){return D},P.getTextInlineElements=function(){return E},P.getShortEndedElements=function(){return w},P.getSelfClosingElements=function(){return _},P.getNonEmptyElements=function(){return S},P.getMoveCaretBeforeOnEnterElements=function(){return N},P.getWhiteSpaceElements=function(){return x},P.getSpecialElements=function(){return R},P.isValidChild=function(t,e){var i=M[t];return!(!i||!i[e])},P.isValid=function(t,e){var i,n,o=g(t);if(o){if(!e)return!0;if(o.attributes[e])return!0;if(i=o.attributePatterns)for(n=i.length;n--;)if(i[n].pattern.test(t))return!0}return!1},P.getElementRule=g,P.getCustomElements=function(){return $},P.addValidElements=h,P.setValidElements=f,P.addCustomElements=p,P.addValidChildren=m,P.elements=A}}),/**
 * SaxParser.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/html/SaxParser",["tinymce/html/Schema","tinymce/html/Entities","tinymce/util/Tools"],function(t,e,i){function n(t,e,i){var n,o,r,s,a=1;for(s=t.getShortEndedElements(),r=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g,r.lastIndex=n=i;o=r.exec(e);){if(n=r.lastIndex,"/"===o[1])a--;else if(!o[1]){if(o[2]in s)continue;a++}if(0===a)break}return n}function o(o,s){function a(){}var l=this;o=o||{},l.schema=s=s||new t,o.fix_self_closing!==!1&&(o.fix_self_closing=!0),r("comment cdata text start end pi doctype".split(" "),function(t){t&&(l[t]=o[t]||a)}),l.parse=function(t){function r(t){var e,i;for(e=H.length;e--&&H[e].name!==t;);if(e>=0){for(i=H.length-1;i>=e;i--)t=H[i],t.valid&&L.end(t.name);H.length=e}}function a(t,e,i,n,r){var s,a,l=/[\s\u0000-\u001F]+/g;if(e=e.toLowerCase(),i=e in y?e:z(i||n||r||""),x&&!m&&0!==e.indexOf("data-")){if(s=T[e],!s&&S){for(a=S.length;a--&&(s=S[a],!s.pattern.test(e)););-1===a&&(s=null)}if(!s)return;if(s.validValues&&!(i in s.validValues))return}if(W[e]&&!o.allow_script_urls){var c=i.replace(l,"");try{c=decodeURIComponent(c)}catch(u){c=unescape(c)}if(j.test(c))return;if(!o.allow_html_data_urls&&V.test(c)&&!/^data:image\//i.test(c))return}d.map[e]=i,d.push({name:e,value:i})}var l,c,u,d,h,f,p,m,g,v,y,b,x,_,w,C,k,T,S,N,D,E,P,A,M,I,$,R,O,L=this,F=0,H=[],B=0,z=e.decode,W=i.makeMap("src,href,data,background,formaction,poster"),j=/((java|vb)script|mhtml):/i,V=/^data:/i;for(M=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),I=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,v=s.getShortEndedElements(),A=o.self_closing_elements||s.getSelfClosingElements(),y=s.getBoolAttrs(),x=o.validate,g=o.remove_internals,O=o.fix_self_closing,$=s.getSpecialElements();l=M.exec(t);){if(F<l.index&&L.text(z(t.substr(F,l.index-F))),c=l[6])c=c.toLowerCase(),":"===c.charAt(0)&&(c=c.substr(1)),r(c);else if(c=l[7]){if(c=c.toLowerCase(),":"===c.charAt(0)&&(c=c.substr(1)),b=c in v,O&&A[c]&&H.length>0&&H[H.length-1].name===c&&r(c),!x||(_=s.getElementRule(c))){if(w=!0,x&&(T=_.attributes,S=_.attributePatterns),(k=l[8])?(m=-1!==k.indexOf("data-mce-type"),m&&g&&(w=!1),d=[],d.map={},k.replace(I,a)):(d=[],d.map={}),x&&!m){if(N=_.attributesRequired,D=_.attributesDefault,E=_.attributesForced,P=_.removeEmptyAttrs,P&&!d.length&&(w=!1),E)for(h=E.length;h--;)C=E[h],p=C.name,R=C.value,"{$uid}"===R&&(R="mce_"+B++),d.map[p]=R,d.push({name:p,value:R});if(D)for(h=D.length;h--;)C=D[h],p=C.name,p in d.map||(R=C.value,"{$uid}"===R&&(R="mce_"+B++),d.map[p]=R,d.push({name:p,value:R}));if(N){for(h=N.length;h--&&!(N[h]in d.map););-1===h&&(w=!1)}if(C=d.map["data-mce-bogus"]){if("all"===C){F=n(s,t,M.lastIndex),M.lastIndex=F;continue}w=!1}}w&&L.start(c,d,b)}else w=!1;if(u=$[c]){u.lastIndex=F=l.index+l[0].length,(l=u.exec(t))?(w&&(f=t.substr(F,l.index-F)),F=l.index+l[0].length):(f=t.substr(F),F=t.length),w&&(f.length>0&&L.text(f,!0),L.end(c)),M.lastIndex=F;continue}b||(k&&k.indexOf("/")==k.length-1?w&&L.end(c):H.push({name:c,valid:w}))}else(c=l[1])?(">"===c.charAt(0)&&(c=" "+c),o.allow_conditional_comments||"[if"!==c.substr(0,3)||(c=" "+c),L.comment(c)):(c=l[2])?L.cdata(c):(c=l[3])?L.doctype(c):(c=l[4])&&L.pi(c,l[5]);F=l.index+l[0].length}for(F<t.length&&L.text(z(t.substr(F))),h=H.length-1;h>=0;h--)c=H[h],c.valid&&L.end(c.name)}}var r=i.each;return o.findEndTag=n,o}),/**
 * DomParser.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/html/DomParser",["tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/util/Tools"],function(t,e,i,n){var o=n.makeMap,r=n.each,s=n.explode,a=n.extend;return function(n,l){function c(e){var i,n,r,s,a,c,d,h,f,p,m,g,v,y,b;for(m=o("tr,td,th,tbody,thead,tfoot,table"),p=l.getNonEmptyElements(),g=l.getTextBlockElements(),v=l.getSpecialElements(),i=0;i<e.length;i++)if(n=e[i],n.parent&&!n.fixed)if(g[n.name]&&"li"==n.parent.name){for(y=n.next;y&&g[y.name];)y.name="li",y.fixed=!0,n.parent.insert(y,n.parent),y=y.next;n.unwrap(n)}else{for(s=[n],r=n.parent;r&&!l.isValidChild(r.name,n.name)&&!m[r.name];r=r.parent)s.push(r);if(r&&s.length>1){for(s.reverse(),a=c=u.filterNode(s[0].clone()),f=0;f<s.length-1;f++){for(l.isValidChild(c.name,s[f].name)?(d=u.filterNode(s[f].clone()),c.append(d)):d=c,h=s[f].firstChild;h&&h!=s[f+1];)b=h.next,d.append(h),h=b;c=d}a.isEmpty(p)?r.insert(n,s[0],!0):(r.insert(a,s[0],!0),r.insert(n,a)),r=s[0],(r.isEmpty(p)||r.firstChild===r.lastChild&&"br"===r.firstChild.name)&&r.empty().remove()}else if(n.parent){if("li"===n.name){if(y=n.prev,y&&("ul"===y.name||"ul"===y.name)){y.append(n);continue}if(y=n.next,y&&("ul"===y.name||"ul"===y.name)){y.insert(n,y.firstChild,!0);continue}n.wrap(u.filterNode(new t("ul",1)));continue}l.isValidChild(n.parent.name,"div")&&l.isValidChild("div",n.name)?n.wrap(u.filterNode(new t("div",1))):v[n.name]?n.empty().remove():n.unwrap()}}}var u=this,d={},h=[],f={},p={};n=n||{},n.validate="validate"in n?n.validate:!0,n.root_name=n.root_name||"body",u.schema=l=l||new e,u.filterNode=function(t){var e,i,n;i in d&&(n=f[i],n?n.push(t):f[i]=[t]),e=h.length;for(;e--;)i=h[e].name,i in t.attributes.map&&(n=p[i],n?n.push(t):p[i]=[t]);return t},u.addNodeFilter=function(t,e){r(s(t),function(t){var i=d[t];i||(d[t]=i=[]),i.push(e)})},u.addAttributeFilter=function(t,e){r(s(t),function(t){var i;for(i=0;i<h.length;i++)if(h[i].name===t)return void h[i].callbacks.push(e);h.push({name:t,callbacks:[e]})})},u.parse=function(e,r){function s(){function t(t){t&&(o=t.firstChild,o&&3==o.type&&(o.value=o.value.replace(E,"")),o=t.lastChild,o&&3==o.type&&(o.value=o.value.replace(A,"")))}var e,i,o=y.firstChild;if(l.isValidChild(y.name,L.toLowerCase())){for(;o;)e=o.next,3==o.type||1==o.type&&"p"!==o.name&&!D[o.name]&&!o.attr("data-mce-type")?i?i.append(o):(i=u(L,1),i.attr(n.forced_root_block_attrs),y.insert(i,o),i.append(o)):(t(i),i=null),o=e;t(i)}}function u(e,i){var n,o=new t(e,i);return e in d&&(n=f[e],n?n.push(o):f[e]=[o]),o}function m(t){var e,i,n,o,r=l.getBlockElements();for(e=t.prev;e&&3===e.type;){if(n=e.value.replace(A,""),n.length>0)return void(e.value=n);if(i=e.next){if(3==i.type&&i.value.length){e=e.prev;continue}if(!r[i.name]&&"script"!=i.name&&"style"!=i.name){e=e.prev;continue}}o=e.prev,e.remove(),e=o}}function g(t){var e,i={};for(e in t)"li"!==e&&"p"!=e&&(i[e]=t[e]);return i}var v,y,b,x,_,w,C,k,T,S,N,D,E,P,A,M,I,$,R,O,L,F=[];if(r=r||{},f={},p={},D=a(o("script,style,head,html,body,title,meta,param"),l.getBlockElements()),O=l.getNonEmptyElements(),R=l.children,N=n.validate,L="forced_root_block"in r?r.forced_root_block:n.forced_root_block,$=l.getWhiteSpaceElements(),E=/^[ \t\r\n]+/,A=/[ \t\r\n]+$/,M=/[ \t\r\n]+/g,I=/^[ \t\r\n]+$/,v=new i({validate:N,allow_script_urls:n.allow_script_urls,allow_conditional_comments:n.allow_conditional_comments,self_closing_elements:g(l.getSelfClosingElements()),cdata:function(t){b.append(u("#cdata",4)).value=t},text:function(t,e){var i;P||(t=t.replace(M," "),b.lastChild&&D[b.lastChild.name]&&(t=t.replace(E,""))),0!==t.length&&(i=u("#text",3),i.raw=!!e,b.append(i).value=t)},comment:function(t){b.append(u("#comment",8)).value=t},pi:function(t,e){b.append(u(t,7)).value=e,m(b)},doctype:function(t){var e;e=b.append(u("#doctype",10)),e.value=t,m(b)},start:function(t,e,i){var n,o,r,s,a;if(r=N?l.getElementRule(t):{}){for(n=u(r.outputName||t,1),n.attributes=e,n.shortEnded=i,b.append(n),a=R[b.name],a&&R[n.name]&&!a[n.name]&&F.push(n),o=h.length;o--;)s=h[o].name,s in e.map&&(T=p[s],T?T.push(n):p[s]=[n]);D[t]&&m(n),i||(b=n),!P&&$[t]&&(P=!0)}},end:function(e){var i,n,o,r,s;if(n=N?l.getElementRule(e):{}){if(D[e]&&!P){if(i=b.firstChild,i&&3===i.type)if(o=i.value.replace(E,""),o.length>0)i.value=o,i=i.next;else for(r=i.next,i.remove(),i=r;i&&3===i.type;)o=i.value,r=i.next,(0===o.length||I.test(o))&&(i.remove(),i=r),i=r;if(i=b.lastChild,i&&3===i.type)if(o=i.value.replace(A,""),o.length>0)i.value=o,i=i.prev;else for(r=i.prev,i.remove(),i=r;i&&3===i.type;)o=i.value,r=i.prev,(0===o.length||I.test(o))&&(i.remove(),i=r),i=r}if(P&&$[e]&&(P=!1),(n.removeEmpty||n.paddEmpty)&&b.isEmpty(O))if(n.paddEmpty)b.empty().append(new t("#text","3")).value="\xa0";else if(!b.attributes.map.name&&!b.attributes.map.id)return s=b.parent,D[b.name]?b.empty().remove():b.unwrap(),void(b=s);b=b.parent}}},l),y=b=new t(r.context||n.root_name,11),v.parse(e),N&&F.length&&(r.context?r.invalid=!0:c(F)),L&&("body"==y.name||r.isRootContent)&&s(),!r.invalid){for(S in f){for(T=d[S],x=f[S],C=x.length;C--;)x[C].parent||x.splice(C,1);for(_=0,w=T.length;w>_;_++)T[_](x,S,r)}for(_=0,w=h.length;w>_;_++)if(T=h[_],T.name in p){for(x=p[T.name],C=x.length;C--;)x[C].parent||x.splice(C,1);for(C=0,k=T.callbacks.length;k>C;C++)T.callbacks[C](x,T.name,r)}}return y},n.remove_trailing_brs&&u.addNodeFilter("br",function(e){var i,n,o,r,s,c,u,d,h=e.length,f=a({},l.getBlockElements()),p=l.getNonEmptyElements();for(f.body=1,i=0;h>i;i++)if(n=e[i],o=n.parent,f[n.parent.name]&&n===o.lastChild){for(s=n.prev;s;){if(c=s.name,"span"!==c||"bookmark"!==s.attr("data-mce-type")){if("br"!==c)break;if("br"===c){n=null;break}}s=s.prev}n&&(n.remove(),o.isEmpty(p)&&(u=l.getElementRule(o.name),u&&(u.removeEmpty?o.remove():u.paddEmpty&&(o.empty().append(new t("#text",3)).value="\xa0"))))}else{for(r=n;o&&o.firstChild===r&&o.lastChild===r&&(r=o,!f[o.name]);)o=o.parent;r===o&&(d=new t("#text",3),d.value="\xa0",n.replace(d))}}),n.allow_html_in_named_anchor||u.addAttributeFilter("id,name",function(t){for(var e,i,n,o,r=t.length;r--;)if(o=t[r],"a"===o.name&&o.firstChild&&!o.attr("href")){n=o.parent,e=o.lastChild;do i=e.prev,n.insert(e,o),e=i;while(e)}}),n.validate&&l.getValidClasses()&&u.addAttributeFilter("class",function(t){for(var e,i,n,o,r,s,a,c=t.length,u=l.getValidClasses();c--;){for(e=t[c],i=e.attr("class").split(" "),r="",n=0;n<i.length;n++)o=i[n],a=!1,s=u["*"],s&&s[o]&&(a=!0),s=u[e.name],!a&&s&&s[o]&&(a=!0),a&&(r&&(r+=" "),r+=o);r.length||(r=null),e.attr("class",r)}})}}),/**
 * Writer.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/html/Writer",["tinymce/html/Entities","tinymce/util/Tools"],function(t,e){var i=e.makeMap;return function(e){var n,o,r,s,a,l=[];return e=e||{},n=e.indent,o=i(e.indent_before||""),r=i(e.indent_after||""),s=t.getEncodeFunc(e.entity_encoding||"raw",e.entities),a="html"==e.element_format,{start:function(t,e,i){var c,u,d,h;if(n&&o[t]&&l.length>0&&(h=l[l.length-1],h.length>0&&"\n"!==h&&l.push("\n")),l.push("<",t),e)for(c=0,u=e.length;u>c;c++)d=e[c],l.push(" ",d.name,'="',s(d.value,!0),'"');!i||a?l[l.length]=">":l[l.length]=" />",i&&n&&r[t]&&l.length>0&&(h=l[l.length-1],h.length>0&&"\n"!==h&&l.push("\n"))},end:function(t){var e;l.push("</",t,">"),n&&r[t]&&l.length>0&&(e=l[l.length-1],e.length>0&&"\n"!==e&&l.push("\n"))},text:function(t,e){t.length>0&&(l[l.length]=e?t:s(t))},cdata:function(t){l.push("<![CDATA[",t,"]]>")},comment:function(t){l.push("<!--",t,"-->")},pi:function(t,e){e?l.push("<?",t," ",s(e),"?>"):l.push("<?",t,"?>"),n&&l.push("\n")},doctype:function(t){l.push("<!DOCTYPE",t,">",n?"\n":"")},reset:function(){l.length=0},getContent:function(){return l.join("").replace(/\n$/,"")}}}}),/**
 * Serializer.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/html/Serializer",["tinymce/html/Writer","tinymce/html/Schema"],function(t,e){return function(i,n){var o=this,r=new t(i);i=i||{},i.validate="validate"in i?i.validate:!0,o.schema=n=n||new e,o.writer=r,o.serialize=function(t){function e(t){var i,a,l,c,u,d,h,f,p,m=o[t.type];if(m)m(t);else{if(i=t.name,a=t.shortEnded,l=t.attributes,s&&l&&l.length>1&&(d=[],d.map={},p=n.getElementRule(t.name))){for(h=0,f=p.attributesOrder.length;f>h;h++)c=p.attributesOrder[h],c in l.map&&(u=l.map[c],d.map[c]=u,d.push({name:c,value:u}));for(h=0,f=l.length;f>h;h++)c=l[h].name,c in d.map||(u=l.map[c],d.map[c]=u,d.push({name:c,value:u}));l=d}if(r.start(t.name,l,a),!a){if(t=t.firstChild)do e(t);while(t=t.next);r.end(i)}}}var o,s;return s=i.validate,o={3:function(t){r.text(t.value,t.raw)},8:function(t){r.comment(t.value)},7:function(t){r.pi(t.name,t.value)},10:function(t){r.doctype(t.value)},4:function(t){r.cdata(t.value)},11:function(t){if(t=t.firstChild)do e(t);while(t=t.next)}},r.reset(),1!=t.type||i.inner?o[11](t):e(t),r.getContent()}}}),/**
 * Serializer.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/dom/Serializer",["tinymce/dom/DOMUtils","tinymce/html/DomParser","tinymce/html/SaxParser","tinymce/html/Entities","tinymce/html/Serializer","tinymce/html/Node","tinymce/html/Schema","tinymce/Env","tinymce/util/Tools","tinymce/text/Zwsp"],function(t,e,i,n,o,r,s,a,l,c){function u(t){function e(t){return t&&"br"===t.name}var i,n;i=t.lastChild,e(i)&&(n=i.prev,e(n)&&(i.remove(),n.remove()))}var d=l.each,h=l.trim,f=t.DOM,p=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[\u200b\ufeff]+<\\/span>",'\\s?data-mce-selected="[^"]+"'].join("|"),"gi");return function(t,r){function l(){var t,e,n,o,s,a=r.getBody().innerHTML,l=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,u=r.schema;for(a=c.trim(a.replace(p,"")),s=u.getShortEndedElements();o=l.exec(a);)e=l.lastIndex,n=o[0].length,t=s[o[1]]?e:i.findEndTag(u,a,e),a=a.substring(0,e-n)+a.substring(t),l.lastIndex=e-n;return h(a)}var m,g,v;return r&&(m=r.dom,g=r.schema),m=m||f,g=g||new s(t),t.entity_encoding=t.entity_encoding||"named",t.remove_trailing_brs="remove_trailing_brs"in t?t.remove_trailing_brs:!0,v=new e(t,g),v.addAttributeFilter("data-mce-tabindex",function(t,e){for(var i,n=t.length;n--;)i=t[n],i.attr("tabindex",i.attributes.map["data-mce-tabindex"]),i.attr(e,null)}),v.addAttributeFilter("src,href,style",function(e,i){for(var n,o,r,s=e.length,a="data-mce-"+i,l=t.url_converter,c=t.url_converter_scope;s--;)n=e[s],o=n.attributes.map[a],o!==r?(n.attr(i,o.length>0?o:null),n.attr(a,null)):(o=n.attributes.map[i],"style"===i?o=m.serializeStyle(m.parseStyle(o),n.name):l&&(o=l.call(c,o,i,n.name)),n.attr(i,o.length>0?o:null))}),v.addAttributeFilter("class",function(t){for(var e,i,n=t.length;n--;)e=t[n],i=e.attr("class"),i&&(i=e.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),e.attr("class",i.length>0?i:null))}),v.addAttributeFilter("data-mce-type",function(t,e,i){for(var n,o=t.length;o--;)n=t[o],"bookmark"!==n.attributes.map["data-mce-type"]||i.cleanup||n.remove()}),v.addNodeFilter("noscript",function(t){for(var e,i=t.length;i--;)e=t[i].firstChild,e&&(e.value=n.decode(e.value))}),v.addNodeFilter("script,style",function(t,e){function i(t){return t.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(var n,o,r,s=t.length;s--;)n=t[s],o=n.firstChild?n.firstChild.value:"","script"===e?(r=n.attr("type"),r&&n.attr("type","mce-no/type"==r?null:r.replace(/^mce\-/,"")),o.length>0&&(n.firstChild.value="// <![CDATA[\n"+i(o)+"\n// ]]>")):o.length>0&&(n.firstChild.value="<!--\n"+i(o)+"\n-->")}),v.addNodeFilter("#comment",function(t){for(var e,i=t.length;i--;)e=t[i],0===e.value.indexOf("[CDATA[")?(e.name="#cdata",e.type=4,e.value=e.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===e.value.indexOf("mce:protected ")&&(e.name="#text",e.type=3,e.raw=!0,e.value=unescape(e.value).substr(14))}),v.addNodeFilter("xml:namespace,input",function(t,e){for(var i,n=t.length;n--;)i=t[n],7===i.type?i.remove():1===i.type&&("input"!==e||"type"in i.attributes.map||i.attr("type","text"))}),t.fix_list_elements&&v.addNodeFilter("ul,ol",function(t){for(var e,i,n=t.length;n--;)e=t[n],i=e.parent,("ul"===i.name||"ol"===i.name)&&e.prev&&"li"===e.prev.name&&e.prev.append(e)}),v.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(t,e){for(var i=t.length;i--;)t[i].attr(e,null)}),{schema:g,addNodeFilter:v.addNodeFilter,addAttributeFilter:v.addAttributeFilter,serialize:function(e,i){var n,r,s,l,f,p,y=this;return a.ie&&m.select("script,style,select,map").length>0?(f=e.innerHTML,e=e.cloneNode(!1),m.setHTML(e,f)):e=e.cloneNode(!0),n=e.ownerDocument.implementation,n.createHTMLDocument&&(r=n.createHTMLDocument(""),d("BODY"==e.nodeName?e.childNodes:[e],function(t){r.body.appendChild(r.importNode(t,!0))}),e="BODY"!=e.nodeName?r.body.firstChild:r.body,s=m.doc,m.doc=r),i=i||{},i.format=i.format||"html",i.selection&&(i.forced_root_block=""),i.no_events||(i.node=e,y.onPreProcess(i)),p=v.parse(h(i.getInner?e.innerHTML:m.getOuterHTML(e)),i),u(p),l=new o(t,g),i.content=l.serialize(p),i.cleanup||(i.content=c.trim(i.content),i.content=i.content.replace(/\uFEFF/g,"")),i.no_events||y.onPostProcess(i),s&&(m.doc=s),i.node=null,i.content},addRules:function(t){g.addValidElements(t)},setRules:function(t){g.setValidElements(t)},onPreProcess:function(t){r&&r.fire("PreProcess",t)},onPostProcess:function(t){r&&r.fire("PostProcess",t)},getTrimmedContent:l}}}),/**
 * TridentSelection.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/dom/TridentSelection",[],function(){function t(t){function e(e,i){var n,o,r,s,a,l,c,u,d=0,h=-1;if(n=e.duplicate(),n.collapse(i),u=n.parentElement(),u.ownerDocument===t.dom.doc){for(;"false"===u.contentEditable;)u=u.parentNode;if(!u.hasChildNodes())return{node:u,inside:1};for(s=u.children,o=s.length-1;o>=d;)if(c=Math.floor((d+o)/2),a=s[c],n.moveToElementText(a),h=n.compareEndPoints(i?"StartToStart":"EndToEnd",e),h>0)o=c-1;else{if(!(0>h))return{node:a};d=c+1}if(0>h)for(a?n.collapse(!1):(n.moveToElementText(u),n.collapse(!0),a=u,r=!0),l=0;0!==n.compareEndPoints(i?"StartToStart":"StartToEnd",e)&&0!==n.move("character",1)&&u==n.parentElement();)l++;else for(n.collapse(!0),l=0;0!==n.compareEndPoints(i?"StartToStart":"StartToEnd",e)&&0!==n.move("character",-1)&&u==n.parentElement();)l++;return{node:a,position:h,offset:l,inside:r}}}function i(){function i(t){var i,n,o,r,s,a=e(u,t),l=0;if(i=a.node,n=a.offset,a.inside&&!i.hasChildNodes())return void d[t?"setStart":"setEnd"](i,0);if(n===r)return void d[t?"setStartBefore":"setEndAfter"](i);if(a.position<0){if(o=a.inside?i.firstChild:i.nextSibling,!o)return void d[t?"setStartAfter":"setEndAfter"](i);if(!n)return void(3==o.nodeType?d[t?"setStart":"setEnd"](o,0):d[t?"setStartBefore":"setEndBefore"](o));for(;o;){if(3==o.nodeType&&(s=o.nodeValue,l+=s.length,l>=n)){i=o,l-=n,l=s.length-l;break}o=o.nextSibling}}else{if(o=i.previousSibling,!o)return d[t?"setStartBefore":"setEndBefore"](i);if(!n)return void(3==i.nodeType?d[t?"setStart":"setEnd"](o,i.nodeValue.length):d[t?"setStartAfter":"setEndAfter"](o));for(;o;){if(3==o.nodeType&&(l+=o.nodeValue.length,l>=n)){i=o,l-=n;break}o=o.previousSibling}}d[t?"setStart":"setEnd"](i,l)}var r,s,a,l,c,u=t.getRng(),d=o.createRng();if(r=u.item?u.item(0):u.parentElement(),r.ownerDocument!=o.doc)return d;if(s=t.isCollapsed(),u.item)return d.setStart(r.parentNode,o.nodeIndex(r)),d.setEnd(d.startContainer,d.startOffset+1),d;try{i(!0),s||i()}catch(h){if(-2147024809!=h.number)throw h;c=n.getBookmark(2),a=u.duplicate(),a.collapse(!0),r=a.parentElement(),s||(a=u.duplicate(),a.collapse(!1),l=a.parentElement(),l.innerHTML=l.innerHTML),r.innerHTML=r.innerHTML,n.moveToBookmark(c),u=t.getRng(),i(!0),s||i()}return d}var n=this,o=t.dom,r=!1;this.getBookmark=function(i){function n(t){var e,i,n,r,s=[];for(e=t.parentNode,i=o.getRoot().parentNode;e!=i&&9!==e.nodeType;){for(n=e.children,r=n.length;r--;)if(t===n[r]){s.push(r);break}t=e,e=e.parentNode}return s}function r(t){var i;return i=e(s,t),i?{position:i.position,offset:i.offset,indexes:n(i.node),inside:i.inside}:void 0}var s=t.getRng(),a={};return 2===i&&(s.item?a.start={ctrl:!0,indexes:n(s.item(0))}:(a.start=r(!0),t.isCollapsed()||(a.end=r()))),a},this.moveToBookmark=function(t){function e(t){var e,i,n,r;for(e=o.getRoot(),i=t.length-1;i>=0;i--)r=e.children,n=t[i],n<=r.length-1&&(e=r[n]);return e}function i(i){var o,s,a,l,c=t[i?"start":"end"];c&&(o=c.position>0,s=r.createTextRange(),s.moveToElementText(e(c.indexes)),l=c.offset,l!==a?(s.collapse(c.inside||o),s.moveStart("character",o?-l:l)):s.collapse(i),n.setEndPoint(i?"StartToStart":"EndToStart",s),i&&n.collapse(!0))}var n,r=o.doc.body;t.start&&(t.start.ctrl?(n=r.createControlRange(),n.addElement(e(t.start.indexes)),n.select()):(n=r.createTextRange(),i(!0),i(),n.select()))},this.addRange=function(e){function i(t){var e,i,s,d,h;s=o.create("a"),e=t?a:c,i=t?l:u,d=n.duplicate(),(e==p||e==p.documentElement)&&(e=m,i=0),3==e.nodeType?(e.parentNode.insertBefore(s,e),d.moveToElementText(s),d.moveStart("character",i),o.remove(s),n.setEndPoint(t?"StartToStart":"EndToEnd",d)):(h=e.childNodes,h.length?(i>=h.length?o.insertAfter(s,h[h.length-1]):e.insertBefore(s,h[i]),d.moveToElementText(s)):e.canHaveHTML&&(e.innerHTML="<span>&#xFEFF;</span>",s=e.firstChild,d.moveToElementText(s),d.collapse(r)),n.setEndPoint(t?"StartToStart":"EndToEnd",d),o.remove(s))}var n,s,a,l,c,u,d,h,f,p=t.dom.doc,m=p.body;if(a=e.startContainer,l=e.startOffset,c=e.endContainer,u=e.endOffset,n=m.createTextRange(),a==c&&1==a.nodeType){if(l==u&&!a.hasChildNodes()){if(a.canHaveHTML)return d=a.previousSibling,d&&!d.hasChildNodes()&&o.isBlock(d)?d.innerHTML="&#xFEFF;":d=null,a.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",n.moveToElementText(a.lastChild),n.select(),o.doc.selection.clear(),a.innerHTML="",void(d&&(d.innerHTML=""));l=o.nodeIndex(a),a=a.parentNode}if(l==u-1)try{if(f=a.childNodes[l],s=m.createControlRange(),s.addElement(f),s.select(),h=t.getRng(),h.item&&f===h.item(0))return}catch(g){}}i(!0),i(),n.select()},this.getRangeAt=i}return t}),/**
 * VK.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/util/VK",["tinymce/Env"],function(t){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(t){return t.shiftKey||t.ctrlKey||t.altKey||this.metaKeyPressed(t)},metaKeyPressed:function(e){return t.mac?e.metaKey:e.ctrlKey&&!e.altKey}}}),/**
 * ControlSelection.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/dom/ControlSelection",["tinymce/util/VK","tinymce/util/Tools","tinymce/util/Delay","tinymce/Env","tinymce/dom/NodeType"],function(t,e,i,n,o){var r=o.isContentEditableFalse;return function(o,s){function a(t){var e=s.settings.object_resizing;return e===!1||n.iOS?!1:("string"!=typeof e&&(e="table,img,div"),"false"===t.getAttribute("data-mce-resize")?!1:t==s.getBody()?!1:s.dom.is(t,e))}function l(e){var i,n,o,r,a;i=e.screenX-E,n=e.screenY-P,L=i*N[2]+I,F=n*N[3]+$,L=5>L?5:L,F=5>F?5:F,o="IMG"==C.nodeName&&s.settings.resize_img_proportional!==!1?!t.modifierPressed(e):t.modifierPressed(e)||"IMG"==C.nodeName&&N[2]*N[3]!==0,o&&(q(i)>q(n)?(F=Y(L*R),L=Y(F/R)):(L=Y(F/R),F=Y(L*R))),z.setStyles(k,{width:L,height:F}),r=N.startPos.x+i,a=N.startPos.y+n,r=r>0?r:0,a=a>0?a:0,z.setStyles(T,{left:r,top:a,display:"block"}),T.innerHTML=L+" &times; "+F,N[2]<0&&k.clientWidth<=L&&z.setStyle(k,"left",A+(I-L)),N[3]<0&&k.clientHeight<=F&&z.setStyle(k,"top",M+($-F)),i=X.scrollWidth-H,n=X.scrollHeight-B,i+n!==0&&z.setStyles(T,{left:r-i,top:a-n}),O||(s.fire("ObjectResizeStart",{target:C,width:I,height:$}),O=!0)}function c(){function t(t,e){e&&(C.style[t]||!s.schema.isValid(C.nodeName.toLowerCase(),t)?z.setStyle(C,t,e):z.setAttrib(C,t,e))}O=!1,t("width",L),t("height",F),z.unbind(j,"mousemove",l),z.unbind(j,"mouseup",c),V!=j&&(z.unbind(V,"mousemove",l),z.unbind(V,"mouseup",c)),z.remove(k),z.remove(T),U&&"TABLE"!=C.nodeName||u(C),s.fire("ObjectResized",{target:C,width:L,height:F}),z.setAttrib(C,"style",z.getAttrib(C,"style")),s.nodeChanged()}function u(t,e,i){var o,r,u,h,f;d(),b(),o=z.getPos(t,X),A=o.x,M=o.y,f=t.getBoundingClientRect(),r=f.width||f.right-f.left,u=f.height||f.bottom-f.top,C!=t&&(y(),C=t,L=F=0),h=s.fire("ObjectSelected",{target:t}),a(t)&&!h.isDefaultPrevented()?W(S,function(t,o){function s(e){E=e.screenX,P=e.screenY,I=C.clientWidth,$=C.clientHeight,R=$/I,N=t,t.startPos={x:r*t[0]+A,y:u*t[1]+M},H=X.scrollWidth,B=X.scrollHeight,k=C.cloneNode(!0),z.addClass(k,"mce-clonedresizable"),z.setAttrib(k,"data-mce-bogus","all"),k.contentEditable=!1,k.unSelectabe=!0,z.setStyles(k,{left:A,top:M,margin:0}),k.removeAttribute("data-mce-selected"),X.appendChild(k),z.bind(j,"mousemove",l),z.bind(j,"mouseup",c),V!=j&&(z.bind(V,"mousemove",l),z.bind(V,"mouseup",c)),T=z.add(X,"div",{"class":"mce-resize-helper","data-mce-bogus":"all"},I+" &times; "+$)}var a;return e?void(o==e&&s(i)):(a=z.get("mceResizeHandle"+o),a&&z.remove(a),a=z.add(X,"div",{id:"mceResizeHandle"+o,"data-mce-bogus":"all","class":"mce-resizehandle",unselectable:!0,style:"cursor:"+o+"-resize; margin:0; padding:0"}),n.ie&&(a.contentEditable=!1),z.bind(a,"mousedown",function(t){t.stopImmediatePropagation(),t.preventDefault(),s(t)}),t.elm=a,void z.setStyles(a,{left:r*t[0]+A-a.offsetWidth/2,top:u*t[1]+M-a.offsetHeight/2}))}):d(),C.setAttribute("data-mce-selected","1")}function d(){var t,e;b(),C&&C.removeAttribute("data-mce-selected");for(t in S)e=z.get("mceResizeHandle"+t),e&&(z.unbind(e),z.remove(e))}function h(t){function e(t,e){if(t)do if(t===e)return!0;while(t=t.parentNode)}var i,n;if(!O&&!s.removed)return W(z.select("img[data-mce-selected],hr[data-mce-selected]"),function(t){t.removeAttribute("data-mce-selected")}),n="mousedown"==t.type?t.target:o.getNode(),n=z.$(n).closest(U?"table":"table,img,hr")[0],e(n,X)&&(x(),i=o.getStart(!0),e(i,n)&&e(o.getEnd(!0),n)&&(!U||n!=i&&"IMG"!==i.nodeName))?void u(n):void d()}function f(t,e,i){t&&t.attachEvent&&t.attachEvent("on"+e,i)}function p(t,e,i){t&&t.detachEvent&&t.detachEvent("on"+e,i)}function m(t){var e,i,n,o,r,a,l,c=t.srcElement;e=c.getBoundingClientRect(),a=D.clientX-e.left,l=D.clientY-e.top;for(i in S)if(n=S[i],o=c.offsetWidth*n[0],r=c.offsetHeight*n[1],q(o-a)<8&&q(r-l)<8){N=n;break}O=!0,s.fire("ObjectResizeStart",{target:C,width:C.clientWidth,height:C.clientHeight}),s.getDoc().selection.empty(),u(c,i,D)}function g(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function v(t){var e=t.srcElement;if(r(e))return void g(t);if(e!=C){if(s.fire("ObjectSelected",{target:e}),y(),0===e.id.indexOf("mceResizeHandle"))return void(t.returnValue=!1);("IMG"==e.nodeName||"TABLE"==e.nodeName)&&(d(),C=e,f(e,"resizestart",m))}}function y(){p(C,"resizestart",m)}function b(){for(var t in S){var e=S[t];e.elm&&(z.unbind(e.elm),delete e.elm)}}function x(){try{s.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(t){}}function _(t){var e;if(U){e=j.body.createControlRange();try{return e.addElement(t),e.select(),!0}catch(i){}}}function w(){C=k=null,U&&(y(),p(X,"controlselect",v))}var C,k,T,S,N,D,E,P,A,M,I,$,R,O,L,F,H,B,z=s.dom,W=e.each,j=s.getDoc(),V=document,U=n.ie&&n.ie<11,q=Math.abs,Y=Math.round,X=s.getBody();S={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var G=".mce-content-body";return s.contentStyles.push(G+" div.mce-resizehandle {position: absolute;border: 1px solid black;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+G+" .mce-resizehandle:hover {background: #000}"+G+" *[data-mce-selected] {outline: 1px solid black;resize: none}"+G+" .mce-clonedresizable {position: absolute;"+(n.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+G+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}"),s.on("init",function(){U?(s.on("ObjectResized",function(t){"TABLE"!=t.target.nodeName&&(d(),_(t.target))}),f(X,"controlselect",v),s.on("mousedown",function(t){D=t})):(x(),n.ie>=11&&(s.on("mousedown click",function(t){var e=t.target.nodeName;!O&&/^(TABLE|IMG|HR)$/.test(e)&&(s.selection.select(t.target,"TABLE"==e),"mousedown"==t.type&&s.nodeChanged())}),s.dom.bind(X,"mscontrolselect",function(t){function e(t){i.setEditorTimeout(s,function(){s.selection.select(t)})}return r(t.target)?(t.preventDefault(),void e(t.target)):void(/^(TABLE|IMG|HR)$/.test(t.target.nodeName)&&(t.preventDefault(),"IMG"==t.target.tagName&&e(t.target)))}))),s.on("nodechange ResizeEditor ResizeWindow drop",function(t){i.requestAnimationFrame(function(){h(t)})}),s.on("keydown keyup",function(t){C&&"TABLE"==C.nodeName&&h(t)}),s.on("hide blur",d)}),s.on("remove",b),{isResizable:a,showResizeRect:u,hideResizeRect:d,updateResizeRect:h,controlSelect:_,destroy:w}}}),/**
 * Fun.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/util/Fun",[],function(){function t(t){return function(){return t}}function e(t){return function(e){return!t(e)}}function i(t,e){return function(i){return t(e(i))}}function n(){var t=s.call(arguments);return function(e){for(var i=0;i<t.length;i++)if(t[i](e))return!0;return!1}}function o(){var t=s.call(arguments);return function(e){for(var i=0;i<t.length;i++)if(!t[i](e))return!1;return!0}}function r(t){var e=s.call(arguments);return e.length-1>=t.length?t.apply(this,e.slice(1)):function(){var t=e.concat([].slice.call(arguments));return r.apply(this,t)}}var s=[].slice;return{constant:t,negate:e,and:o,or:n,curry:r,compose:i}}),/**
 * CaretCandidate.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/caret/CaretCandidate",["tinymce/dom/NodeType","tinymce/util/Arr","tinymce/caret/CaretContainer"],function(t,e,i){function n(t){return m(t)?!1:d(t)?h(t.parentNode)?!1:!0:f(t)||u(t)||p(t)||c(t)}function o(t,e){for(t=t.parentNode;t&&t!=e;t=t.parentNode){if(c(t))return!1;if(l(t))return!0}return!0}function r(t){return c(t)?e.reduce(t.getElementsByTagName("*"),function(t,e){return t||l(e)},!1)!==!0:!1}function s(t){return f(t)||r(t)}function a(t,e){return n(t)&&o(t,e)}var l=t.isContentEditableTrue,c=t.isContentEditableFalse,u=t.isBr,d=t.isText,h=t.matchNodeNames("script style textarea"),f=t.matchNodeNames("img input textarea hr iframe video audio object"),p=t.matchNodeNames("table"),m=i.isCaretContainer;return{isCaretCandidate:n,isInEditable:o,isAtomic:s,isEditableCaretCandidate:a}}),/**
 * ClientRect.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/geom/ClientRect",[],function(){function t(t){return t?{left:c(t.left),top:c(t.top),bottom:c(t.bottom),right:c(t.right),width:c(t.width),height:c(t.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function e(e,i){return e=t(e),i?e.right=e.left:(e.left=e.left+e.width,e.right=e.left),e.width=0,e}function i(t,e){return t.left===e.left&&t.top===e.top&&t.bottom===e.bottom&&t.right===e.right}function n(t,e,i){return t>=0&&t<=Math.min(e.height,i.height)/2}function o(t,e){return t.bottom<e.top?!0:t.top>e.bottom?!1:n(e.top-t.bottom,t,e)}function r(t,e){return t.top>e.bottom?!0:t.bottom<e.top?!1:n(e.bottom-t.top,t,e)}function s(t,e){return t.left<e.left}function a(t,e){return t.right>e.right}function l(t,e){return o(t,e)?-1:r(t,e)?1:s(t,e)?-1:a(t,e)?1:0}var c=Math.round;return{clone:t,collapse:e,isEqual:i,isAbove:o,isBelow:r,isLeft:s,isRight:a,compare:l}}),/**
 * ExtendingChar.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/text/ExtendingChar",[],function(){function t(t){return"string"==typeof t&&t.charCodeAt(0)>=768&&e.test(t)}var e=new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]");return{isExtendingChar:t}}),/**
 * CaretPosition.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/caret/CaretPosition",["tinymce/util/Fun","tinymce/dom/NodeType","tinymce/dom/DOMUtils","tinymce/dom/RangeUtils","tinymce/caret/CaretCandidate","tinymce/geom/ClientRect","tinymce/text/ExtendingChar"],function(t,e,i,n,o,r,s){function a(t){return t&&/[\r\n\t ]/.test(t)}function l(t){var e,i=t.startContainer,n=t.startOffset;return a(t.toString())&&g(i.parentNode)&&(e=i.data,a(e[n-1])||a(e[n+1]))?!0:!1}function c(t){function e(t){var e,i=t.ownerDocument,n=i.createRange(),o=i.createTextNode("\xa0"),s=t.parentNode;return s.insertBefore(o,t),n.setStart(o,0),n.setEnd(o,1),e=r.clone(n.getBoundingClientRect()),s.removeChild(o),e}function i(t){var i,n;return n=t.getClientRects(),i=n.length>0?r.clone(n[0]):r.clone(t.getBoundingClientRect()),y(t)&&0===i.left?e(t):i}function n(t,e){return t=r.collapse(t,e),t.width=1,t.right=t.left+1,t}function o(t){0!==t.height&&(h.length>0&&r.isEqual(t,h[h.length-1])||h.push(t))}function a(t,e){var r=t.ownerDocument.createRange();return e<t.data.length&&s.isExtendingChar(t.data[e])?h:(e>0&&(r.setStart(t,e-1),r.setEnd(t,e),l(r)||o(n(i(r),!1))),void(e<t.data.length&&(r.setStart(t,e),r.setEnd(t,e+1),l(r)||o(n(i(r),!0)))))}var c,u,h=[];if(v(t.container()))return a(t.container(),t.offset()),h;if(d(t.container()))if(t.isAtEnd())u=x(t.container(),t.offset()),v(u)&&a(u,u.data.length),m(u)&&!y(u)&&o(n(i(u),!1));else{if(u=x(t.container(),t.offset()),v(u)&&a(u,0),m(u)&&t.isAtEnd())return o(n(i(u),!1)),h;c=x(t.container(),t.offset()-1),m(c)&&!y(c)&&(f(c)||f(u)||!m(u))&&o(n(i(c),!1)),m(u)&&o(n(i(u),!0))}return h}function u(e,i,n){function o(){return v(e)?0===i:0===i}function r(){return v(e)?i>=e.data.length:i>=e.childNodes.length}function s(){var t;return t=e.ownerDocument.createRange(),t.setStart(e,i),t.setEnd(e,i),t}function a(){return n||(n=c(new u(e,i))),n}function l(){return a().length>0}function d(t){return t&&e===t.container()&&i===t.offset()}function h(t){return x(e,t?i-1:i)}return{container:t.constant(e),offset:t.constant(i),toRange:s,getClientRects:a,isVisible:l,isAtStart:o,isAtEnd:r,isEqual:d,getNode:h}}var d=e.isElement,h=o.isCaretCandidate,f=e.matchStyleValues("display","block table"),p=e.matchStyleValues("float","left right"),m=t.and(d,h,t.negate(p)),g=t.negate(e.matchStyleValues("white-space","pre pre-line pre-wrap")),v=e.isText,y=e.isBr,b=i.nodeIndex,x=n.getNode;return u.fromRangeStart=function(t){return new u(t.startContainer,t.startOffset)},u.fromRangeEnd=function(t){return new u(t.endContainer,t.endOffset)},u.after=function(t){return new u(t.parentNode,b(t)+1)},u.before=function(t){return new u(t.parentNode,b(t))},u}),/**
 * CaretBookmark.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/caret/CaretBookmark",["tinymce/dom/NodeType","tinymce/dom/DOMUtils","tinymce/util/Fun","tinymce/util/Arr","tinymce/caret/CaretPosition"],function(t,e,i,n,o){function r(t){var e=t.parentNode;return v(e)?r(e):e}function s(t){return t?n.reduce(t.childNodes,function(t,e){return v(e)&&"BR"!=e.nodeName?t=t.concat(s(e)):t.push(e),t},[]):[]}function a(t,e){for(;(t=t.previousSibling)&&g(t);)e+=t.data.length;return e}function l(t){return function(e){return t===e}}function c(e){var i,o,a;return i=s(r(e)),o=n.findIndex(i,l(e),e),i=i.slice(0,o+1),a=n.reduce(i,function(t,e,n){return g(e)&&g(i[n-1])&&t++,t},0),i=n.filter(i,t.matchNodeNames(e.nodeName)),o=n.findIndex(i,l(e),e),o-a}function u(t){var e;return e=g(t)?"text()":t.nodeName.toLowerCase(),e+"["+c(t)+"]"}function d(t,e,i){var n=[];for(e=e.parentNode;e!=t&&(!i||!i(e));e=e.parentNode)n.push(e);return n}function h(e,o){var r,s,l,c,h,f=[];return r=o.container(),s=o.offset(),g(r)?l=a(r,s):(c=r.childNodes,s>=c.length?(l="after",s=c.length-1):l="before",r=c[s]),f.push(u(r)),h=d(e,r),h=n.filter(h,i.negate(t.isBogus)),f=f.concat(n.map(h,function(t){return u(t)})),f.reverse().join("/")+","+l}function f(e,i,o){var r=s(e);return r=n.filter(r,function(t,e){return!g(t)||!g(r[e-1])}),r=n.filter(r,t.matchNodeNames(i)),r[o]}function p(t,e){for(var i,n=t,r=0;g(n);){if(i=n.data.length,e>=r&&r+i>=e){t=n,e-=r;break}if(!g(n.nextSibling)){t=n,e=i;break}r+=i,n=n.nextSibling}return e>t.data.length&&(e=t.data.length),new o(t,e)}function m(t,e){var i,r,s;return e?(i=e.split(","),e=i[0].split("/"),s=i.length>1?i[1]:"before",r=n.reduce(e,function(t,e){return(e=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(e))?("text()"===e[1]&&(e[1]="#text"),f(t,e[1],parseInt(e[2],10))):null},t),r?g(r)?p(r,parseInt(s,10)):(s="after"===s?y(r)+1:y(r),new o(r.parentNode,s)):null):null}var g=t.isText,v=t.isBogus,y=e.nodeIndex;return{create:h,resolve:m}}),/**
 * BookmarkManager.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/dom/BookmarkManager",["tinymce/Env","tinymce/util/Tools","tinymce/caret/CaretContainer","tinymce/caret/CaretBookmark","tinymce/caret/CaretPosition","tinymce/dom/NodeType"],function(t,e,i,n,o,r){function s(s){var l=s.dom;this.getBookmark=function(t,c){function u(t,i){var n=0;return e.each(l.select(t),function(t){return"all"!==t.getAttribute("data-mce-bogus")?t==i?!1:void n++:void 0}),n}function d(t){function e(e){var i,n,o,r=e?"start":"end";i=t[r+"Container"],n=t[r+"Offset"],1==i.nodeType&&"TR"==i.nodeName&&(o=i.childNodes,i=o[Math.min(e?n:n-1,o.length-1)],i&&(n=e?0:i.childNodes.length,t["set"+(e?"Start":"End")](i,n)))}return e(!0),e(),t}function h(t){function e(t,e){var n,o,r=t[e?"startContainer":"endContainer"],s=t[e?"startOffset":"endOffset"],a=[],u=0;if(3==r.nodeType){if(c)for(n=r.previousSibling;n&&3==n.nodeType;n=n.previousSibling)s+=n.nodeValue.length;a.push(s)}else o=r.childNodes,s>=o.length&&o.length&&(u=1,s=Math.max(0,o.length-1)),a.push(l.nodeIndex(o[s],c)+u);for(;r&&r!=i;r=r.parentNode)a.push(l.nodeIndex(r,c));return a}var i=l.getRoot(),n={};return n.start=e(t,!0),s.isCollapsed()||(n.end=e(t)),n}function f(t){function e(t){var e;if(i.isCaretContainer(t)){if(r.isText(t)&&i.isCaretContainerBlock(t)&&(t=t.parentNode),e=t.previousSibling,a(e))return e;if(e=t.nextSibling,a(e))return e}}return e(t.startContainer)||e(t.endContainer)}var p,m,g,v,y,b,x,_="&#xFEFF;";if(2==t)return b=s.getNode(),y=b?b.nodeName:null,p=s.getRng(),a(b)||"IMG"==y?{name:y,index:u(y,b)}:s.tridentSel?s.tridentSel.getBookmark(t):(b=f(p),b?(y=b.tagName,{name:y,index:u(y,b)}):h(p));if(3==t)return p=s.getRng(),{start:n.create(l.getRoot(),o.fromRangeStart(p)),end:n.create(l.getRoot(),o.fromRangeEnd(p))};if(t)return{rng:s.getRng()};if(p=s.getRng(),g=l.uniqueId(),v=s.isCollapsed(),x="overflow:hidden;line-height:0px",p.duplicate||p.item){if(p.item)return b=p.item(0),y=b.nodeName,{name:y,index:u(y,b)};m=p.duplicate();try{p.collapse(),p.pasteHTML('<span data-mce-type="bookmark" id="'+g+'_start" style="'+x+'">'+_+"</span>"),v||(m.collapse(!1),p.moveToElementText(m.parentElement()),0===p.compareEndPoints("StartToEnd",m)&&m.move("character",-1),m.pasteHTML('<span data-mce-type="bookmark" id="'+g+'_end" style="'+x+'">'+_+"</span>"))}catch(w){return null}}else{if(b=s.getNode(),y=b.nodeName,"IMG"==y)return{name:y,index:u(y,b)};m=d(p.cloneRange()),v||(m.collapse(!1),m.insertNode(l.create("span",{"data-mce-type":"bookmark",id:g+"_end",style:x},_))),p=d(p),p.collapse(!0),p.insertNode(l.create("span",{"data-mce-type":"bookmark",id:g+"_start",style:x},_))}return s.moveToBookmark({id:g,keep:1}),{id:g}},this.moveToBookmark=function(i){function o(t){var e,n,o,r,s=i[t?"start":"end"];if(s){for(o=s[0],n=d,e=s.length-1;e>=1;e--){if(r=n.childNodes,s[e]>r.length-1)return;n=r[s[e]]}3===n.nodeType&&(o=Math.min(s[0],n.nodeValue.length)),1===n.nodeType&&(o=Math.min(s[0],n.childNodes.length)),t?u.setStart(n,o):u.setEnd(n,o)}return!0}function r(n){var o,r,s,a,c=l.get(i.id+"_"+n),u=i.keep;if(c&&(o=c.parentNode,"start"==n?(u?(o=c.firstChild,r=1):r=l.nodeIndex(c),h=f=o,p=m=r):(u?(o=c.firstChild,r=1):r=l.nodeIndex(c),f=o,m=r),!u)){for(a=c.previousSibling,s=c.nextSibling,e.each(e.grep(c.childNodes),function(t){3==t.nodeType&&(t.nodeValue=t.nodeValue.replace(/\uFEFF/g,""))});c=l.get(i.id+"_"+n);)l.remove(c,1);a&&s&&a.nodeType==s.nodeType&&3==a.nodeType&&!t.opera&&(r=a.nodeValue.length,a.appendData(s.nodeValue),l.remove(s),"start"==n?(h=f=a,p=m=r):(f=a,m=r))}}function a(e){return!l.isBlock(e)||e.innerHTML||t.ie||(e.innerHTML='<br data-mce-bogus="1" />'),e}function c(){var t,e;return t=l.createRng(),e=n.resolve(l.getRoot(),i.start),t.setStart(e.container(),e.offset()),e=n.resolve(l.getRoot(),i.end),t.setEnd(e.container(),e.offset()),t}var u,d,h,f,p,m;if(i)if(e.isArray(i.start)){if(u=l.createRng(),d=l.getRoot(),s.tridentSel)return s.tridentSel.moveToBookmark(i);o(!0)&&o()&&s.setRng(u)}else"string"==typeof i.start?s.setRng(c(i)):i.id?(r("start"),r("end"),h&&(u=l.createRng(),u.setStart(a(h),p),u.setEnd(a(f),m),s.setRng(u))):i.name?s.select(l.select(i.name)[i.index]):i.rng&&s.setRng(i.rng)}}var a=r.isContentEditableFalse;return s.isBookmarkNode=function(t){return t&&"SPAN"===t.tagName&&"bookmark"===t.getAttribute("data-mce-type")},s}),/**
 * Selection.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/dom/Selection",["tinymce/dom/TreeWalker","tinymce/dom/TridentSelection","tinymce/dom/ControlSelection","tinymce/dom/RangeUtils","tinymce/dom/BookmarkManager","tinymce/dom/NodeType","tinymce/Env","tinymce/util/Tools"],function(t,i,n,o,r,s,a,l){function c(t,e,o,s){var a=this;a.dom=t,a.win=e,a.serializer=o,a.editor=s,a.bookmarkManager=new r(a),a.controlSelection=new n(a,s),a.win.getSelection||(a.tridentSel=new i(a))}var u=l.each,d=l.trim,h=a.ie;return c.prototype={setCursorLocation:function(t,e){var i=this,n=i.dom.createRng();t?(n.setStart(t,e),n.setEnd(t,e),i.setRng(n),i.collapse(!1)):(i._moveEndPoint(n,i.editor.getBody(),!0),i.setRng(n))},getContent:function(t){var i,n,o,r=this,s=r.getRng(),a=r.dom.create("body"),l=r.getSel();return t=t||{},i=n="",t.get=!0,t.format=t.format||"html",t.selection=!0,r.editor.fire("BeforeGetContent",t),"text"==t.format?r.isCollapsed()?"":s.text||(l.toString?l.toString():""):(s.cloneContents?(o=s.cloneContents(),o&&a.appendChild(o)):s.item!==e||s.htmlText!==e?(a.innerHTML="<br>"+(s.item?s.item(0).outerHTML:s.htmlText),a.removeChild(a.firstChild)):a.innerHTML=s.toString(),/^\s/.test(a.innerHTML)&&(i=" "),/\s+$/.test(a.innerHTML)&&(n=" "),t.getInner=!0,t.content=r.isCollapsed()?"":i+r.serializer.serialize(a,t)+n,r.editor.fire("GetContent",t),t.content)},setContent:function(t,e){var i,n,o,r=this,s=r.getRng(),a=r.win.document;if(e=e||{format:"html"},e.set=!0,e.selection=!0,e.content=t,e.no_events||r.editor.fire("BeforeSetContent",e),t=e.content,s.insertNode){t+='<span id="__caret">_</span>',s.startContainer==a&&s.endContainer==a?a.body.innerHTML=t:(s.deleteContents(),0===a.body.childNodes.length?a.body.innerHTML=t:s.createContextualFragment?s.insertNode(s.createContextualFragment(t)):(n=a.createDocumentFragment(),o=a.createElement("div"),n.appendChild(o),o.outerHTML=t,s.insertNode(n))),i=r.dom.get("__caret"),s=a.createRange(),s.setStartBefore(i),s.setEndBefore(i),r.setRng(s),r.dom.remove("__caret");try{r.setRng(s)}catch(l){}}else s.item&&(a.execCommand("Delete",!1,null),s=r.getRng()),/^\s+/.test(t)?(s.pasteHTML('<span id="__mce_tmp">_</span>'+t),r.dom.remove("__mce_tmp")):s.pasteHTML(t);e.no_events||r.editor.fire("SetContent",e)},getStart:function(t){var e,i,n,o,r=this,s=r.getRng();if(s.duplicate||s.item){if(s.item)return s.item(0);for(n=s.duplicate(),n.collapse(1),e=n.parentElement(),e.ownerDocument!==r.dom.doc&&(e=r.dom.getRoot()),i=o=s.parentElement();o=o.parentNode;)if(o==e){e=i;break}return e}return e=s.startContainer,1==e.nodeType&&e.hasChildNodes()&&(t&&s.collapsed||(e=e.childNodes[Math.min(e.childNodes.length-1,s.startOffset)])),e&&3==e.nodeType?e.parentNode:e},getEnd:function(t){var e,i,n=this,o=n.getRng();return o.duplicate||o.item?o.item?o.item(0):(o=o.duplicate(),o.collapse(0),e=o.parentElement(),e.ownerDocument!==n.dom.doc&&(e=n.dom.getRoot()),e&&"BODY"==e.nodeName?e.lastChild||e:e):(e=o.endContainer,i=o.endOffset,1==e.nodeType&&e.hasChildNodes()&&(t&&o.collapsed||(e=e.childNodes[i>0?i-1:i])),e&&3==e.nodeType?e.parentNode:e)},getBookmark:function(t,e){return this.bookmarkManager.getBookmark(t,e)},moveToBookmark:function(t){return this.bookmarkManager.moveToBookmark(t)},select:function(t,e){var i,n=this,o=n.dom,r=o.createRng();if(n.lastFocusBookmark=null,t){if(!e&&n.controlSelection.controlSelect(t))return;i=o.nodeIndex(t),r.setStart(t.parentNode,i),r.setEnd(t.parentNode,i+1),e&&(n._moveEndPoint(r,t,!0),n._moveEndPoint(r,t)),n.setRng(r)}return t},isCollapsed:function(){var t=this,e=t.getRng(),i=t.getSel();return!e||e.item?!1:e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!i||e.collapsed},collapse:function(t){var e,i=this,n=i.getRng();n.item&&(e=n.item(0),n=i.win.document.body.createTextRange(),n.moveToElementText(e)),n.collapse(!!t),i.setRng(n)},getSel:function(){var t=this.win;return t.getSelection?t.getSelection():t.document.selection},getRng:function(t){function e(t,e,i){try{return e.compareBoundaryPoints(t,i)}catch(n){return-1}}var i,n,o,r,s,a,l=this;if(!l.win)return null;if(r=l.win.document,!t&&l.lastFocusBookmark){var c=l.lastFocusBookmark;return c.startContainer?(n=r.createRange(),n.setStart(c.startContainer,c.startOffset),n.setEnd(c.endContainer,c.endOffset)):n=c,n}if(t&&l.tridentSel)return l.tridentSel.getRangeAt(0);try{(i=l.getSel())&&(n=i.rangeCount>0?i.getRangeAt(0):i.createRange?i.createRange():r.createRange())}catch(u){}if(a=l.editor.fire("GetSelectionRange",{range:n}),a.range!==n)return a.range;if(h&&n&&n.setStart&&r.selection){try{s=r.selection.createRange()}catch(u){}s&&s.item&&(o=s.item(0),n=r.createRange(),n.setStartBefore(o),n.setEndAfter(o))}return n||(n=r.createRange?r.createRange():r.body.createTextRange()),n.setStart&&9===n.startContainer.nodeType&&n.collapsed&&(o=l.dom.getRoot(),n.setStart(o,0),n.setEnd(o,0)),l.selectedRange&&l.explicitRange&&(0===e(n.START_TO_START,n,l.selectedRange)&&0===e(n.END_TO_END,n,l.selectedRange)?n=l.explicitRange:(l.selectedRange=null,l.explicitRange=null)),n},setRng:function(t,e){var i,n,o,r=this;if(t)if(t.select){r.explicitRange=null;try{t.select()}catch(s){}}else if(r.tridentSel){if(t.cloneRange)try{r.tridentSel.addRange(t)}catch(s){}}else{if(i=r.getSel(),o=r.editor.fire("SetSelectionRange",{range:t}),t=o.range,i){r.explicitRange=t;try{i.removeAllRanges(),i.addRange(t)}catch(s){}e===!1&&i.extend&&(i.collapse(t.endContainer,t.endOffset),i.extend(t.startContainer,t.startOffset)),r.selectedRange=i.rangeCount>0?i.getRangeAt(0):null}t.collapsed||t.startContainer!=t.endContainer||!i.setBaseAndExtent||a.ie||t.endOffset-t.startOffset<2&&t.startContainer.hasChildNodes()&&(n=t.startContainer.childNodes[t.startOffset],n&&"IMG"==n.tagName&&r.getSel().setBaseAndExtent(n,0,n,1))}},setNode:function(t){var e=this;return e.setContent(e.dom.getOuterHTML(t)),t},getNode:function(){function t(t,e){for(var i=t;t&&3===t.nodeType&&0===t.length;)t=e?t.nextSibling:t.previousSibling;return t||i}var e,i=this,n=i.getRng(),o=n.startContainer,r=n.endContainer,s=n.startOffset,a=n.endOffset,l=i.dom.getRoot();return n?n.setStart?(e=n.commonAncestorContainer,!n.collapsed&&(o==r&&2>a-s&&o.hasChildNodes()&&(e=o.childNodes[s]),3===o.nodeType&&3===r.nodeType&&(o=o.length===s?t(o.nextSibling,!0):o.parentNode,r=0===a?t(r.previousSibling,!1):r.parentNode,o&&o===r))?o:e&&3==e.nodeType?e.parentNode:e):(e=n.item?n.item(0):n.parentElement(),e.ownerDocument!==i.win.document&&(e=l),e):l},getSelectedBlocks:function(e,i){var n,o,r=this,s=r.dom,a=[];if(o=s.getRoot(),e=s.getParent(e||r.getStart(),s.isBlock),i=s.getParent(i||r.getEnd(),s.isBlock),e&&e!=o&&a.push(e),e&&i&&e!=i){n=e;for(var l=new t(e,o);(n=l.next())&&n!=i;)s.isBlock(n)&&a.push(n)}return i&&e!=i&&i!=o&&a.push(i),a},isForward:function(){var t,e,i=this.dom,n=this.getSel();return n&&n.anchorNode&&n.focusNode?(t=i.createRng(),t.setStart(n.anchorNode,n.anchorOffset),t.collapse(!0),e=i.createRng(),e.setStart(n.focusNode,n.focusOffset),e.collapse(!0),t.compareBoundaryPoints(t.START_TO_START,e)<=0):!0},normalize:function(){var t=this,e=t.getRng();return a.range&&new o(t.dom).normalize(e)&&t.setRng(e,t.isForward()),e},selectorChanged:function(t,e){var i,n=this;return n.selectorChangedData||(n.selectorChangedData={},i={},n.editor.on("NodeChange",function(t){var e=t.element,o=n.dom,r=o.getParents(e,null,o.getRoot()),s={};u(n.selectorChangedData,function(t,e){u(r,function(n){return o.is(n,e)?(i[e]||(u(t,function(t){t(!0,{node:n,selector:e,parents:r})}),i[e]=t),s[e]=t,!1):void 0})}),u(i,function(t,n){s[n]||(delete i[n],u(t,function(t){t(!1,{node:e,selector:n,parents:r})}))})})),n.selectorChangedData[t]||(n.selectorChangedData[t]=[]),n.selectorChangedData[t].push(e),n},getScrollContainer:function(){for(var t,e=this.dom.getRoot();e&&"BODY"!=e.nodeName;){if(e.scrollHeight>e.clientHeight){t=e;break}e=e.parentNode}return t},scrollIntoView:function(t,e){function i(t){for(var e=0,i=0,n=t;n&&n.nodeType;)e+=n.offsetLeft||0,i+=n.offsetTop||0,n=n.offsetParent;return{x:e,y:i}}var n,o,r,a,l=this,c=l.dom,u=c.getRoot(),d=0;if(s.isElement(t)){if(e===!1&&(d=t.offsetHeight),"BODY"!=u.nodeName){var h=l.getScrollContainer();if(h)return n=i(t).y-i(h).y+d,a=h.clientHeight,r=h.scrollTop,void((r>n||n+25>r+a)&&(h.scrollTop=r>n?n:n-a+25))}o=c.getViewPort(l.editor.getWin()),n=c.getPos(t).y+d,r=o.y,a=o.h,(n<o.y||n+25>r+a)&&l.editor.getWin().scrollTo(0,r>n?n:n-a+25)}},placeCaretAt:function(t,e){this.setRng(o.getCaretRangeFromPoint(t,e,this.editor.getDoc()))},_moveEndPoint:function(e,i,n){var o=i,r=new t(i,o),s=this.dom.schema.getNonEmptyElements();do{if(3==i.nodeType&&0!==d(i.nodeValue).length)return void(n?e.setStart(i,0):e.setEnd(i,i.nodeValue.length));if(s[i.nodeName]&&!/^(TD|TH)$/.test(i.nodeName))return void(n?e.setStartBefore(i):"BR"==i.nodeName?e.setEndBefore(i):e.setEndAfter(i));if(a.ie&&a.ie<11&&this.dom.isBlock(i)&&this.dom.isEmpty(i))return void(n?e.setStart(i,0):e.setEnd(i,0))}while(i=n?r.next():r.prev());"BODY"==o.nodeName&&(n?e.setStart(o,0):e.setEnd(o,o.childNodes.length))},destroy:function(){this.win=null,this.controlSelection.destroy()}},c}),/**
 * ElementUtils.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/dom/ElementUtils",["tinymce/dom/BookmarkManager","tinymce/util/Tools"],function(t,e){function i(e){this.compare=function(i,o){function r(t){var i={};return n(e.getAttribs(t),function(n){var o=n.nodeName.toLowerCase();0!==o.indexOf("_")&&"style"!==o&&"data-mce-style"!==o&&(i[o]=e.getAttrib(t,o))}),i}function s(t,e){var i,n;for(n in t)if(t.hasOwnProperty(n)){if(i=e[n],"undefined"==typeof i)return!1;if(t[n]!=i)return!1;delete e[n]}for(n in e)if(e.hasOwnProperty(n))return!1;return!0}return i.nodeName!=o.nodeName?!1:s(r(i),r(o))&&s(e.parseStyle(e.getAttrib(i,"style")),e.parseStyle(e.getAttrib(o,"style")))?!t.isBookmarkNode(i)&&!t.isBookmarkNode(o):!1}}var n=e.each;return i}),/**
 * Preview.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/fmt/Preview",["tinymce/util/Tools"],function(t){function e(t,e){function n(t){return t.replace(/%(\w+)/g,"")}var o,r,s,a,l=t.dom,c="";if(a=t.settings.preview_styles,a===!1)return"";if(a||(a="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),"string"==typeof e){if(e=t.formatter.get(e),!e)return;e=e[0]}return o=e.block||e.inline||"span",r=l.create(o),i(e.styles,function(t,e){t=n(t),t&&l.setStyle(r,e,t)}),i(e.attributes,function(t,e){t=n(t),t&&l.setAttrib(r,e,t)}),i(e.classes,function(t){t=n(t),l.hasClass(r,t)||l.addClass(r,t)}),t.fire("PreviewFormats"),l.setStyles(r,{position:"absolute",left:-65535}),t.getBody().appendChild(r),s=l.getStyle(t.getBody(),"fontSize",!0),s=/px$/.test(s)?parseInt(s,10):0,i(a.split(" "),function(e){var i=l.getStyle(r,e,!0);if(!("background-color"==e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(i)&&(i=l.getStyle(t.getBody(),e,!0),"#ffffff"==l.toHex(i).toLowerCase())||"color"==e&&"#000000"==l.toHex(i).toLowerCase())){if("font-size"==e&&/em|%$/.test(i)){if(0===s)return;i=parseFloat(i,10)/(/%$/.test(i)?100:1),i=i*s+"px"}"border"==e&&i&&(c+="padding:0 2px;"),c+=e+":"+i+";"}}),t.fire("AfterPreviewFormats"),l.remove(r),c}var i=t.each;return{getCssText:e}}),/**
 * Formatter.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/Formatter",["tinymce/dom/TreeWalker","tinymce/dom/RangeUtils","tinymce/dom/BookmarkManager","tinymce/dom/ElementUtils","tinymce/util/Tools","tinymce/fmt/Preview"],function(t,e,i,n,o,r){return function(s){function a(t){return t.nodeType&&(t=t.nodeName),!!s.schema.getTextBlockElements()[t.toLowerCase()]}function l(t){return/^(TH|TD)$/.test(t.nodeName)}function c(t){return t&&/^(IMG)$/.test(t.nodeName)}function u(t,e){return G.getParents(t,e,G.getRoot())}function d(t){return 1===t.nodeType&&"_mce_caret"===t.id}function h(){m({valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},defaultBlock:"div"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"}}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},defaultBlock:"div"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(t,e,i){lt(i,function(e,i){G.setAttrib(t,i,e)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),lt("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(t){m(t,{block:t,remove:"all"})}),m(s.settings.formats)}function f(){s.addShortcut("meta+b","bold_desc","Bold"),s.addShortcut("meta+i","italic_desc","Italic"),s.addShortcut("meta+u","underline_desc","Underline");for(var t=1;6>=t;t++)s.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);s.addShortcut("access+7","",["FormatBlock",!1,"p"]),s.addShortcut("access+8","",["FormatBlock",!1,"div"]),s.addShortcut("access+9","",["FormatBlock",!1,"address"])}function p(t){return t?X[t]:X}function m(t,e){t&&("string"!=typeof t?lt(t,function(t,e){m(e,t)}):(e=e.length?e:[e],lt(e,function(t){t.deep===U&&(t.deep=!t.selector),t.split===U&&(t.split=!t.selector||t.inline),t.remove===U&&t.selector&&!t.inline&&(t.remove="none"),t.selector&&t.inline&&(t.mixed=!0,t.block_expand=!0),"string"==typeof t.classes&&(t.classes=t.classes.split(/\s+/))}),X[t]=e))}function g(t){return t&&X[t]&&delete X[t],X}function v(t){var e;return s.dom.getParent(t,function(t){return e=s.dom.getStyle(t,"text-decoration"),e&&"none"!==e}),e}function y(t){var e;1===t.nodeType&&t.parentNode&&1===t.parentNode.nodeType&&(e=v(t.parentNode),s.dom.getStyle(t,"color")&&e?s.dom.setStyle(t,"text-decoration",e):s.dom.getStyle(t,"text-decoration")===e&&s.dom.setStyle(t,"text-decoration",null))}function b(e,i,n){function o(t,e){if(e=e||f,t){if(e.onformat&&e.onformat(t,e,i,n),lt(e.styles,function(e,n){G.setStyle(t,n,M(e,i))}),e.styles){var o=G.getAttrib(t,"style");o&&t.setAttribute("data-mce-style",o)}lt(e.attributes,function(e,n){G.setAttrib(t,n,M(e,i))}),lt(e.classes,function(e){e=M(e,i),G.hasClass(t,e)||G.addClass(t,e)})}}function r(){function e(e,i){var o=new t(i);for(n=o.current();n;n=o.prev())if(n.childNodes.length>1||n==e||"BR"==n.tagName)return n}var i=s.selection.getRng(),o=i.startContainer,r=i.endContainer;if(o!=r&&0===i.endOffset){var a=e(o,r),l=3==a.nodeType?a.length:a.childNodes.length;i.setEnd(a,l)}return i}function l(t,n,r){var s,l,c=[],u=!0;s=f.inline||f.block,l=G.create(s),o(l),Q.walk(t,function(t){function n(t){var g,v,y,b,x;return x=u,g=t.nodeName.toLowerCase(),v=t.parentNode.nodeName.toLowerCase(),1===t.nodeType&&st(t)&&(x=u,u="true"===st(t),b=!0),E(g,"br")?(p=0,void(f.block&&G.remove(t))):f.wrapper&&w(t,e,i)?void(p=0):u&&!b&&f.block&&!f.wrapper&&a(g)&&J(v,s)?(t=G.rename(t,s),o(t),c.push(t),void(p=0)):f.selector&&(lt(h,function(e){return"collapsed"in e&&e.collapsed!==m?void 0:G.is(t,e.selector)&&!d(t)?(o(t,e),y=!0,!1):void 0}),!f.inline||y)?void(p=0):void(!u||b||!J(s,g)||!J(v,s)||!r&&3===t.nodeType&&1===t.nodeValue.length&&65279===t.nodeValue.charCodeAt(0)||d(t)||f.inline&&Z(t)?(p=0,lt(ct(t.childNodes),n),b&&(u=x),p=0):(p||(p=G.clone(l,ot),t.parentNode.insertBefore(p,t),c.push(p)),p.appendChild(t)))}var p;lt(t,n)}),f.links===!0&&lt(c,function(t){function e(t){"A"===t.nodeName&&o(t,f),lt(ct(t.childNodes),e)}e(t)}),lt(c,function(t){function n(t){var e=0;return lt(t.childNodes,function(t){I(t)||at(t)||e++}),e}function r(t){var e,i;return lt(t.childNodes,function(t){return 1!=t.nodeType||at(t)||d(t)?void 0:(e=t,ot)}),e&&!at(e)&&D(e,f)&&(i=G.clone(e,ot),o(i),G.replace(i,t,rt),G.remove(e,1)),i||t}var s;if(s=n(t),(c.length>1||!Z(t))&&0===s)return void G.remove(t,1);if(f.inline||f.wrapper){if(f.exact||1!==s||(t=r(t)),lt(h,function(e){lt(G.select(e.inline,t),function(t){at(t)||L(e,i,t,e.exact?t:null)})}),w(t.parentNode,e,i))return G.remove(t,1),t=0,rt;f.merge_with_parents&&G.getParent(t.parentNode,function(n){return w(n,e,i)?(G.remove(t,1),t=0,rt):void 0}),t&&f.merge_siblings!==!1&&(t=B(H(t),t),t=B(t,H(t,rt)))}})}var c,u,h=p(e),f=h[0],m=!n&&K.isCollapsed();if("false"!==st(K.getNode())){if(f)if(n)n.nodeType?(u=G.createRng(),u.setStartBefore(n),u.setEndAfter(n),l(R(u,h),null,!0)):l(n,null,!0);else if(m&&f.inline&&!G.select("td.mce-item-selected,th.mce-item-selected").length)W("apply",e,i);else{var g=s.selection.getNode();tt||!h[0].defaultBlock||G.getParent(g,G.isBlock)||b(h[0].defaultBlock),s.selection.setRng(r()),c=K.getBookmark(),l(R(K.getRng(rt),h),c),f.styles&&(f.styles.color||f.styles.textDecoration)&&(ut(g,y,"childNodes"),y(g)),K.moveToBookmark(c),j(K.getRng(rt)),s.nodeChanged()}}else{n=K.getNode();for(var v=0,x=h.length;x>v;v++)if(h[v].ceFalseOverride&&G.is(n,h[v].selector))return void o(n,h[v])}}function x(t,e,i,n){function o(t){var i,n,r,s,a;if(1===t.nodeType&&st(t)&&(s=b,b="true"===st(t),a=!0),i=ct(t.childNodes),b&&!a)for(n=0,r=g.length;r>n&&!L(g[n],e,t,t);n++);if(y.deep&&i.length){for(n=0,r=i.length;r>n;n++)o(i[n]);a&&(b=s)}}function r(i){var o;return lt(u(i.parentNode).reverse(),function(i){var r;o||"_start"==i.id||"_end"==i.id||(r=w(i,t,e,n),r&&r.split!==!1&&(o=i))}),o}function a(t,i,n,o){var r,s,a,l,c,u;if(t){for(u=t.parentNode,r=i.parentNode;r&&r!=u;r=r.parentNode){for(s=G.clone(r,ot),c=0;c<g.length;c++)if(L(g[c],e,s,s)){s=0;break}s&&(a&&s.appendChild(a),l||(l=s),a=s)}!o||y.mixed&&Z(t)||(i=G.split(t,i)),a&&(n.parentNode.insertBefore(a,n),l.appendChild(n))}return i}function c(t){return a(r(t),t,t,!0)}function d(t){var e=G.get(t?"_start":"_end"),i=e[t?"firstChild":"lastChild"];return at(i)&&(i=i[t?"firstChild":"lastChild"]),3==i.nodeType&&0===i.data.length&&(i=t?e.previousSibling||e.nextSibling:e.nextSibling||e.previousSibling),G.remove(e,!0),i}function h(t){var e,i,n=t.commonAncestorContainer;if(t=R(t,g,rt),y.split){if(e=z(t,rt),i=z(t),e!=i){if(/^(TR|TH|TD)$/.test(e.nodeName)&&e.firstChild&&(e="TR"==e.nodeName?e.firstChild.firstChild||e:e.firstChild||e),n&&/^T(HEAD|BODY|FOOT|R)$/.test(n.nodeName)&&l(i)&&i.firstChild&&(i=i.firstChild||i),G.isChildOf(e,i)&&!Z(i)&&!l(e)&&!l(i))return e=$(e,"span",{id:"_start","data-mce-type":"bookmark"}),c(e),void(e=d(rt));e=$(e,"span",{id:"_start","data-mce-type":"bookmark"}),i=$(i,"span",{id:"_end","data-mce-type":"bookmark"}),c(e),c(i),e=d(rt),i=d()}else e=i=c(e);t.startContainer=e.parentNode?e.parentNode:e,t.startOffset=et(e),t.endContainer=i.parentNode?i.parentNode:i,t.endOffset=et(i)+1}Q.walk(t,function(t){lt(t,function(t){o(t),1===t.nodeType&&"underline"===s.dom.getStyle(t,"text-decoration")&&t.parentNode&&"underline"===v(t.parentNode)&&L({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,t)})})}var f,m,g=p(t),y=g[0],b=!0;if(i)return void(i.nodeType?(m=G.createRng(),m.setStartBefore(i),m.setEndAfter(i),h(m)):h(i));if("false"!==st(K.getNode()))K.isCollapsed()&&y.inline&&!G.select("td.mce-item-selected,th.mce-item-selected").length?W("remove",t,e,n):(f=K.getBookmark(),h(K.getRng(rt)),K.moveToBookmark(f),y.inline&&C(t,e,K.getStart())&&j(K.getRng(!0)),s.nodeChanged());else{i=K.getNode();for(var x=0,_=g.length;_>x&&(!g[x].ceFalseOverride||!L(g[x],e,i,i));x++);}}function _(t,e,i){var n=p(t);!C(t,e,i)||"toggle"in n[0]&&!n[0].toggle?b(t,e,i):x(t,e,i)}function w(t,e,i,n){function o(t,e,o){var r,s,a,l=e[o];if(e.onmatch)return e.onmatch(t,e,o);if(l)if(l.length===U){for(r in l)if(l.hasOwnProperty(r)){if(s="attributes"===o?G.getAttrib(t,r):P(t,r),n&&!s&&!e.exact)return;if((!n||e.exact)&&!E(s,A(M(l[r],i),r)))return}}else for(a=0;a<l.length;a++)if("attributes"===o?G.getAttrib(t,l[a]):P(t,l[a]))return e;return e}var r,s,a,l=p(e);if(l&&t)for(s=0;s<l.length;s++)if(r=l[s],D(t,r)&&o(t,r,"attributes")&&o(t,r,"styles")){if(a=r.classes)for(s=0;s<a.length;s++)if(!G.hasClass(t,a[s]))return;return r}}function C(t,e,i){function n(i){var n=G.getRoot();return i===n?!1:(i=G.getParent(i,function(i){return i.parentNode===n||!!w(i,t,e,!0)}),w(i,t,e))}var o;return i?n(i):(i=K.getNode(),n(i)?rt:(o=K.getStart(),o!=i&&n(o)?rt:ot))}function k(t,e){var i,n=[],o={};return i=K.getStart(),G.getParent(i,function(i){var r,s;for(r=0;r<t.length;r++)s=t[r],!o[s]&&w(i,s,e)&&(o[s]=!0,n.push(s))},G.getRoot()),n}function T(t){var e,i,n,o,r,s=p(t);if(s)for(e=K.getStart(),i=u(e),o=s.length-1;o>=0;o--){if(r=s[o].selector,!r||s[o].defaultBlock)return rt;for(n=i.length-1;n>=0;n--)if(G.is(i[n],r))return rt}return ot}function S(t,e,i){var n;return V||(V={},n={},s.on("NodeChange",function(t){var e=u(t.element),i={};e=o.grep(e,function(t){return 1==t.nodeType&&!t.getAttribute("data-mce-bogus")}),lt(V,function(t,o){lt(e,function(r){return w(r,o,{},t.similar)?(n[o]||(lt(t,function(t){t(!0,{node:r,format:o,parents:e})}),n[o]=t),i[o]=t,!1):void 0})}),lt(n,function(o,r){i[r]||(delete n[r],lt(o,function(i){i(!1,{node:t.element,format:r,parents:e})}))})})),lt(t.split(","),function(t){V[t]||(V[t]=[],V[t].similar=i),V[t].push(e)}),this}function N(t){return r.getCssText(s,t)}function D(t,e){return E(t,e.inline)?rt:E(t,e.block)?rt:e.selector?1==t.nodeType&&G.is(t,e.selector):void 0}function E(t,e){return t=t||"",e=e||"",t=""+(t.nodeName||t),e=""+(e.nodeName||e),t.toLowerCase()==e.toLowerCase()}function P(t,e){return A(G.getStyle(t,e),e)}function A(t,e){return("color"==e||"backgroundColor"==e)&&(t=G.toHex(t)),"fontWeight"==e&&700==t&&(t="bold"),"fontFamily"==e&&(t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+t}function M(t,e){return"string"!=typeof t?t=t(e):e&&(t=t.replace(/%(\w+)/g,function(t,i){return e[i]||t})),t}function I(t){return t&&3===t.nodeType&&/^([\t \r\n]+|)$/.test(t.nodeValue)}function $(t,e,i){var n=G.create(e,i);return t.parentNode.insertBefore(n,t),n.appendChild(t),n}function R(e,i,n){function o(t){function e(t){return"BR"==t.nodeName&&t.getAttribute("data-mce-bogus")&&!t.nextSibling}var n,o,r,s,a;if(n=o=t?g:y,s=t?"previousSibling":"nextSibling",a=G.getRoot(),3==n.nodeType&&!I(n)&&(t?v>0:b<n.nodeValue.length))return n;for(;;){if(!i[0].block_expand&&Z(o))return o;for(r=o[s];r;r=r[s])if(!at(r)&&!I(r)&&!e(r))return o;if(o==a||o.parentNode==a){n=o;break}o=o.parentNode}return n}function r(t,e){for(e===U&&(e=3===t.nodeType?t.length:t.childNodes.length);t&&t.hasChildNodes();)t=t.childNodes[e],t&&(e=3===t.nodeType?t.length:t.childNodes.length);return{node:t,offset:e}}function l(t){for(var e=t;e;){if(1===e.nodeType&&st(e))return"false"===st(e)?e:t;e=e.parentNode}return t}function c(e,i,o){function r(t,e){var i,r,s=t.nodeValue;return"undefined"==typeof e&&(e=o?s.length:0),o?(i=s.lastIndexOf(" ",e),r=s.lastIndexOf("\xa0",e),i=i>r?i:r,-1===i||n||i++):(i=s.indexOf(" ",e),r=s.indexOf("\xa0",e),i=-1!==i&&(-1===r||r>i)?i:r),i}var a,l,c,u;if(3===e.nodeType){if(c=r(e,i),-1!==c)return{container:e,offset:c};u=e}for(a=new t(e,G.getParent(e,Z)||s.getBody());l=a[o?"prev":"next"]();)if(3===l.nodeType){if(u=l,c=r(l),-1!==c)return{container:l,offset:c}}else if(Z(l))break;return u?(i=o?0:u.length,{container:u,offset:i}):void 0}function d(t,n){var o,r,s,a;for(3==t.nodeType&&0===t.nodeValue.length&&t[n]&&(t=t[n]),o=u(t),r=0;r<o.length;r++)for(s=0;s<i.length;s++)if(a=i[s],!("collapsed"in a&&a.collapsed!==e.collapsed)&&G.is(o[r],a.selector))return o[r];return t}function h(t,e){var n,o=G.getRoot();if(i[0].wrapper||(n=G.getParent(t,i[0].block,o)),n||(n=G.getParent(3==t.nodeType?t.parentNode:t,function(t){return t!=o&&a(t)})),n&&i[0].wrapper&&(n=u(n,"ul,ol").reverse()[0]||n),!n)for(n=t;n[e]&&!Z(n[e])&&(n=n[e],!E(n,"br")););return n||t}var f,p,m,g=e.startContainer,v=e.startOffset,y=e.endContainer,b=e.endOffset;if(1==g.nodeType&&g.hasChildNodes()&&(f=g.childNodes.length-1,g=g.childNodes[v>f?f:v],3==g.nodeType&&(v=0)),1==y.nodeType&&y.hasChildNodes()&&(f=y.childNodes.length-1,y=y.childNodes[b>f?f:b-1],3==y.nodeType&&(b=y.nodeValue.length)),g=l(g),y=l(y),(at(g.parentNode)||at(g))&&(g=at(g)?g:g.parentNode,g=g.nextSibling||g,3==g.nodeType&&(v=0)),(at(y.parentNode)||at(y))&&(y=at(y)?y:y.parentNode,y=y.previousSibling||y,3==y.nodeType&&(b=y.length)),i[0].inline&&(e.collapsed&&(m=c(g,v,!0),m&&(g=m.container,v=m.offset),m=c(y,b),m&&(y=m.container,b=m.offset)),p=r(y,b),p.node)){for(;p.node&&0===p.offset&&p.node.previousSibling;)p=r(p.node.previousSibling);p.node&&p.offset>0&&3===p.node.nodeType&&" "===p.node.nodeValue.charAt(p.offset-1)&&p.offset>1&&(y=p.node,y.splitText(p.offset-1))}return(i[0].inline||i[0].block_expand)&&(i[0].inline&&3==g.nodeType&&0!==v||(g=o(!0)),i[0].inline&&3==y.nodeType&&b!==y.nodeValue.length||(y=o())),i[0].selector&&i[0].expand!==ot&&!i[0].inline&&(g=d(g,"previousSibling"),y=d(y,"nextSibling")),(i[0].block||i[0].selector)&&(g=h(g,"previousSibling"),y=h(y,"nextSibling"),i[0].block&&(Z(g)||(g=o(!0)),Z(y)||(y=o()))),1==g.nodeType&&(v=et(g),g=g.parentNode),1==y.nodeType&&(b=et(y)+1,y=y.parentNode),{startContainer:g,startOffset:v,endContainer:y,endOffset:b}}function O(t,e){return e.links&&"A"==t.tagName}function L(t,e,i,n){var o,r,s;if(!D(i,t)&&!O(i,t))return ot;if("all"!=t.remove)for(lt(t.styles,function(o,r){o=A(M(o,e),r),"number"==typeof r&&(r=o,n=0),(t.remove_similar||!n||E(P(n,r),o))&&G.setStyle(i,r,""),s=1}),s&&""===G.getAttrib(i,"style")&&(i.removeAttribute("style"),i.removeAttribute("data-mce-style")),lt(t.attributes,function(t,o){var r;if(t=M(t,e),"number"==typeof o&&(o=t,n=0),!n||E(G.getAttrib(n,o),t)){if("class"==o&&(t=G.getAttrib(i,o),t&&(r="",lt(t.split(/\s+/),function(t){/mce\-\w+/.test(t)&&(r+=(r?" ":"")+t)}),r)))return void G.setAttrib(i,o,r);"class"==o&&i.removeAttribute("className"),nt.test(o)&&i.removeAttribute("data-mce-"+o),i.removeAttribute(o)}}),lt(t.classes,function(t){t=M(t,e),(!n||G.hasClass(n,t))&&G.removeClass(i,t)}),r=G.getAttribs(i),o=0;o<r.length;o++)if(0!==r[o].nodeName.indexOf("_"))return ot;return"none"!=t.remove?(F(i,t),rt):void 0}function F(t,e){function i(t,e,i){return t=H(t,e,i),!t||"BR"==t.nodeName||Z(t)}var n,o=t.parentNode;e.block&&(tt?o==G.getRoot()&&(e.list_block&&E(t,e.list_block)||lt(ct(t.childNodes),function(t){J(tt,t.nodeName.toLowerCase())?n?n.appendChild(t):(n=$(t,tt),G.setAttribs(n,s.settings.forced_root_block_attrs)):n=0})):Z(t)&&!Z(o)&&(i(t,ot)||i(t.firstChild,rt,1)||t.insertBefore(G.create("br"),t.firstChild),i(t,rt)||i(t.lastChild,ot,1)||t.appendChild(G.create("br")))),e.selector&&e.inline&&!E(e.inline,t)||G.remove(t,1)}function H(t,e,i){if(t)for(e=e?"nextSibling":"previousSibling",t=i?t:t[e];t;t=t[e])if(1==t.nodeType||!I(t))return t}function B(t,e){function i(t,e){for(o=t;o;o=o[e]){if(3==o.nodeType&&0!==o.nodeValue.length)return t;if(1==o.nodeType&&!at(o))return o}return t}var o,r,s=new n(G);if(t&&e&&(t=i(t,"previousSibling"),e=i(e,"nextSibling"),s.compare(t,e))){for(o=t.nextSibling;o&&o!=e;)r=o,o=o.nextSibling,t.appendChild(r);return G.remove(e),lt(ct(e.childNodes),function(e){t.appendChild(e)}),t}return e}function z(e,i){var n,o,r;return n=e[i?"startContainer":"endContainer"],o=e[i?"startOffset":"endOffset"],1==n.nodeType&&(r=n.childNodes.length-1,!i&&o&&o--,n=n.childNodes[o>r?r:o]),3===n.nodeType&&i&&o>=n.nodeValue.length&&(n=new t(n,s.getBody()).next()||n),3!==n.nodeType||i||0!==o||(n=new t(n,s.getBody()).prev()||n),n}function W(e,i,n,o){function r(t){var e=G.create("span",{id:g,"data-mce-bogus":!0,style:v?"color:red":""});return t&&e.appendChild(s.getDoc().createTextNode(it)),e}function l(t,e){for(;t;){if(3===t.nodeType&&t.nodeValue!==it||t.childNodes.length>1)return!1;e&&1===t.nodeType&&e.push(t),t=t.firstChild}return!0}function c(t){for(;t;){if(t.id===g)return t;t=t.parentNode}}function u(e){var i;if(e)for(i=new t(e,e),e=i.current();e;e=i.next())if(3===e.nodeType)return e}function d(t,e){var i,n;if(t)n=K.getRng(!0),l(t)?(e!==!1&&(n.setStartBefore(t),n.setEndBefore(t)),G.remove(t)):(i=u(t),i.nodeValue.charAt(0)===it&&(i.deleteData(0,1),n.startContainer==i&&n.startOffset>0&&n.setStart(i,n.startOffset-1),n.endContainer==i&&n.endOffset>0&&n.setEnd(i,n.endOffset-1)),G.remove(t,1)),K.setRng(n);else if(t=c(K.getStart()),!t)for(;t=G.get(g);)d(t,!1)}function h(){var t,e,o,s,a,l,d;t=K.getRng(!0),s=t.startOffset,l=t.startContainer,d=l.nodeValue,e=c(K.getStart()),e&&(o=u(e)),d&&s>0&&s<d.length&&/\w/.test(d.charAt(s))&&/\w/.test(d.charAt(s-1))?(a=K.getBookmark(),t.collapse(!0),t=R(t,p(i)),t=Q.split(t),b(i,n,t),K.moveToBookmark(a)):(e&&o.nodeValue===it?b(i,n,e):(e=r(!0),o=e.firstChild,t.insertNode(e),s=1,b(i,n,e)),K.setCursorLocation(o,s))}function f(){var t,e,s,l,c,u,d,h,f=K.getRng(!0),m=[];for(t=f.startContainer,e=f.startOffset,c=t,3==t.nodeType&&(e!=t.nodeValue.length&&(l=!0),c=c.parentNode);c;){if(w(c,i,n,o)){u=c;break}c.nextSibling&&(l=!0),m.push(c),c=c.parentNode}if(u)if(l)s=K.getBookmark(),f.collapse(!0),f=R(f,p(i),!0),f=Q.split(f),x(i,n,f),K.moveToBookmark(s);else{for(h=r(),c=h,d=m.length-1;d>=0;d--)c.appendChild(G.clone(m[d],!1)),c=c.firstChild;c.appendChild(G.doc.createTextNode(it)),c=c.firstChild;var g=G.getParent(u,a);g&&G.isEmpty(g)?u.parentNode.replaceChild(h,u):G.insertAfter(h,u),K.setCursorLocation(c,1),G.isEmpty(u)&&G.remove(u)}}function m(){var t;t=c(K.getStart()),t&&!G.isEmpty(t)&&ut(t,function(t){1!=t.nodeType||t.id===g||G.isEmpty(t)||G.setAttrib(t,"data-mce-bogus",null)},"childNodes")}var g="_mce_caret",v=s.settings.caret_debug;s._hasCaretEvents||(Y=function(){var t,e=[];if(l(c(K.getStart()),e))for(t=e.length;t--;)G.setAttrib(e[t],"data-mce-bogus","1")},q=function(t){var e=t.keyCode;d(),8==e&&K.isCollapsed()&&K.getStart().innerHTML==it&&d(c(K.getStart())),(37==e||39==e)&&d(c(K.getStart())),m()},s.on("SetContent",function(t){t.selection&&m()}),s._hasCaretEvents=!0),"apply"==e?h():f()}function j(e){var i,n,o,r,s,a=e.startContainer,l=e.startOffset;if((e.startContainer!=e.endContainer||!c(e.startContainer.childNodes[e.startOffset]))&&(3==a.nodeType&&l>=a.nodeValue.length&&(l=et(a),a=a.parentNode,i=!0),1==a.nodeType))for(r=a.childNodes,a=r[Math.min(l,r.length-1)],n=new t(a,G.getParent(a,G.isBlock)),(l>r.length-1||i)&&n.next(),o=n.current();o;o=n.next())if(3==o.nodeType&&!I(o))return s=G.create("a",{"data-mce-bogus":"all"},it),o.parentNode.insertBefore(s,o),e.setStart(o,0),K.setRng(e),void G.remove(s)}var V,U,q,Y,X={},G=s.dom,K=s.selection,Q=new e(G),J=s.schema.isValidChild,Z=G.isBlock,tt=s.settings.forced_root_block,et=G.nodeIndex,it="\ufeff",nt=/^(src|href|style)$/,ot=!1,rt=!0,st=G.getContentEditable,at=i.isBookmarkNode,lt=o.each,ct=o.grep,ut=o.walk,dt=o.extend;dt(this,{get:p,register:m,unregister:g,apply:b,remove:x,toggle:_,match:C,matchAll:k,matchNode:w,canApply:T,formatChanged:S,getCssText:N}),h(),f(),s.on("BeforeGetContent",function(t){Y&&"raw"!=t.format&&Y()}),s.on("mouseup keydown",function(t){q&&q(t)})}}),/**
 * UndoManager.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/UndoManager",["tinymce/util/VK","tinymce/Env"],function(t,e){return function(t){function i(){return t.serializer.getTrimmedContent()}function n(e){t.setDirty(e)}function o(t){a.typing=!1,a.add({},t)}var r,s,a=this,l=0,c=[],u=0;return t.on("init",function(){a.add()}),t.on("BeforeExecCommand",function(t){var e=t.command;"Undo"!=e&&"Redo"!=e&&"mceRepaint"!=e&&a.beforeChange()}),t.on("ExecCommand",function(t){var e=t.command;"Undo"!=e&&"Redo"!=e&&"mceRepaint"!=e&&o(t)}),t.on("ObjectResizeStart Cut",function(){a.beforeChange()}),t.on("SaveContent ObjectResized blur",o),t.on("DragEnd",o),t.on("KeyUp",function(r){var l=r.keyCode;r.isDefaultPrevented()||((l>=33&&36>=l||l>=37&&40>=l||45==l||13==l||r.ctrlKey)&&(o(),t.nodeChanged()),(46==l||8==l||e.mac&&(91==l||93==l))&&t.nodeChanged(),s&&a.typing&&(t.isDirty()||(n(c[0]&&i()!=c[0].content),t.isDirty()&&t.fire("change",{level:c[0],lastLevel:null})),t.fire("TypingUndo"),s=!1,t.nodeChanged()))}),t.on("KeyDown",function(t){var e=t.keyCode;if(!t.isDefaultPrevented()){if(e>=33&&36>=e||e>=37&&40>=e||45==e)return void(a.typing&&o(t));var i=t.ctrlKey&&!t.altKey||t.metaKey;!(16>e||e>20)||224==e||91==e||a.typing||i||(a.beforeChange(),a.typing=!0,a.add({},t),s=!0)}}),t.on("MouseDown",function(t){a.typing&&o(t)}),t.addShortcut("meta+z","","Undo"),t.addShortcut("meta+y,meta+shift+z","","Redo"),t.on("AddUndo Undo Redo ClearUndos",function(e){e.isDefaultPrevented()||t.nodeChanged()}),a={data:c,typing:!1,beforeChange:function(){u||(r=t.selection.getBookmark(2,!0))},add:function(e,o){var s,a,d=t.settings;if(e=e||{},e.content=i(),u||t.removed)return null;if(a=c[l],t.fire("BeforeAddUndo",{level:e,lastLevel:a,originalEvent:o}).isDefaultPrevented())return null;if(a&&a.content==e.content)return null;if(c[l]&&(c[l].beforeBookmark=r),d.custom_undo_redo_levels&&c.length>d.custom_undo_redo_levels){for(s=0;s<c.length-1;s++)c[s]=c[s+1];c.length--,l=c.length}e.bookmark=t.selection.getBookmark(2,!0),l<c.length-1&&(c.length=l+1),c.push(e),l=c.length-1;var h={level:e,lastLevel:a,originalEvent:o};return t.fire("AddUndo",h),l>0&&(n(!0),t.fire("change",h)),e},undo:function(){var e;return a.typing&&(a.add(),a.typing=!1),l>0&&(e=c[--l],t.setContent(e.content,{format:"raw"}),t.selection.moveToBookmark(e.beforeBookmark),n(!0),t.fire("undo",{level:e})),e},redo:function(){var e;return l<c.length-1&&(e=c[++l],t.setContent(e.content,{format:"raw"}),t.selection.moveToBookmark(e.bookmark),n(!0),t.fire("redo",{level:e})),e},clear:function(){c=[],l=0,a.typing=!1,t.fire("ClearUndos")},hasUndo:function(){return l>0||a.typing&&c[0]&&i()!=c[0].content},hasRedo:function(){return l<c.length-1&&!this.typing},transact:function(t){a.beforeChange();try{u++,t()}finally{u--}a.add()}}}}),/**
 * EnterKey.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/EnterKey",["tinymce/dom/TreeWalker","tinymce/dom/RangeUtils","tinymce/Env"],function(t,e,i){var n=i.ie&&i.ie<11;return function(o){function r(r){function f(t){return t&&s.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==s.getContentEditable(t)}function p(t){return t&&/^(TD|TH|CAPTION)$/.test(t.nodeName)}function m(t){var e;s.isBlock(t)&&(e=a.getRng(),t.appendChild(s.create("span",null,"\xa0")),a.select(t),t.lastChild.outerHTML="",a.setRng(e))}function g(t){var e,i=t,n=[];if(i){for(;i=i.firstChild;){if(s.isBlock(i))return;1!=i.nodeType||d[i.nodeName.toLowerCase()]||n.push(i)}for(e=n.length;e--;)i=n[e],!i.hasChildNodes()||i.firstChild==i.lastChild&&""===i.firstChild.nodeValue?s.remove(i):"A"==i.nodeName&&" "===(i.innerText||i.textContent)&&s.remove(i)}}function v(e){function n(t){for(;t;){if(1==t.nodeType||3==t.nodeType&&t.data&&/[\r\n\s]/.test(t.data))return t;t=t.nextSibling}}var o,r,l,c,u=e;if(e){if(i.ie&&i.ie<9&&$&&$.firstChild&&$.firstChild==$.lastChild&&"BR"==$.firstChild.tagName&&s.remove($.firstChild),/^(LI|DT|DD)$/.test(e.nodeName)){var d=n(e.firstChild);d&&/^(UL|OL|DL)$/.test(d.nodeName)&&e.insertBefore(s.doc.createTextNode("\xa0"),e.firstChild)}if(l=s.createRng(),i.ie||e.normalize(),e.hasChildNodes()){for(o=new t(e,e);r=o.current();){if(3==r.nodeType){l.setStart(r,0),l.setEnd(r,0);break}if(h[r.nodeName.toLowerCase()]){l.setStartBefore(r),l.setEndBefore(r);break}u=r,r=o.next()}r||(l.setStart(u,0),l.setEnd(u,0))}else"BR"==e.nodeName?e.nextSibling&&s.isBlock(e.nextSibling)?((!R||9>R)&&(c=s.create("br"),e.parentNode.insertBefore(c,e)),l.setStartBefore(e),l.setEndBefore(e)):(l.setStartAfter(e),l.setEndAfter(e)):(l.setStart(e,0),l.setEnd(e,0));a.setRng(l),s.remove(c),a.scrollIntoView(e)}}function y(t){var e=l.forced_root_block;e&&e.toLowerCase()===t.tagName.toLowerCase()&&s.setAttribs(t,l.forced_root_block_attrs)}function b(t){t.innerHTML=n?"":'<br data-mce-bogus="1">'}function x(t){var e,i,o,r=M,a=u.getTextInlineElements();if(t||"TABLE"==B?(e=s.create(t||W),y(e)):e=$.cloneNode(!1),o=e,l.keep_styles!==!1)do if(a[r.nodeName]){if("_mce_caret"==r.id)continue;i=r.cloneNode(!1),s.setAttrib(i,"id",""),e.hasChildNodes()?(i.appendChild(e.firstChild),e.appendChild(i)):(o=i,e.appendChild(i))}while(r=r.parentNode);return n||(o.innerHTML='<br data-mce-bogus="1">'),e}function _(e){var i,n,o;if(3==M.nodeType&&(e?I>0:I<M.nodeValue.length))return!1;if(M.parentNode==$&&j&&!e)return!0;if(e&&1==M.nodeType&&M==$.firstChild)return!0;if("TABLE"===M.nodeName||M.previousSibling&&"TABLE"==M.previousSibling.nodeName)return j&&!e||!j&&e;for(i=new t(M,$),3==M.nodeType&&(e&&0===I?i.prev():e||I!=M.nodeValue.length||i.next());n=i.current();){if(1===n.nodeType){if(!n.getAttribute("data-mce-bogus")&&(o=n.nodeName.toLowerCase(),d[o]&&"br"!==o))return!1}else if(3===n.nodeType&&!/^[ \t\r\n]*$/.test(n.nodeValue))return!1;e?i.prev():i.next()}return!0}function w(t,e){var i,n,r,a,l,c,d=W||"P";if(n=s.getParent(t,s.isBlock),!n||!f(n)){if(n=n||A,c=n==o.getBody()||p(n)?n.nodeName.toLowerCase():n.parentNode.nodeName.toLowerCase(),!n.hasChildNodes())return i=s.create(d),y(i),n.appendChild(i),E.setStart(i,0),E.setEnd(i,0),i;for(a=t;a.parentNode!=n;)a=a.parentNode;for(;a&&!s.isBlock(a);)r=a,a=a.previousSibling;if(r&&u.isValidChild(c,d.toLowerCase())){for(i=s.create(d),y(i),r.parentNode.insertBefore(i,r),a=r;a&&!s.isBlock(a);)l=a.nextSibling,i.appendChild(a),a=l;E.setStart(t,e),E.setEnd(t,e)}}return t}function C(){function t(t){for(var e=H[t?"firstChild":"lastChild"];e&&1!=e.nodeType;)e=e[t?"nextSibling":"previousSibling"];return e===$}function e(){var t=H.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:H}if(H!=o.getBody()){var i=H.parentNode.nodeName;/^(OL|UL|LI)$/.test(i)&&(W="LI"),L=W?x(W):s.create("BR"),t(!0)&&t()?"LI"==i?s.insertAfter(L,e()):s.replace(L,H):t(!0)?"LI"==i?(s.insertAfter(L,e()),L.appendChild(s.doc.createTextNode(" ")),L.appendChild(H)):H.parentNode.insertBefore(L,H):t()?(s.insertAfter(L,e()),m(L)):(H=e(),P=E.cloneRange(),P.setStartAfter($),P.setEndAfter(H),F=P.extractContents(),"LI"==W&&"LI"==F.firstChild.nodeName?(L=F.firstChild,s.insertAfter(F,H)):(s.insertAfter(F,H),s.insertAfter(L,H))),s.remove($),v(L),c.add()}}function k(){o.execCommand("InsertLineBreak",!1,r)}function T(t){do 3===t.nodeType&&(t.nodeValue=t.nodeValue.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)}function S(t){var e,i,n=s.getRoot();for(e=t;e!==n&&"false"!==s.getContentEditable(e);)"true"===s.getContentEditable(e)&&(i=e),e=e.parentNode;return e!==n?i:n}function N(t){var e;n||(t.normalize(),e=t.lastChild,(!e||/^(left|right)$/gi.test(s.getStyle(e,"float",!0)))&&s.add(t,"br"))}function D(){L=/^(H[1-6]|PRE|FIGURE)$/.test(B)&&"HGROUP"!=z?x(W):x(),l.end_container_on_empty_block&&f(H)&&s.isEmpty($)?L=s.split(H,$):s.insertAfter(L,$),v(L)}var E,P,A,M,I,$,R,O,L,F,H,B,z,W,j;if(E=a.getRng(!0),!r.isDefaultPrevented()){if(!E.collapsed)return void o.execCommand("Delete");if(new e(s).normalize(E),M=E.startContainer,I=E.startOffset,W=(l.force_p_newlines?"p":"")||l.forced_root_block,W=W?W.toUpperCase():"",R=s.doc.documentMode,O=r.shiftKey,1==M.nodeType&&M.hasChildNodes()&&(j=I>M.childNodes.length-1,M=M.childNodes[Math.min(I,M.childNodes.length-1)]||M,I=j&&3==M.nodeType?M.nodeValue.length:0),A=S(M)){if(c.beforeChange(),!s.isBlock(A)&&A!=s.getRoot())return void((!W||O)&&k());if((W&&!O||!W&&O)&&(M=w(M,I)),$=s.getParent(M,s.isBlock),H=$?s.getParent($.parentNode,s.isBlock):null,B=$?$.nodeName.toUpperCase():"",z=H?H.nodeName.toUpperCase():"","LI"!=z||r.ctrlKey||($=H,B=z),/^(LI|DT|DD)$/.test(B)){if(!W&&O)return void k();if(s.isEmpty($))return void C()}if("PRE"==B&&l.br_in_pre!==!1){if(!O)return void k()}else if(!W&&!O&&"LI"!=B||W&&O)return void k();W&&$===o.getBody()||(W=W||"P",_()?D():_(!0)?(L=$.parentNode.insertBefore(x(),$),m(L),v($)):(P=E.cloneRange(),P.setEndAfter($),F=P.extractContents(),T(F),L=F.firstChild,s.insertAfter(F,$),g(L),N($),s.isEmpty($)&&b($),L.normalize(),s.isEmpty(L)?(s.remove(L),D()):v(L)),s.setAttrib(L,"id",""),o.fire("NewBlock",{newBlock:L}),c.add())}}}var s=o.dom,a=o.selection,l=o.settings,c=o.undoManager,u=o.schema,d=u.getNonEmptyElements(),h=u.getMoveCaretBeforeOnEnterElements();o.on("keydown",function(t){13==t.keyCode&&r(t)!==!1&&t.preventDefault()})}}),/**
 * ForceBlocks.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ForceBlocks",[],function(){return function(t){function e(){var e,a,l,c,u,d,h,f,p,m,g,v,y=o.getStart(),b=t.getBody(),x=-16777215;if(v=i.forced_root_block,y&&1===y.nodeType&&v){for(;y&&y!=b;){if(s[y.nodeName])return;y=y.parentNode}if(e=o.getRng(),e.setStart){a=e.startContainer,l=e.startOffset,c=e.endContainer,u=e.endOffset;try{p=t.getDoc().activeElement===b}catch(_){}}else e.item&&(y=e.item(0),e=t.getDoc().body.createTextRange(),e.moveToElementText(y)),p=e.parentElement().ownerDocument===t.getDoc(),m=e.duplicate(),m.collapse(!0),l=-1*m.move("character",x),m.collapsed||(m=e.duplicate(),m.collapse(!1),u=-1*m.move("character",x)-l);for(y=b.firstChild,g=b.nodeName.toLowerCase();y;)if((3===y.nodeType||1==y.nodeType&&!s[y.nodeName])&&r.isValidChild(g,v.toLowerCase())){if(3===y.nodeType&&0===y.nodeValue.length){h=y,y=y.nextSibling,n.remove(h);continue}d||(d=n.create(v,t.settings.forced_root_block_attrs),y.parentNode.insertBefore(d,y),f=!0),h=y,y=y.nextSibling,d.appendChild(h)}else d=null,y=y.nextSibling;if(f&&p){if(e.setStart)e.setStart(a,l),e.setEnd(c,u),o.setRng(e);else try{e=t.getDoc().body.createTextRange(),e.moveToElementText(b),e.collapse(!0),e.moveStart("character",l),u>0&&e.moveEnd("character",u),e.select()}catch(_){}t.nodeChanged()}}}var i=t.settings,n=t.dom,o=t.selection,r=t.schema,s=r.getBlockElements();i.forced_root_block&&t.on("NodeChange",e)}}),/**
 * EditorCommands.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/EditorCommands",["tinymce/html/Serializer","tinymce/Env","tinymce/util/Tools","tinymce/dom/ElementUtils","tinymce/dom/RangeUtils","tinymce/dom/TreeWalker"],function(t,i,n,o,r,s){var a=n.each,l=n.extend,c=n.map,u=n.inArray,d=n.explode,h=i.ie,f=i.ie&&i.ie<11,p=!0,m=!1;return function(n){function g(t,e,i,o){var r,s,l=0;if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)||o&&o.skip_focus||n.focus(),o=n.fire("BeforeExecCommand",{command:t,ui:e,value:i}),o.isDefaultPrevented())return!1;if(s=t.toLowerCase(),r=$.exec[s])return r(s,e,i),n.fire("ExecCommand",{command:t,ui:e,value:i}),!0;if(a(n.plugins,function(o){return o.execCommand&&o.execCommand(t,e,i)?(n.fire("ExecCommand",{command:t,ui:e,value:i}),l=!0,!1):void 0}),l)return l;if(n.theme&&n.theme.execCommand&&n.theme.execCommand(t,e,i))return n.fire("ExecCommand",{command:t,ui:e,value:i}),!0;try{l=n.getDoc().execCommand(t,e,i)}catch(c){}return l?(n.fire("ExecCommand",{command:t,ui:e,value:i}),!0):!1}function v(t){var e;if(!n._isHidden()){if(t=t.toLowerCase(),e=$.state[t])return e(t);try{return n.getDoc().queryCommandState(t)}catch(i){}return!1}}function y(t){var e;if(!n._isHidden()){if(t=t.toLowerCase(),e=$.value[t])return e(t);try{return n.getDoc().queryCommandValue(t)}catch(i){}}}function b(t,e){e=e||"exec",a(t,function(t,i){a(i.toLowerCase().split(","),function(i){$[e][i]=t})})}function x(t,e,i){t=t.toLowerCase(),$.exec[t]=function(t,o,r,s){return e.call(i||n,o,r,s)}}function _(t){if(t=t.toLowerCase(),$.exec[t])return!0;try{return n.getDoc().queryCommandSupported(t)}catch(e){}return!1}function w(t,e,i){t=t.toLowerCase(),$.state[t]=function(){return e.call(i||n)}}function C(t,e,i){t=t.toLowerCase(),$.value[t]=function(){return e.call(i||n)}}function k(t){return t=t.toLowerCase(),!!$.exec[t]}function T(t,i,o){return i===e&&(i=m),o===e&&(o=null),n.getDoc().execCommand(t,i,o)}function S(t){return M.match(t)}function N(t,i){M.toggle(t,i?{value:i}:e),n.nodeChanged()}function D(t){I=A.getBookmark(t)}function E(){A.moveToBookmark(I)}var P,A,M,I,$={state:{},exec:{},value:{}},R=n.settings;n.on("PreInit",function(){P=n.dom,A=n.selection,R=n.settings,M=n.formatter}),l(this,{execCommand:g,queryCommandState:v,queryCommandValue:y,queryCommandSupported:_,addCommands:b,addCommand:x,addQueryStateHandler:w,addQueryValueHandler:C,hasCustomCommand:k}),b({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){n.undoManager.add()},"Cut,Copy,Paste":function(t){var e,o=n.getDoc();try{T(t)}catch(r){e=p}if(e||!o.queryCommandSupported(t)){var s=n.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");i.mac&&(s=s.replace(/Ctrl\+/g,"\u2318+")),n.notificationManager.open({text:s,type:"error"})}},unlink:function(){if(A.isCollapsed()){var t=A.getNode();return void("A"==t.tagName&&n.dom.remove(t,!0))}M.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(t){var e=t.substring(7);"full"==e&&(e="justify"),a("left,center,right,justify".split(","),function(t){e!=t&&M.remove("align"+t)}),"none"!=e&&N("align"+e)},"InsertUnorderedList,InsertOrderedList":function(t){var e,i;T(t),e=P.getParent(A.getNode(),"ol,ul"),e&&(i=e.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(i.nodeName)&&(D(),P.split(i,e),E()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){N(t)},"ForeColor,HiliteColor,FontName":function(t,e,i){N(t,i)},FontSize:function(t,e,i){var n,o;i>=1&&7>=i&&(o=d(R.font_size_style_values),n=d(R.font_size_classes),i=n?n[i-1]||i:o[i-1]||i),N(t,i)},RemoveFormat:function(t){M.remove(t)},mceBlockQuote:function(){N("blockquote")},FormatBlock:function(t,e,i){return N(i||"p")},mceCleanup:function(){var t=A.getBookmark();n.setContent(n.getContent({cleanup:p}),{cleanup:p}),A.moveToBookmark(t)},mceRemoveNode:function(t,e,i){var o=i||A.getNode();o!=n.getBody()&&(D(),n.dom.remove(o,p),E())},mceSelectNodeDepth:function(t,e,i){var o=0;P.getParent(A.getNode(),function(t){return 1==t.nodeType&&o++==i?(A.select(t),m):void 0},n.getBody())},mceSelectNode:function(t,e,i){A.select(i)},mceInsertContent:function(e,i,r){function s(t){function e(t){return n[t]&&3==n[t].nodeType}var i,n,o;return i=A.getRng(!0),n=i.startContainer,o=i.startOffset,3==n.nodeType&&(o>0?t=t.replace(/^&nbsp;/," "):e("previousSibling")||(t=t.replace(/^ /,"&nbsp;")),o<n.length?t=t.replace(/&nbsp;(<br>|)$/," "):e("nextSibling")||(t=t.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),t}function l(){var t,e,i;t=A.getRng(!0),e=t.startContainer,i=t.startOffset,3==e.nodeType&&t.collapsed&&("\xa0"===e.data[i]?(e.deleteData(i,1),/[\u00a0| ]$/.test(r)||(r+=" ")):"\xa0"===e.data[i-1]&&(e.deleteData(i-1,1),/[\u00a0| ]$/.test(r)||(r=" "+r)))}function c(t){if(k)for(_=t.firstChild;_;_=_.walk(!0))S[_.name]&&_.attr("data-mce-new","true")}function u(){if(k){var t=n.getBody(),e=new o(P);a(P.select("*[data-mce-new]"),function(i){i.removeAttribute("data-mce-new");for(var n=i.parentNode;n&&n!=t;n=n.parentNode)e.compare(n,i)&&P.remove(i,!0)})}}function d(t){function e(t){for(var e=n.getBody();t&&t!==e;t=t.parentNode)if("false"===n.dom.getContentEditable(t))return t;return null}var i;if(t){if(A.scrollIntoView(t),i=e(t))return P.remove(t),void A.select(i);x=P.createRng(),_=t.previousSibling,_&&3==_.nodeType?(x.setStart(_,_.nodeValue.length),h||(w=t.nextSibling,w&&3==w.nodeType&&(_.appendData(w.data),w.parentNode.removeChild(w)))):(x.setStartBefore(t),x.setEndBefore(t)),P.remove(t),A.setRng(x)}}var f,p,m,g,v,y,b,x,_,w,C,k,T,S=n.schema.getTextInlineElements();"string"!=typeof r&&(k=r.merge,T=r.data,r=r.content),/^ | $/.test(r)&&(r=s(r)),f=n.parser,p=new t({validate:R.validate},n.schema),C='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',y={content:r,format:"html",selection:!0},n.fire("BeforeSetContent",y),r=y.content,-1==r.indexOf("{$caret}")&&(r+="{$caret}"),r=r.replace(/\{\$caret\}/,C),x=A.getRng();var N=x.startContainer||(x.parentElement?x.parentElement():null),D=n.getBody();N===D&&A.isCollapsed()&&P.isBlock(D.firstChild)&&P.isEmpty(D.firstChild)&&(x=P.createRng(),x.setStart(D.firstChild,0),x.setEnd(D.firstChild,0),A.setRng(x)),A.isCollapsed()||(n.getDoc().execCommand("Delete",!1,null),l()),m=A.getNode();var E={context:m.nodeName.toLowerCase(),data:T};if(v=f.parse(r,E),c(v),_=v.lastChild,"mce_marker"==_.attr("id"))for(b=_,_=_.prev;_;_=_.walk(!0))if(3==_.type||!P.isBlock(_.name)){n.schema.isValidChild(_.parent.name,"span")&&_.parent.insert(b,_,"br"===_.name);break}if(n._selectionOverrides.showBlockCaretContainer(m),E.invalid){for(A.setContent(C),m=A.getNode(),g=n.getBody(),9==m.nodeType?m=_=g:_=m;_!==g;)m=_,_=_.parentNode;r=m==g?g.innerHTML:P.getOuterHTML(m),r=p.serialize(f.parse(r.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return p.serialize(v)}))),m==g?P.setHTML(g,r):P.setOuterHTML(m,r)}else r=p.serialize(v),_=m.firstChild,w=m.lastChild,!_||_===w&&"BR"===_.nodeName?P.setHTML(m,r):A.setContent(r);u(),d(P.get("mce_marker")),n.fire("SetContent",y),n.addVisual()},mceInsertRawHTML:function(t,e,i){A.setContent("tiny_mce_marker"),n.setContent(n.getContent().replace(/tiny_mce_marker/g,function(){return i}))},mceToggleFormat:function(t,e,i){N(i)},mceSetContent:function(t,e,i){n.setContent(i)},"Indent,Outdent":function(t){var e,i,o;e=R.indentation,i=/[a-z%]+$/i.exec(e),e=parseInt(e,10),v("InsertUnorderedList")||v("InsertOrderedList")?T(t):(R.forced_root_block||P.getParent(A.getNode(),P.isBlock)||M.apply("div"),a(A.getSelectedBlocks(),function(r){if("false"!==P.getContentEditable(r)&&"LI"!=r.nodeName){var s=n.getParam("indent_use_margin",!1)?"margin":"padding";s+="rtl"==P.getStyle(r,"direction",!0)?"Right":"Left","outdent"==t?(o=Math.max(0,parseInt(r.style[s]||0,10)-e),P.setStyle(r,s,o?o+i:"")):(o=parseInt(r.style[s]||0,10)+e+i,P.setStyle(r,s,o))}}))},mceRepaint:function(){},InsertHorizontalRule:function(){n.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){n.hasVisual=!n.hasVisual,n.addVisual()},mceReplaceContent:function(t,e,i){n.execCommand("mceInsertContent",!1,i.replace(/\{\$selection\}/g,A.getContent({format:"text"})))},mceInsertLink:function(t,e,i){var n;"string"==typeof i&&(i={href:i}),n=P.getParent(A.getNode(),"a"),i.href=i.href.replace(" ","%20"),n&&i.href||M.remove("link"),i.href&&M.apply("link",i,n)},selectAll:function(){var t,e=P.getRoot();A.getRng().setStart?(t=P.createRng(),t.setStart(e,0),t.setEnd(e,e.childNodes.length),A.setRng(t)):(t=A.getRng(),t.item||(t.moveToElementText(e),t.select()))},"delete":function(){T("Delete");var t=n.getBody();P.isEmpty(t)&&(n.setContent(""),t.firstChild&&P.isBlock(t.firstChild)?n.selection.setCursorLocation(t.firstChild,0):n.selection.setCursorLocation(t,0))},mceNewDocument:function(){n.setContent("")},InsertLineBreak:function(t,e,i){function o(){for(var t,e=new s(m,v),i=n.schema.getNonEmptyElements();t=e.next();)if(i[t.nodeName.toLowerCase()]||t.length>0)return!0}var a,l,c,u=i,d=A.getRng(!0);new r(P).normalize(d);var h=d.startOffset,m=d.startContainer;if(1==m.nodeType&&m.hasChildNodes()){var g=h>m.childNodes.length-1;m=m.childNodes[Math.min(h,m.childNodes.length-1)]||m,h=g&&3==m.nodeType?m.nodeValue.length:0}var v=P.getParent(m,P.isBlock),y=v?v.nodeName.toUpperCase():"",b=v?P.getParent(v.parentNode,P.isBlock):null,x=b?b.nodeName.toUpperCase():"",_=u&&u.ctrlKey;"LI"!=x||_||(v=b,y=x),m&&3==m.nodeType&&h>=m.nodeValue.length&&(f||o()||(a=P.create("br"),d.insertNode(a),d.setStartAfter(a),d.setEndAfter(a),l=!0)),a=P.create("br"),d.insertNode(a);var w=P.doc.documentMode;return f&&"PRE"==y&&(!w||8>w)&&a.parentNode.insertBefore(P.doc.createTextNode("\r"),a),c=P.create("span",{},"&nbsp;"),a.parentNode.insertBefore(c,a),A.scrollIntoView(c),P.remove(c),l?(d.setStartBefore(a),d.setEndBefore(a)):(d.setStartAfter(a),d.setEndAfter(a)),A.setRng(d),n.undoManager.add(),p}}),b({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(t){var e="align"+t.substring(7),i=A.isCollapsed()?[P.getParent(A.getNode(),P.isBlock)]:A.getSelectedBlocks(),n=c(i,function(t){return!!M.matchNode(t,e)});return-1!==u(n,p)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){return S(t)},mceBlockQuote:function(){return S("blockquote")},Outdent:function(){var t;if(R.inline_styles){if((t=P.getParent(A.getStart(),P.isBlock))&&parseInt(t.style.paddingLeft,10)>0)return p;if((t=P.getParent(A.getEnd(),P.isBlock))&&parseInt(t.style.paddingLeft,10)>0)return p}return v("InsertUnorderedList")||v("InsertOrderedList")||!R.inline_styles&&!!P.getParent(A.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(t){var e=P.getParent(A.getNode(),"ul,ol");return e&&("insertunorderedlist"===t&&"UL"===e.tagName||"insertorderedlist"===t&&"OL"===e.tagName)}},"state"),b({"FontSize,FontName":function(t){var e,i=0;return(e=P.getParent(A.getNode(),"span"))&&(i="fontsize"==t?e.style.fontSize:e.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),i}},"value"),b({Undo:function(){n.undoManager.undo()},Redo:function(){n.undoManager.redo()}})}}),/**
 * URI.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/util/URI",["tinymce/util/Tools"],function(t){function e(t,r){var s,a,l=this;if(t=n(t),r=l.settings=r||{},s=r.base_uri,/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t))return void(l.source=t);var c=0===t.indexOf("//");0!==t.indexOf("/")||c||(t=(s?s.protocol||"http":"http")+"://mce_host"+t),/^[\w\-]*:?\/\//.test(t)||(a=r.base_uri?r.base_uri.path:new e(location.href).directory,""===r.base_uri.protocol?t="//mce_host"+l.toAbsPath(a,t):(t=/([^#?]*)([#?]?.*)/.exec(t),t=(s&&s.protocol||"http")+"://mce_host"+l.toAbsPath(a,t[1])+t[2])),t=t.replace(/@@/g,"(mce_at)"),t=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t),i(o,function(e,i){var n=t[i];n&&(n=n.replace(/\(mce_at\)/g,"@@")),l[e]=n}),s&&(l.protocol||(l.protocol=s.protocol),l.userInfo||(l.userInfo=s.userInfo),l.port||"mce_host"!==l.host||(l.port=s.port),l.host&&"mce_host"!==l.host||(l.host=s.host),l.source=""),c&&(l.protocol="")}var i=t.each,n=t.trim,o="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),r={ftp:21,http:80,https:443,mailto:25};return e.prototype={setPath:function(t){var e=this;t=/^(.*?)\/?(\w+)?$/.exec(t),e.path=t[0],e.directory=t[1],e.file=t[2],e.source="",e.getURI()},toRelative:function(t){var i,n=this;if("./"===t)return t;if(t=new e(t,{base_uri:n}),"mce_host"!=t.host&&n.host!=t.host&&t.host||n.port!=t.port||n.protocol!=t.protocol&&""!==t.protocol)return t.getURI();var o=n.getURI(),r=t.getURI();return o==r||"/"==o.charAt(o.length-1)&&o.substr(0,o.length-1)==r?o:(i=n.toRelPath(n.path,t.path),t.query&&(i+="?"+t.query),t.anchor&&(i+="#"+t.anchor),i)},toAbsolute:function(t,i){return t=new e(t,{base_uri:this}),t.getURI(i&&this.isSameOrigin(t))},isSameOrigin:function(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;var e=r[this.protocol];if(e&&(this.port||e)==(t.port||e))return!0}return!1},toRelPath:function(t,e){var i,n,o,r=0,s="";if(t=t.substring(0,t.lastIndexOf("/")),t=t.split("/"),i=e.split("/"),t.length>=i.length)for(n=0,o=t.length;o>n;n++)if(n>=i.length||t[n]!=i[n]){r=n+1;break}if(t.length<i.length)for(n=0,o=i.length;o>n;n++)if(n>=t.length||t[n]!=i[n]){r=n+1;break}if(1===r)return e;for(n=0,o=t.length-(r-1);o>n;n++)s+="../";for(n=r-1,o=i.length;o>n;n++)s+=n!=r-1?"/"+i[n]:i[n];return s},toAbsPath:function(t,e){var n,o,r,s=0,a=[];for(o=/\/$/.test(e)?"/":"",t=t.split("/"),e=e.split("/"),i(t,function(t){t&&a.push(t)}),t=a,n=e.length-1,a=[];n>=0;n--)0!==e[n].length&&"."!==e[n]&&(".."!==e[n]?s>0?s--:a.push(e[n]):s++);return n=t.length-s,r=0>=n?a.reverse().join("/"):t.slice(0,n).join("/")+"/"+a.reverse().join("/"),0!==r.indexOf("/")&&(r="/"+r),o&&r.lastIndexOf("/")!==r.length-1&&(r+=o),r},getURI:function(t){var e,i=this;return(!i.source||t)&&(e="",t||(e+=i.protocol?i.protocol+"://":"//",i.userInfo&&(e+=i.userInfo+"@"),i.host&&(e+=i.host),i.port&&(e+=":"+i.port)),i.path&&(e+=i.path),i.query&&(e+="?"+i.query),i.anchor&&(e+="#"+i.anchor),i.source=e),i.source}},e.parseDataUri=function(t){var e,i;return t=decodeURIComponent(t).split(","),i=/data:([^;]+)/.exec(t[0]),i&&(e=i[1]),{type:e,data:t[1]}},e}),/**
 * Class.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/util/Class",["tinymce/util/Tools"],function(t){function e(){}var i,n,o=t.each,r=t.extend;return e.extend=i=function(t){function e(){var t,e,i,o=this;if(!n&&(o.init&&o.init.apply(o,arguments),e=o.Mixins))for(t=e.length;t--;)i=e[t],i.init&&i.init.apply(o,arguments)}function s(){return this}function a(t,e){return function(){var i,n=this,o=n._super;return n._super=h[t],i=e.apply(n,arguments),n._super=o,i}}var l,c,u,d=this,h=d.prototype;n=!0,l=new d,n=!1,t.Mixins&&(o(t.Mixins,function(e){e=e;for(var i in e)"init"!==i&&(t[i]=e[i])}),h.Mixins&&(t.Mixins=h.Mixins.concat(t.Mixins))),t.Methods&&o(t.Methods.split(","),function(e){t[e]=s}),t.Properties&&o(t.Properties.split(","),function(e){var i="_"+e;t[e]=function(t){var e,n=this;return t!==e?(n[i]=t,n):n[i]}}),t.Statics&&o(t.Statics,function(t,i){e[i]=t}),t.Defaults&&h.Defaults&&(t.Defaults=r({},h.Defaults,t.Defaults));for(c in t)u=t[c],"function"==typeof u&&h[c]?l[c]=a(c,u):l[c]=u;return e.prototype=l,e.constructor=e,e.extend=i,e},e}),/**
 * EventDispatcher.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/util/EventDispatcher",["tinymce/util/Tools"],function(t){function e(e){function i(){return!1}function n(){return!0}function o(t,o){var r,a,l,u;if(t=t.toLowerCase(),o=o||{},o.type=t,o.target||(o.target=c),o.preventDefault||(o.preventDefault=function(){o.isDefaultPrevented=n},o.stopPropagation=function(){o.isPropagationStopped=n},o.stopImmediatePropagation=function(){o.isImmediatePropagationStopped=n},o.isDefaultPrevented=i,o.isPropagationStopped=i,o.isImmediatePropagationStopped=i),e.beforeFire&&e.beforeFire(o),r=h[t])for(a=0,l=r.length;l>a;a++){if(u=r[a],u.once&&s(t,u.func),o.isImmediatePropagationStopped())return o.stopPropagation(),o;if(u.func.call(c,o)===!1)return o.preventDefault(),o}return o}function r(e,n,o,r){var s,a,l;if(n===!1&&(n=i),n)for(n={func:n},r&&t.extend(n,r),a=e.toLowerCase().split(" "),l=a.length;l--;)e=a[l],s=h[e],s||(s=h[e]=[],u(e,!0)),o?s.unshift(n):s.push(n);return d}function s(t,e){var i,n,o,r,s;if(t)for(r=t.toLowerCase().split(" "),i=r.length;i--;){if(t=r[i],n=h[t],!t){for(o in h)u(o,!1),delete h[o];return d}if(n){if(e)for(s=n.length;s--;)n[s].func===e&&(n=n.slice(0,s).concat(n.slice(s+1)),h[t]=n);else n.length=0;n.length||(u(t,!1),delete h[t])}}else{for(t in h)u(t,!1);h={}}return d}function a(t,e,i){return r(t,e,i,{once:!0})}function l(t){return t=t.toLowerCase(),!(!h[t]||0===h[t].length)}var c,u,d=this,h={};e=e||{},c=e.scope||d,u=e.toggleEvent||i,d.fire=o,d.on=r,d.off=s,d.once=a,d.has=l}var i=t.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchend"," ");return e.isNative=function(t){return!!i[t.toLowerCase()]},e}),/**
 * Binding.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/data/Binding",[],function(){function t(t){this.create=t.create}return t.create=function(e,i){return new t({create:function(t,n){function o(e){t.set(n,e.value)}function r(t){e.set(i,t.value)}var s;return t.on("change:"+n,r),e.on("change:"+i,o),s=t._bindings,s||(s=t._bindings=[],t.on("destroy",function(){for(var t=s.length;t--;)s[t]()})),s.push(function(){e.off("change:"+i,o)}),e.get(i)}})},t}),/**
 * Observable.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/util/Observable",["tinymce/util/EventDispatcher"],function(t){function e(e){return e._eventDispatcher||(e._eventDispatcher=new t({scope:e,toggleEvent:function(i,n){t.isNative(i)&&e.toggleNativeEvent&&e.toggleNativeEvent(i,n)}})),e._eventDispatcher}return{fire:function(t,i,n){var o=this;if(o.removed&&"remove"!==t)return i;if(i=e(o).fire(t,i,n),n!==!1&&o.parent)for(var r=o.parent();r&&!i.isPropagationStopped();)r.fire(t,i,!1),r=r.parent();return i},on:function(t,i,n){return e(this).on(t,i,n)},off:function(t,i){return e(this).off(t,i)},once:function(t,i){return e(this).once(t,i)},hasEventListeners:function(t){return e(this).has(t)}}}),/**
 * ObservableObject.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/data/ObservableObject",["tinymce/data/Binding","tinymce/util/Observable","tinymce/util/Class","tinymce/util/Tools"],function(t,e,i,n){function o(t){return t.nodeType>0}function r(t,e){var i,s;if(t===e)return!0;if(null===t||null===e)return t===e;if("object"!=typeof t||"object"!=typeof e)return t===e;if(n.isArray(e)){if(t.length!==e.length)return!1;for(i=t.length;i--;)if(!r(t[i],e[i]))return!1}if(o(t)||o(e))return t===e;s={};for(i in e){if(!r(t[i],e[i]))return!1;s[i]=!0}for(i in t)if(!s[i]&&!r(t[i],e[i]))return!1;return!0}return i.extend({Mixins:[e],init:function(e){var i,n;e=e||{};for(i in e)n=e[i],n instanceof t&&(e[i]=n.create(this,i));this.data=e},set:function(e,i){var n,o,s=this.data[e];if(i instanceof t&&(i=i.create(this,e)),"object"==typeof e){for(n in e)this.set(n,e[n]);return this}return r(s,i)||(this.data[e]=i,o={target:this,name:e,value:i,oldValue:s},this.fire("change:"+e,o),this.fire("change",o)),this},get:function(t){return this.data[t]},has:function(t){return t in this.data},bind:function(e){return t.create(this,e)},destroy:function(){this.fire("destroy")}})}),/**
 * Selector.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/Selector",["tinymce/util/Class"],function(t){function e(t){for(var e,i=[],n=t.length;n--;)e=t[n],e.__checked||(i.push(e),e.__checked=1);for(n=i.length;n--;)delete i[n].__checked;return i}var i,n=/^([\w\\*]+)?(?:#([\w\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,o=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,r=/^\s*|\s*$/g,s=t.extend({init:function(t){function e(t){return t?(t=t.toLowerCase(),function(e){return"*"===t||e.type===t}):void 0}function i(t){return t?function(e){return e._name===t}:void 0}function s(t){return t?(t=t.split("."),function(e){for(var i=t.length;i--;)if(!e.classes.contains(t[i]))return!1;return!0}):void 0}function a(t,e,i){return t?function(n){var o=n[t]?n[t]():"";return e?"="===e?o===i:"*="===e?o.indexOf(i)>=0:"~="===e?(" "+o+" ").indexOf(" "+i+" ")>=0:"!="===e?o!=i:"^="===e?0===o.indexOf(i):"$="===e?o.substr(o.length-i.length)===i:!1:!!i}:void 0}function l(t){var e;return t?(t=/(?:not\((.+)\))|(.+)/i.exec(t),t[1]?(e=u(t[1],[]),function(t){return!d(t,e)}):(t=t[2],function(e,i,n){return"first"===t?0===i:"last"===t?i===n-1:"even"===t?i%2===0:"odd"===t?i%2===1:e[t]?e[t]():!1})):void 0}function c(t,o,c){function u(t){t&&o.push(t)}var d;return d=n.exec(t.replace(r,"")),u(e(d[1])),u(i(d[2])),u(s(d[3])),u(a(d[4],d[5],d[6])),u(l(d[7])),o.pseudo=!!d[7],o.direct=c,o}function u(t,e){var i,n,r,s=[];do if(o.exec(""),n=o.exec(t),n&&(t=n[3],s.push(n[1]),n[2])){i=n[3];break}while(n);for(i&&u(i,e),t=[],r=0;r<s.length;r++)">"!=s[r]&&t.push(c(s[r],[],">"===s[r-1]));return e.push(t),e}var d=this.match;this._selectors=u(t,[])},match:function(t,e){var i,n,o,r,s,a,l,c,u,d,h,f,p;for(e=e||this._selectors,i=0,n=e.length;n>i;i++){for(s=e[i],r=s.length,p=t,f=0,o=r-1;o>=0;o--)for(c=s[o];p;){if(c.pseudo)for(h=p.parent().items(),u=d=h.length;u--&&h[u]!==p;);for(a=0,l=c.length;l>a;a++)if(!c[a](p,u,d)){a=l+1;break}if(a===l){f++;break}if(o===r-1)break;p=p.parent()}if(f===r)return!0}return!1},find:function(t){function n(t,e,i){var o,r,s,l,c,u=e[i];for(o=0,r=t.length;r>o;o++){for(c=t[o],s=0,l=u.length;l>s;s++)if(!u[s](c,o,r)){s=l+1;break}if(s===l)i==e.length-1?a.push(c):c.items&&n(c.items(),e,i+1);else if(u.direct)return;c.items&&n(c.items(),e,i)}}var o,r,a=[],l=this._selectors;if(t.items){for(o=0,r=l.length;r>o;o++)n(t.items(),l[o],0);r>1&&(a=e(a))}return i||(i=s.Collection),new i(a)}});return s}),/**
 * Collection.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/Collection",["tinymce/util/Tools","tinymce/ui/Selector","tinymce/util/Class"],function(t,e,i){var n,o,r=Array.prototype.push,s=Array.prototype.slice;return o={length:0,init:function(t){t&&this.add(t)},add:function(e){var i=this;return t.isArray(e)?r.apply(i,e):e instanceof n?i.add(e.toArray()):r.call(i,e),i},set:function(t){var e,i=this,n=i.length;for(i.length=0,i.add(t),e=i.length;n>e;e++)delete i[e];return i},filter:function(t){var i,o,r,s,a=this,l=[];for("string"==typeof t?(t=new e(t),s=function(e){return t.match(e)}):s=t,i=0,o=a.length;o>i;i++)r=a[i],s(r)&&l.push(r);return new n(l)},slice:function(){return new n(s.apply(this,arguments))},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},each:function(e){return t.each(this,e),this},toArray:function(){return t.toArray(this)},indexOf:function(t){for(var e=this,i=e.length;i--&&e[i]!==t;);return i},reverse:function(){return new n(t.toArray(this).reverse())},hasClass:function(t){return this[0]?this[0].classes.contains(t):!1},prop:function(t,e){var i,n,o=this;return e!==i?(o.each(function(i){i[t]&&i[t](e)}),o):(n=o[0],n&&n[t]?n[t]():void 0)},exec:function(e){var i=this,n=t.toArray(arguments).slice(1);return i.each(function(t){t[e]&&t[e].apply(t,n)}),i},remove:function(){for(var t=this.length;t--;)this[t].remove();return this},addClass:function(t){return this.each(function(e){e.classes.add(t)})},removeClass:function(t){return this.each(function(e){e.classes.remove(t)})}},t.each("fire on off show hide append prepend before after reflow".split(" "),function(e){o[e]=function(){var i=t.toArray(arguments);return this.each(function(t){e in t&&t[e].apply(t,i)}),this}}),t.each("text name disabled active selected checked visible parent value data".split(" "),function(t){o[t]=function(e){return this.prop(t,e)}}),n=i.extend(o),e.Collection=n,n}),/**
 * DomUtils.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/DomUtils",["tinymce/util/Tools","tinymce/dom/DOMUtils"],function(t,e){var i=0;return{id:function(){return"mceu_"+i++},createFragment:function(t){return e.DOM.createFragment(t)},getWindowSize:function(){return e.DOM.getViewPort()},getSize:function(t){var e,i;if(t.getBoundingClientRect){var n=t.getBoundingClientRect();e=Math.max(n.width||n.right-n.left,t.offsetWidth),i=Math.max(n.height||n.bottom-n.bottom,t.offsetHeight)}else e=t.offsetWidth,i=t.offsetHeight;return{width:e,height:i}},getPos:function(t,i){return e.DOM.getPos(t,i)},getViewPort:function(t){return e.DOM.getViewPort(t)},get:function(t){return document.getElementById(t)},addClass:function(t,i){return e.DOM.addClass(t,i)},removeClass:function(t,i){return e.DOM.removeClass(t,i)},hasClass:function(t,i){return e.DOM.hasClass(t,i)},toggleClass:function(t,i,n){return e.DOM.toggleClass(t,i,n)},css:function(t,i,n){return e.DOM.setStyle(t,i,n)},getRuntimeStyle:function(t,i){return e.DOM.getStyle(t,i,!0)},on:function(t,i,n,o){return e.DOM.bind(t,i,n,o)},off:function(t,i,n){return e.DOM.unbind(t,i,n)},fire:function(t,i,n){return e.DOM.fire(t,i,n)},innerHtml:function(t,i){e.DOM.setHTML(t,i)}}}),/**
 * BoxUtils.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/BoxUtils",[],function(){return{parseBox:function(t){var e,i=10;if(t)return"number"==typeof t?(t=t||0,{top:t,left:t,bottom:t,right:t}):(t=t.split(" "),e=t.length,1===e?t[1]=t[2]=t[3]=t[0]:2===e?(t[2]=t[0],t[3]=t[1]):3===e&&(t[3]=t[1]),{top:parseInt(t[0],i)||0,right:parseInt(t[1],i)||0,bottom:parseInt(t[2],i)||0,left:parseInt(t[3],i)||0})},measureBox:function(t,e){function i(e){var i=document.defaultView;return i?(e=e.replace(/[A-Z]/g,function(t){return"-"+t}),i.getComputedStyle(t,null).getPropertyValue(e)):t.currentStyle[e]}function n(t){var e=parseFloat(i(t),10);return isNaN(e)?0:e}return{top:n(e+"TopWidth"),right:n(e+"RightWidth"),bottom:n(e+"BottomWidth"),left:n(e+"LeftWidth")}}}}),/**
 * ClassList.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/ClassList",["tinymce/util/Tools"],function(t){function e(){}function i(t){this.cls=[],this.cls._map={},this.onchange=t||e,this.prefix=""}return t.extend(i.prototype,{add:function(t){return t&&!this.contains(t)&&(this.cls._map[t]=!0,this.cls.push(t),this._change()),this},remove:function(t){if(this.contains(t)){for(var e=0;e<this.cls.length&&this.cls[e]!==t;e++);this.cls.splice(e,1),delete this.cls._map[t],this._change()}return this},toggle:function(t,e){var i=this.contains(t);return i!==e&&(i?this.remove(t):this.add(t),this._change()),this},contains:function(t){return!!this.cls._map[t]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),i.prototype.toString=function(){var t;if(this.clsValue)return this.clsValue;t="";for(var e=0;e<this.cls.length;e++)e>0&&(t+=" "),t+=this.prefix+this.cls[e];return t},i}),/**
 * ReflowQueue.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/ReflowQueue",["tinymce/util/Delay"],function(t){var e,i={};return{add:function(n){var o=n.parent();if(o){if(!o._layout||o._layout.isNative())return;i[o._id]||(i[o._id]=o),e||(e=!0,t.requestAnimationFrame(function(){var t,n;e=!1;for(t in i)n=i[t],n.state.get("rendered")&&n.reflow();i={}},document.body))}},remove:function(t){i[t._id]&&delete i[t._id]}}}),/**
 * Control.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/Control",["tinymce/util/Class","tinymce/util/Tools","tinymce/util/EventDispatcher","tinymce/data/ObservableObject","tinymce/ui/Collection","tinymce/ui/DomUtils","tinymce/dom/DomQuery","tinymce/ui/BoxUtils","tinymce/ui/ClassList","tinymce/ui/ReflowQueue"],function(t,e,i,n,o,r,s,a,l,c){function u(t){return t._eventDispatcher||(t._eventDispatcher=new i({scope:t,toggleEvent:function(e,n){n&&i.isNative(e)&&(t._nativeEvents||(t._nativeEvents={}),t._nativeEvents[e]=!0,t.state.get("rendered")&&d(t))}})),t._eventDispatcher}function d(t){function e(e){var i=t.getParentCtrl(e.target);i&&i.fire(e.type,e)}function i(){var t=c._lastHoverCtrl;t&&(t.fire("mouseleave",{target:t.getEl()}),t.parents().each(function(t){t.fire("mouseleave",{target:t.getEl()})}),c._lastHoverCtrl=null)}function n(e){var i,n,o,r=t.getParentCtrl(e.target),s=c._lastHoverCtrl,a=0;if(r!==s){if(c._lastHoverCtrl=r,n=r.parents().toArray().reverse(),n.push(r),s){for(o=s.parents().toArray().reverse(),o.push(s),a=0;a<o.length&&n[a]===o[a];a++);for(i=o.length-1;i>=a;i--)s=o[i],s.fire("mouseleave",{target:s.getEl()})}for(i=a;i<n.length;i++)r=n[i],r.fire("mouseenter",{target:r.getEl()})}}function o(e){e.preventDefault(),"mousewheel"==e.type?(e.deltaY=-1/40*e.wheelDelta,e.wheelDeltaX&&(e.deltaX=-1/40*e.wheelDeltaX)):(e.deltaX=0,e.deltaY=e.detail),e=t.fire("wheel",e)}var r,a,l,c,u,d;if(u=t._nativeEvents){for(l=t.parents().toArray(),l.unshift(t),r=0,a=l.length;!c&&a>r;r++)c=l[r]._eventsRoot;for(c||(c=l[l.length-1]||t),t._eventsRoot=c,a=r,r=0;a>r;r++)l[r]._eventsRoot=c;var h=c._delegates;h||(h=c._delegates={});for(d in u){if(!u)return!1;"wheel"!==d||p?("mouseenter"===d||"mouseleave"===d?c._hasMouseEnter||(s(c.getEl()).on("mouseleave",i).on("mouseover",n),c._hasMouseEnter=1):h[d]||(s(c.getEl()).on(d,e),h[d]=!0),u[d]=!1):f?s(t.getEl()).on("mousewheel",o):s(t.getEl()).on("DOMMouseScroll",o)}}}var h,f="onmousewheel"in document,p=!1,m="mce-",g=0,v={Statics:{classPrefix:m},isRtl:function(){return h.rtl},classPrefix:m,init:function(t){function i(t){var e;for(t=t.split(" "),e=0;e<t.length;e++)c.classes.add(t[e])}var o,r,c=this;c.settings=t=e.extend({},c.Defaults,t),c._id=t.id||"mceu_"+g++,c._aria={role:t.role},c._elmCache={},c.$=s,c.state=new n({visible:!0,active:!1,disabled:!1,value:""}),c.data=new n(t.data),c.classes=new l(function(){c.state.get("rendered")&&(c.getEl().className=this.toString())}),c.classes.prefix=c.classPrefix,o=t.classes,o&&(c.Defaults&&(r=c.Defaults.classes,r&&o!=r&&i(r)),i(o)),e.each("title text name visible disabled active value".split(" "),function(e){e in t&&c[e](t[e])}),c.on("click",function(){return c.disabled()?!1:void 0}),c.settings=t,c.borderBox=a.parseBox(t.border),c.paddingBox=a.parseBox(t.padding),c.marginBox=a.parseBox(t.margin),t.hidden&&c.hide()},Properties:"parent,name",getContainerElm:function(){return document.body},getParentCtrl:function(t){for(var e,i=this.getRoot().controlIdLookup;t&&i&&!(e=i[t.id]);)t=t.parentNode;return e},initLayoutRect:function(){var t,e,i,n,o,s,l,c,u,d,h=this,f=h.settings,p=h.getEl();t=h.borderBox=h.borderBox||a.measureBox(p,"border"),h.paddingBox=h.paddingBox||a.measureBox(p,"padding"),h.marginBox=h.marginBox||a.measureBox(p,"margin"),d=r.getSize(p),c=f.minWidth,u=f.minHeight,o=c||d.width,s=u||d.height,i=f.width,n=f.height,l=f.autoResize,l="undefined"!=typeof l?l:!i&&!n,i=i||o,n=n||s;var m=t.left+t.right,g=t.top+t.bottom,v=f.maxWidth||65535,y=f.maxHeight||65535;return h._layoutRect=e={x:f.x||0,y:f.y||0,w:i,h:n,deltaW:m,deltaH:g,contentW:i-m,contentH:n-g,innerW:i-m,innerH:n-g,startMinWidth:c||0,startMinHeight:u||0,minW:Math.min(o,v),minH:Math.min(s,y),maxW:v,maxH:y,autoResize:l,scrollW:0},h._lastLayoutRect={},e},layoutRect:function(t){var e,i,n,o,r,s,a=this,l=a._layoutRect;return l||(l=a.initLayoutRect()),t?(n=l.deltaW,o=l.deltaH,t.x!==r&&(l.x=t.x),t.y!==r&&(l.y=t.y),t.minW!==r&&(l.minW=t.minW),t.minH!==r&&(l.minH=t.minH),i=t.w,i!==r&&(i=i<l.minW?l.minW:i,i=i>l.maxW?l.maxW:i,l.w=i,l.innerW=i-n),i=t.h,i!==r&&(i=i<l.minH?l.minH:i,i=i>l.maxH?l.maxH:i,l.h=i,l.innerH=i-o),i=t.innerW,i!==r&&(i=i<l.minW-n?l.minW-n:i,i=i>l.maxW-n?l.maxW-n:i,l.innerW=i,l.w=i+n),i=t.innerH,i!==r&&(i=i<l.minH-o?l.minH-o:i,i=i>l.maxH-o?l.maxH-o:i,l.innerH=i,l.h=i+o),t.contentW!==r&&(l.contentW=t.contentW),t.contentH!==r&&(l.contentH=t.contentH),e=a._lastLayoutRect,(e.x!==l.x||e.y!==l.y||e.w!==l.w||e.h!==l.h)&&(s=h.repaintControls,s&&s.map&&!s.map[a._id]&&(s.push(a),s.map[a._id]=!0),e.x=l.x,e.y=l.y,e.w=l.w,e.h=l.h),a):l},repaint:function(){var t,e,i,n,o,r,s,a,l,c,u=this;l=document.createRange?function(t){return t}:Math.round,t=u.getEl().style,n=u._layoutRect,a=u._lastRepaintRect||{},o=u.borderBox,r=o.left+o.right,s=o.top+o.bottom,n.x!==a.x&&(t.left=l(n.x)+"px",a.x=n.x),n.y!==a.y&&(t.top=l(n.y)+"px",a.y=n.y),n.w!==a.w&&(c=l(n.w-r),t.width=(c>=0?c:0)+"px",a.w=n.w),n.h!==a.h&&(c=l(n.h-s),t.height=(c>=0?c:0)+"px",a.h=n.h),u._hasBody&&n.innerW!==a.innerW&&(c=l(n.innerW),i=u.getEl("body"),i&&(e=i.style,e.width=(c>=0?c:0)+"px"),a.innerW=n.innerW),u._hasBody&&n.innerH!==a.innerH&&(c=l(n.innerH),i=i||u.getEl("body"),i&&(e=e||i.style,e.height=(c>=0?c:0)+"px"),a.innerH=n.innerH),u._lastRepaintRect=a,u.fire("repaint",{},!1)},on:function(t,e){function i(t){var e,i;return"string"!=typeof t?t:function(o){return e||n.parentsAndSelf().each(function(n){var o=n.settings.callbacks;return o&&(e=o[t])?(i=n,!1):void 0}),e?e.call(i,o):(o.action=t,void this.fire("execute",o))}}var n=this;return u(n).on(t,i(e)),n},off:function(t,e){return u(this).off(t,e),this},fire:function(t,e,i){var n=this;if(e=e||{},e.control||(e.control=n),e=u(n).fire(t,e),i!==!1&&n.parent)for(var o=n.parent();o&&!e.isPropagationStopped();)o.fire(t,e,!1),o=o.parent();return e},hasEventListeners:function(t){return u(this).has(t)},parents:function(t){var e,i=this,n=new o;for(e=i.parent();e;e=e.parent())n.add(e);return t&&(n=n.filter(t)),n},parentsAndSelf:function(t){return new o(this).add(this.parents(t))},next:function(){var t=this.parent().items();return t[t.indexOf(this)+1]},prev:function(){var t=this.parent().items();return t[t.indexOf(this)-1]},innerHtml:function(t){return this.$el.html(t),this},getEl:function(t){var e=t?this._id+"-"+t:this._id;return this._elmCache[e]||(this._elmCache[e]=s("#"+e)[0]),this._elmCache[e]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(t){}return this},blur:function(){return this.getEl().blur(),this},aria:function(t,e){var i=this,n=i.getEl(i.ariaTarget);return"undefined"==typeof e?i._aria[t]:(i._aria[t]=e,i.state.get("rendered")&&n.setAttribute("role"==t?t:"aria-"+t,e),i)},encode:function(t,e){return e!==!1&&(t=this.translate(t)),(t||"").replace(/[&<>"]/g,function(t){return"&#"+t.charCodeAt(0)+";"})},translate:function(t){return h.translate?h.translate(t):t},before:function(t){var e=this,i=e.parent();return i&&i.insert(t,i.items().indexOf(e),!0),e},after:function(t){var e=this,i=e.parent();return i&&i.insert(t,i.items().indexOf(e)),e},remove:function(){var t,e,i=this,n=i.getEl(),o=i.parent();if(i.items){var r=i.items().toArray();for(e=r.length;e--;)r[e].remove()}o&&o.items&&(t=[],o.items().each(function(e){e!==i&&t.push(e)}),o.items().set(t),o._lastRect=null),i._eventsRoot&&i._eventsRoot==i&&s(n).off();var a=i.getRoot().controlIdLookup;return a&&delete a[i._id],n&&n.parentNode&&n.parentNode.removeChild(n),i.state.set("rendered",!1),i.state.destroy(),i.fire("remove"),i},renderBefore:function(t){return s(t).before(this.renderHtml()),this.postRender(),this},renderTo:function(t){return s(t||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var t,e,i,n,o,r=this,a=r.settings;r.$el=s(r.getEl()),r.state.set("rendered",!0);for(n in a)0===n.indexOf("on")&&r.on(n.substr(2),a[n]);if(r._eventsRoot){for(i=r.parent();!o&&i;i=i.parent())o=i._eventsRoot;if(o)for(n in o._nativeEvents)r._nativeEvents[n]=!0}d(r),a.style&&(t=r.getEl(),t&&(t.setAttribute("style",a.style),t.style.cssText=a.style)),r.settings.border&&(e=r.borderBox,r.$el.css({"border-top-width":e.top,"border-right-width":e.right,"border-bottom-width":e.bottom,"border-left-width":e.left}));var l=r.getRoot();l.controlIdLookup||(l.controlIdLookup={}),l.controlIdLookup[r._id]=r;for(var u in r._aria)r.aria(u,r._aria[u]);r.state.get("visible")===!1&&(r.getEl().style.display="none"),r.bindStates(),r.state.on("change:visible",function(t){var e,i=t.value;r.state.get("rendered")&&(r.getEl().style.display=i===!1?"none":"",r.getEl().getBoundingClientRect()),e=r.parent(),e&&(e._lastRect=null),r.fire(i?"show":"hide"),c.add(r)}),r.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(t){function e(t,e){var i,n,o=t;for(i=n=0;o&&o!=e&&o.nodeType;)i+=o.offsetLeft||0,n+=o.offsetTop||0,o=o.offsetParent;return{x:i,y:n}}var i,n,o,r,s,a,l=this.getEl(),c=l.parentNode,u=e(l,c);return i=u.x,n=u.y,o=l.offsetWidth,r=l.offsetHeight,s=c.clientWidth,a=c.clientHeight,"end"==t?(i-=s-o,n-=a-r):"center"==t&&(i-=s/2-o/2,n-=a/2-r/2),c.scrollLeft=i,c.scrollTop=n,this},getRoot:function(){for(var t,e=this,i=[];e;){if(e.rootControl){t=e.rootControl;break}i.push(e),t=e,e=e.parent()}t||(t=this);for(var n=i.length;n--;)i[n].rootControl=t;return t},reflow:function(){c.remove(this);var t=this.parent();return t._layout&&!t._layout.isNative()&&t.reflow(),this}};return e.each("text title visible disabled active value".split(" "),function(t){v[t]=function(e){return 0===arguments.length?this.state.get(t):("undefined"!=typeof e&&this.state.set(t,e),this)}}),h=t.extend(v)}),/**
 * Factory.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/Factory",[],function(){var t,e={};return{add:function(t,i){e[t.toLowerCase()]=i},has:function(t){return!!e[t.toLowerCase()]},create:function(i,n){var o,r,s;if(!t){s=tinymce.ui;for(r in s)e[r.toLowerCase()]=s[r];t=!0}if("string"==typeof i?(n=n||{},n.type=i):(n=i,i=n.type),i=i.toLowerCase(),o=e[i],!o)throw new Error("Could not find control by type: "+i);return o=new o(n),o.type=i,o}}}),/**
 * KeyboardNavigation.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/KeyboardNavigation",[],function(){return function(t){function e(t){return t&&1===t.nodeType}function i(t){return t=t||b,e(t)?t.getAttribute("role"):null}function n(t){for(var e,n=t||b;n=n.parentNode;)if(e=i(n))return e}function o(t){var i=b;return e(i)?i.getAttribute("aria-"+t):void 0}function r(t){var e=t.tagName.toUpperCase();return"INPUT"==e||"TEXTAREA"==e}function s(t){return r(t)&&!t.hidden?!0:/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell)$/.test(i(t))?!0:!1}function a(t){function e(t){if(1==t.nodeType&&"none"!=t.style.display){s(t)&&i.push(t);for(var n=0;n<t.childNodes.length;n++)e(t.childNodes[n])}}var i=[];return e(t||_.getEl()),i}function l(t){var e,i;t=t||x,i=t.parents().toArray(),i.unshift(t);for(var n=0;n<i.length&&(e=i[n],!e.settings.ariaRoot);n++);return e}function c(t){var e=l(t),i=a(e.getEl());e.settings.ariaRemember&&"lastAriaIndex"in e?u(e.lastAriaIndex,i):u(0,i)}function u(t,e){return 0>t?t=e.length-1:t>=e.length&&(t=0),e[t]&&e[t].focus(),t}function d(t,e){var i=-1,n=l();e=e||a(n.getEl());for(var o=0;o<e.length;o++)e[o]===b&&(i=o);i+=t,n.lastAriaIndex=u(i,e)}function h(){var t=n();"tablist"==t?d(-1,a(b.parentNode)):x.parent().submenu?v():d(-1)}function f(){var t=i(),e=n();"tablist"==e?d(1,a(b.parentNode)):"menuitem"==t&&"menu"==e&&o("haspopup")?y():d(1)}function p(){d(-1)}function m(){var t=i(),e=n();"menuitem"==t&&"menubar"==e?y():"button"==t&&o("haspopup")?y({key:"down"}):d(1)}function g(t){var e=n();if("tablist"==e){var i=a(x.getEl("body"))[0];i&&i.focus()}else d(t.shiftKey?-1:1)}function v(){x.fire("cancel")}function y(t){t=t||{},x.fire("click",{target:b,aria:t})}var b,x,_=t.root;try{b=document.activeElement}catch(w){b=document.body}return x=_.getParentCtrl(b),_.on("keydown",function(t){function e(t,e){r(b)||e(t)!==!1&&t.preventDefault()}if(!t.isDefaultPrevented())switch(t.keyCode){case 37:e(t,h);break;case 39:e(t,f);break;case 38:e(t,p);break;case 40:e(t,m);break;case 27:v();break;case 14:case 13:case 32:e(t,y);break;case 9:g(t)!==!1&&t.preventDefault()}}),_.on("focusin",function(t){b=t.target,x=t.control}),{focusFirst:c}}}),/**
 * Container.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/Container",["tinymce/ui/Control","tinymce/ui/Collection","tinymce/ui/Selector","tinymce/ui/Factory","tinymce/ui/KeyboardNavigation","tinymce/util/Tools","tinymce/dom/DomQuery","tinymce/ui/ClassList","tinymce/ui/ReflowQueue"],function(t,e,i,n,o,r,s,a,l){var c={};return t.extend({init:function(t){var i=this;i._super(t),t=i.settings,t.fixed&&i.state.set("fixed",!0),i._items=new e,i.isRtl()&&i.classes.add("rtl"),i.bodyClasses=new a(function(){i.state.get("rendered")&&(i.getEl("body").className=this.toString())}),i.bodyClasses.prefix=i.classPrefix,i.classes.add("container"),i.bodyClasses.add("container-body"),t.containerCls&&i.classes.add(t.containerCls),i._layout=n.create((t.layout||"")+"layout"),i.settings.items?i.add(i.settings.items):i.add(i.render()),i._hasBody=!0},items:function(){return this._items},find:function(t){return t=c[t]=c[t]||new i(t),t.find(this)},add:function(t){var e=this;return e.items().add(e.create(t)).parent(e),e},focus:function(t){var e,i,n,o=this;return t&&(i=o.keyboardNav||o.parents().eq(-1)[0].keyboardNav)?void i.focusFirst(o):(n=o.find("*"),o.statusbar&&n.add(o.statusbar.items()),n.each(function(t){return t.settings.autofocus?(e=null,!1):void(t.canFocus&&(e=e||t))}),e&&e.focus(),o)},replace:function(t,e){for(var i,n=this.items(),o=n.length;o--;)if(n[o]===t){n[o]=e;break}o>=0&&(i=e.getEl(),i&&i.parentNode.removeChild(i),i=t.getEl(),i&&i.parentNode.removeChild(i)),e.parent(this)},create:function(e){var i,o=this,s=[];return r.isArray(e)||(e=[e]),r.each(e,function(e){e&&(e instanceof t||("string"==typeof e&&(e={type:e}),i=r.extend({},o.settings.defaults,e),e.type=i.type=i.type||e.type||o.settings.defaultType||(i.defaults?i.defaults.type:null),e=n.create(i)),s.push(e))}),s},renderNew:function(){var t=this;return t.items().each(function(e,i){var n;e.parent(t),e.state.get("rendered")||(n=t.getEl("body"),n.hasChildNodes()&&i<=n.childNodes.length-1?s(n.childNodes[i]).before(e.renderHtml()):s(n).append(e.renderHtml()),e.postRender(),l.add(e))}),t._layout.applyClasses(t.items().filter(":visible")),t._lastRect=null,t},append:function(t){return this.add(t).renderNew()},prepend:function(t){var e=this;return e.items().set(e.create(t).concat(e.items().toArray())),e.renderNew()},insert:function(t,e,i){var n,o,r,s=this;return t=s.create(t),n=s.items(),!i&&e<n.length-1&&(e+=1),e>=0&&e<n.length&&(o=n.slice(0,e).toArray(),r=n.slice(e).toArray(),n.set(o.concat(t,r))),s.renderNew()},fromJSON:function(t){var e=this;for(var i in t)e.find("#"+i).value(t[i]);return e},toJSON:function(){var t=this,e={};return t.find("*").each(function(t){var i=t.name(),n=t.value();i&&"undefined"!=typeof n&&(e[i]=n)}),e},renderHtml:function(){var t=this,e=t._layout,i=this.settings.role;return t.preRender(),e.preRender(t),'<div id="'+t._id+'" class="'+t.classes+'"'+(i?' role="'+this.settings.role+'"':"")+'><div id="'+t._id+'-body" class="'+t.bodyClasses+'">'+(t.settings.html||"")+e.renderHtml(t)+"</div></div>"},postRender:function(){var t,e=this;return e.items().exec("postRender"),e._super(),e._layout.postRender(e),e.state.set("rendered",!0),e.settings.style&&e.$el.css(e.settings.style),e.settings.border&&(t=e.borderBox,e.$el.css({"border-top-width":t.top,"border-right-width":t.right,"border-bottom-width":t.bottom,"border-left-width":t.left})),e.parent()||(e.keyboardNav=new o({root:e})),e},initLayoutRect:function(){var t=this,e=t._super();return t._layout.recalc(t),e},recalc:function(){var t=this,e=t._layoutRect,i=t._lastRect;return i&&i.w==e.w&&i.h==e.h?void 0:(t._layout.recalc(t),e=t.layoutRect(),t._lastRect={x:e.x,y:e.y,w:e.w,h:e.h},!0)},reflow:function(){var e;if(l.remove(this),this.visible()){for(t.repaintControls=[],t.repaintControls.map={},this.recalc(),e=t.repaintControls.length;e--;)t.repaintControls[e].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),t.repaintControls=[]}return this}})}),/**
 * DragHelper.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/DragHelper",["tinymce/dom/DomQuery"],function(t){function e(t){var e,i,n,o,r,s,a,l,c=Math.max;return e=t.documentElement,i=t.body,n=c(e.scrollWidth,i.scrollWidth),o=c(e.clientWidth,i.clientWidth),r=c(e.offsetWidth,i.offsetWidth),s=c(e.scrollHeight,i.scrollHeight),a=c(e.clientHeight,i.clientHeight),l=c(e.offsetHeight,i.offsetHeight),{width:r>n?o:n,height:l>s?a:s}}function i(t){var e,i;if(t.changedTouches)for(e="screenX screenY pageX pageY clientX clientY".split(" "),i=0;i<e.length;i++)t[e[i]]=t.changedTouches[0][e[i]]}return function(n,o){function r(){return f.getElementById(o.handle||n)}var s,a,l,c,u,d,h,f=o.document||document;o=o||{},l=function(n){var l,p,m=e(f);i(n),n.preventDefault(),a=n.button,l=r(),d=n.screenX,h=n.screenY,p=window.getComputedStyle?window.getComputedStyle(l,null).getPropertyValue("cursor"):l.runtimeStyle.cursor,s=t("<div>").css({position:"absolute",top:0,left:0,width:m.width,height:m.height,zIndex:2147483647,opacity:1e-4,cursor:p}).appendTo(f.body),t(f).on("mousemove touchmove",u).on("mouseup touchend",c),o.start(n)},u=function(t){return i(t),t.button!==a?c(t):(t.deltaX=t.screenX-d,t.deltaY=t.screenY-h,t.preventDefault(),void o.drag(t))},c=function(e){i(e),t(f).off("mousemove touchmove",u).off("mouseup touchend",c),s.remove(),o.stop&&o.stop(e)},this.destroy=function(){t(r()).off()},t(r()).on("mousedown touchstart",l)}}),/**
 * Scrollable.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/Scrollable",["tinymce/dom/DomQuery","tinymce/ui/DragHelper"],function(t,e){return{init:function(){var t=this;t.on("repaint",t.renderScroll)},renderScroll:function(){function i(){function e(e,s,a,l,c,u){var d,h,f,p,m,g,v,y,b;if(h=o.getEl("scroll"+e)){if(y=s.toLowerCase(),b=a.toLowerCase(),t(o.getEl("absend")).css(y,o.layoutRect()[l]-1),!c)return void t(h).css("display","none");t(h).css("display","block"),d=o.getEl("body"),f=o.getEl("scroll"+e+"t"),p=d["client"+a]-2*r,p-=i&&n?h["client"+u]:0,m=d["scroll"+a],g=p/m,v={},v[y]=d["offset"+s]+r,v[b]=p,t(h).css(v),v={},v[y]=d["scroll"+s]*g,v[b]=p*g,t(f).css(v)}}var i,n,s;s=o.getEl("body"),i=s.scrollWidth>s.clientWidth,n=s.scrollHeight>s.clientHeight,e("h","Left","Width","contentW",i,"Height"),e("v","Top","Height","contentH",n,"Width")}function n(){function i(i,n,s,a,l){var c,u=o._id+"-scroll"+i,d=o.classPrefix;t(o.getEl()).append('<div id="'+u+'" class="'+d+"scrollbar "+d+"scrollbar-"+i+'"><div id="'+u+'t" class="'+d+'scrollbar-thumb"></div></div>'),o.draghelper=new e(u+"t",{start:function(){c=o.getEl("body")["scroll"+n],t("#"+u).addClass(d+"active")},drag:function(t){var e,u,d,h,f=o.layoutRect();u=f.contentW>f.innerW,d=f.contentH>f.innerH,h=o.getEl("body")["client"+s]-2*r,h-=u&&d?o.getEl("scroll"+i)["client"+l]:0,e=h/o.getEl("body")["scroll"+s],o.getEl("body")["scroll"+n]=c+t["delta"+a]/e},stop:function(){t("#"+u).removeClass(d+"active")}})}o.classes.add("scroll"),i("v","Top","Height","Y","Width"),i("h","Left","Width","X","Height")}var o=this,r=2;o.settings.autoScroll&&(o._hasScroll||(o._hasScroll=!0,n(),o.on("wheel",function(t){var e=o.getEl("body");e.scrollLeft+=10*(t.deltaX||0),e.scrollTop+=10*t.deltaY,i()}),t(o.getEl("body")).on("scroll",i)),i())}}}),/**
 * Panel.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/Panel",["tinymce/ui/Container","tinymce/ui/Scrollable"],function(t,e){return t.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[e],renderHtml:function(){var t=this,e=t._layout,i=t.settings.html;return t.preRender(),e.preRender(t),"undefined"==typeof i?i='<div id="'+t._id+'-body" class="'+t.bodyClasses+'">'+e.renderHtml(t)+"</div>":("function"==typeof i&&(i=i.call(t)),t._hasBody=!1),'<div id="'+t._id+'" class="'+t.classes+'" hidefocus="1" tabindex="-1" role="group">'+(t._preBodyHtml||"")+i+"</div>"}})}),/**
 * Movable.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/Movable",["tinymce/ui/DomUtils"],function(t){function e(e,i,n){var o,r,s,a,l,c,u,d,h,f;return h=t.getViewPort(),r=t.getPos(i),s=r.x,a=r.y,e.state.get("fixed")&&"static"==t.getRuntimeStyle(document.body,"position")&&(s-=h.x,a-=h.y),o=e.getEl(),f=t.getSize(o),l=f.width,c=f.height,f=t.getSize(i),u=f.width,d=f.height,n=(n||"").split(""),"b"===n[0]&&(a+=d),"r"===n[1]&&(s+=u),"c"===n[0]&&(a+=Math.round(d/2)),"c"===n[1]&&(s+=Math.round(u/2)),"b"===n[3]&&(a-=c),"r"===n[4]&&(s-=l),"c"===n[3]&&(a-=Math.round(c/2)),"c"===n[4]&&(s-=Math.round(l/2)),{x:s,y:a,w:l,h:c}}return{testMoveRel:function(i,n){for(var o=t.getViewPort(),r=0;r<n.length;r++){var s=e(this,i,n[r]);if(this.state.get("fixed")){if(s.x>0&&s.x+s.w<o.w&&s.y>0&&s.y+s.h<o.h)return n[r]}else if(s.x>o.x&&s.x+s.w<o.w+o.x&&s.y>o.y&&s.y+s.h<o.h+o.y)return n[r]}return n[0]},moveRel:function(t,i){"string"!=typeof i&&(i=this.testMoveRel(t,i));var n=e(this,t,i);return this.moveTo(n.x,n.y)},moveBy:function(t,e){var i=this,n=i.layoutRect();return i.moveTo(n.x+t,n.y+e),i},moveTo:function(e,i){function n(t,e,i){return 0>t?0:t+i>e?(t=e-i,0>t?0:t):t}var o=this;if(o.settings.constrainToViewport){var r=t.getViewPort(window),s=o.layoutRect();e=n(e,r.w+r.x,s.w),i=n(i,r.h+r.y,s.h)}return o.state.get("rendered")?o.layoutRect({x:e,y:i}).repaint():(o.settings.x=e,o.settings.y=i),o.fire("move",{x:e,y:i}),o}}}),/**
 * Resizable.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/Resizable",["tinymce/ui/DomUtils"],function(t){return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(e,i){if(1>=e||1>=i){var n=t.getWindowSize();e=1>=e?e*n.w:e,i=1>=i?i*n.h:i}return this._layoutRect.autoResize=!1,this.layoutRect({minW:e,minH:i,w:e,h:i}).reflow()},resizeBy:function(t,e){var i=this,n=i.layoutRect();return i.resizeTo(n.w+t,n.h+e)}}}),/**
 * FloatPanel.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/FloatPanel",["tinymce/ui/Panel","tinymce/ui/Movable","tinymce/ui/Resizable","tinymce/ui/DomUtils","tinymce/dom/DomQuery","tinymce/util/Delay"],function(t,e,i,n,o,r){function s(t,e){for(;t;){if(t==e)return!0;t=t.parent()}}function a(t){for(var e=y.length;e--;){var i=y[e],n=i.getParentCtrl(t.target);if(i.settings.autohide){if(n&&(s(n,i)||i.parent()===n))continue;t=i.fire("autohide",{target:t.target}),t.isDefaultPrevented()||i.hide()}}}function l(){p||(p=function(t){2!=t.button&&a(t)},o(document).on("click touchstart",p))}function c(){m||(m=function(){var t;for(t=y.length;t--;)d(y[t])},o(window).on("scroll",m))}function u(){if(!g){var t=document.documentElement,e=t.clientWidth,i=t.clientHeight;g=function(){document.all&&e==t.clientWidth&&i==t.clientHeight||(e=t.clientWidth,i=t.clientHeight,x.hideAll())},o(window).on("resize",g)}}function d(t){function e(e,i){for(var n,o=0;o<y.length;o++)if(y[o]!=t)for(n=y[o].parent();n&&(n=n.parent());)n==t&&y[o].fixed(e).moveBy(0,i).repaint()}var i=n.getViewPort().y;t.settings.autofix&&(t.state.get("fixed")?t._autoFixY>i&&(t.fixed(!1).layoutRect({y:t._autoFixY}).repaint(),e(!1,t._autoFixY-i)):(t._autoFixY=t.layoutRect().y,t._autoFixY<i&&(t.fixed(!0).layoutRect({y:0}).repaint(),e(!0,i-t._autoFixY))))}function h(t,e){var i,n,r=x.zIndex||65535;if(t)b.push(e);else for(i=b.length;i--;)b[i]===e&&b.splice(i,1);if(b.length)for(i=0;i<b.length;i++)b[i].modal&&(r++,n=b[i]),b[i].getEl().style.zIndex=r,b[i].zIndex=r,r++;var s=document.getElementById(e.classPrefix+"modal-block");n?o(s).css("z-index",n.zIndex-1):s&&(s.parentNode.removeChild(s),v=!1),x.currentZIndex=r}function f(t){var e;for(e=y.length;e--;)y[e]===t&&y.splice(e,1);for(e=b.length;e--;)b[e]===t&&b.splice(e,1)}var p,m,g,v,y=[],b=[],x=t.extend({Mixins:[e,i],init:function(t){var e=this;e._super(t),e._eventsRoot=e,e.classes.add("floatpanel"),t.autohide&&(l(),u(),y.push(e)),t.autofix&&(c(),e.on("move",function(){d(this)})),e.on("postrender show",function(t){if(t.control==e){var i,n=e.classPrefix;e.modal&&!v&&(i=o("#"+n+"modal-block"),i[0]||(i=o('<div id="'+n+'modal-block" class="'+n+"reset "+n+'fade"></div>').appendTo(e.getContainerElm())),r.setTimeout(function(){i.addClass(n+"in"),o(e.getEl()).addClass(n+"in")}),v=!0),h(!0,e)}}),e.on("show",function(){e.parents().each(function(t){return t.state.get("fixed")?(e.fixed(!0),!1):void 0})}),t.popover&&(e._preBodyHtml='<div class="'+e.classPrefix+'arrow"></div>',e.classes.add("popover").add("bottom").add(e.isRtl()?"end":"start"))},fixed:function(t){var e=this;if(e.state.get("fixed")!=t){if(e.state.get("rendered")){var i=n.getViewPort();t?e.layoutRect().y-=i.y:e.layoutRect().y+=i.y}e.classes.toggle("fixed",t),e.state.set("fixed",t)}return e},show:function(){var t,e=this,i=e._super();for(t=y.length;t--&&y[t]!==e;);return-1===t&&y.push(e),i},hide:function(){return f(this),h(!1,this),this._super()},hideAll:function(){x.hideAll()},close:function(){var t=this;return t.fire("close").isDefaultPrevented()||(t.remove(),h(!1,t)),t},remove:function(){f(this),this._super()},postRender:function(){var t=this;return t.settings.bodyRole&&this.getEl("body").setAttribute("role",t.settings.bodyRole),t._super()}});return x.hideAll=function(){for(var t=y.length;t--;){var e=y[t];e&&e.settings.autohide&&(e.hide(),y.splice(t,1))}},x}),/**
 * Window.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/Window",["tinymce/ui/FloatPanel","tinymce/ui/Panel","tinymce/ui/DomUtils","tinymce/dom/DomQuery","tinymce/ui/DragHelper","tinymce/ui/BoxUtils","tinymce/Env","tinymce/util/Delay"],function(t,e,i,n,o,r,s,a){function l(t){var e,i="width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0",o=n("meta[name=viewport]")[0];s.overrideViewPort!==!1&&(o||(o=document.createElement("meta"),o.setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(o)),e=o.getAttribute("content"),e&&"undefined"!=typeof h&&(h=e),o.setAttribute("content",t?i:h))}function c(t){for(var e=0;e<d.length;e++)if(d[e]._fullscreen)return;n([document.documentElement,document.body]).removeClass(t+"fullscreen")}function u(){function t(){var t,e,n=i.getWindowSize();for(t=0;t<d.length;t++)e=d[t].layoutRect(),d[t].moveTo(d[t].settings.x||Math.max(0,n.w/2-e.w/2),d[t].settings.y||Math.max(0,n.h/2-e.h/2))}var e={w:window.innerWidth,h:window.innerHeight};a.setInterval(function(){var t=window.innerWidth,i=window.innerHeight;(e.w!=t||e.h!=i)&&(e={w:t,h:i},n(window).trigger("resize"))},100),n(window).on("resize",t)}var d=[],h="",f=t.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(t){var i=this;i._super(t),i.isRtl()&&i.classes.add("rtl"),i.classes.add("window"),i.bodyClasses.add("window-body"),i.state.set("fixed",!0),t.buttons&&(i.statusbar=new e({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:i.isRtl()?"start":"end",defaults:{type:"button"},items:t.buttons}),i.statusbar.classes.add("foot"),i.statusbar.parent(i)),i.on("click",function(t){-1!=t.target.className.indexOf(i.classPrefix+"close")&&i.close()}),i.on("cancel",function(){i.close()}),i.aria("describedby",i.describedBy||i._id+"-none"),i.aria("label",t.title),i._fullscreen=!1},recalc:function(){var t,e,n,o,r=this,s=r.statusbar;r._fullscreen&&(r.layoutRect(i.getWindowSize()),r.layoutRect().contentH=r.layoutRect().innerH),r._super(),t=r.layoutRect(),r.settings.title&&!r._fullscreen&&(e=t.headerW,e>t.w&&(n=t.x-Math.max(0,e/2),r.layoutRect({w:e,x:n}),o=!0)),s&&(s.layoutRect({w:r.layoutRect().innerW}).recalc(),e=s.layoutRect().minW+t.deltaW,e>t.w&&(n=t.x-Math.max(0,e-t.w),r.layoutRect({w:e,x:n}),o=!0)),o&&r.recalc()},initLayoutRect:function(){var t,e=this,n=e._super(),o=0;if(e.settings.title&&!e._fullscreen){t=e.getEl("head");var r=i.getSize(t);n.headerW=r.width,n.headerH=r.height,o+=n.headerH}e.statusbar&&(o+=e.statusbar.layoutRect().h),n.deltaH+=o,n.minH+=o,n.h+=o;var s=i.getWindowSize();return n.x=e.settings.x||Math.max(0,s.w/2-n.w/2),n.y=e.settings.y||Math.max(0,s.h/2-n.h/2),n},renderHtml:function(){var t=this,e=t._layout,i=t._id,n=t.classPrefix,o=t.settings,r="",s="",a=o.html;return t.preRender(),e.preRender(t),o.title&&(r='<div id="'+i+'-head" class="'+n+'window-head"><div id="'+i+'-title" class="'+n+'title">'+t.encode(o.title)+'</div><button type="button" class="'+n+'close" aria-hidden="true">\xd7</button><div id="'+i+'-dragh" class="'+n+'dragh"></div></div>'),o.url&&(a='<iframe src="'+o.url+'" tabindex="-1"></iframe>'),"undefined"==typeof a&&(a=e.renderHtml(t)),t.statusbar&&(s=t.statusbar.renderHtml()),'<div id="'+i+'" class="'+t.classes+'" hidefocus="1"><div class="'+t.classPrefix+'reset" role="application">'+r+'<div id="'+i+'-body" class="'+t.bodyClasses+'">'+a+"</div>"+s+"</div></div>"},fullscreen:function(t){var e,o,s=this,l=document.documentElement,c=s.classPrefix;if(t!=s._fullscreen)if(n(window).on("resize",function(){var t;if(s._fullscreen)if(e)s._timer||(s._timer=a.setTimeout(function(){var t=i.getWindowSize();s.moveTo(0,0).resizeTo(t.w,t.h),s._timer=0},50));else{t=(new Date).getTime();var n=i.getWindowSize();s.moveTo(0,0).resizeTo(n.w,n.h),(new Date).getTime()-t>50&&(e=!0)}}),o=s.layoutRect(),s._fullscreen=t,t){s._initial={x:o.x,y:o.y,w:o.w,h:o.h},s.borderBox=r.parseBox("0"),s.getEl("head").style.display="none",o.deltaH-=o.headerH+2,n([l,document.body]).addClass(c+"fullscreen"),s.classes.add("fullscreen");var u=i.getWindowSize();s.moveTo(0,0).resizeTo(u.w,u.h)}else s.borderBox=r.parseBox(s.settings.border),s.getEl("head").style.display="",o.deltaH+=o.headerH,n([l,document.body]).removeClass(c+"fullscreen"),s.classes.remove("fullscreen"),s.moveTo(s._initial.x,s._initial.y).resizeTo(s._initial.w,s._initial.h);return s.reflow()},postRender:function(){var t,e=this;setTimeout(function(){e.classes.add("in")},0),e._super(),e.statusbar&&e.statusbar.postRender(),e.focus(),this.dragHelper=new o(e._id+"-dragh",{start:function(){t={x:e.layoutRect().x,y:e.layoutRect().y}},drag:function(i){e.moveTo(t.x+i.deltaX,t.y+i.deltaY)}}),e.on("submit",function(t){t.isDefaultPrevented()||e.close()}),d.push(e),l(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var t,e=this;for(e.dragHelper.destroy(),e._super(),e.statusbar&&this.statusbar.remove(),t=d.length;t--;)d[t]===e&&d.splice(t,1);l(d.length>0),c(e.classPrefix)},getContentWindow:function(){var t=this.getEl().getElementsByTagName("iframe")[0];return t?t.contentWindow:null}});return s.desktop||u(),f}),/**
 * MessageBox.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/MessageBox",["tinymce/ui/Window"],function(t){var e=t.extend({init:function(t){t={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(t)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(i){function n(t,e,i){return{type:"button",text:t,subtype:i?"primary":"",onClick:function(t){t.control.parents()[1].close(),r(e)}}}var o,r=i.callback||function(){};switch(i.buttons){case e.OK_CANCEL:o=[n("Ok",!0,!0),n("Cancel",!1)];break;case e.YES_NO:case e.YES_NO_CANCEL:o=[n("Yes",1,!0),n("No",0)],i.buttons==e.YES_NO_CANCEL&&o.push(n("Cancel",-1));break;default:o=[n("Ok",!0,!0)]}return new t({padding:20,x:i.x,y:i.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:o,title:i.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:i.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:i.onClose,onCancel:function(){r(!1)}}).renderTo(document.body).reflow()},alert:function(t,i){return"string"==typeof t&&(t={text:t}),t.callback=i,e.msgBox(t)},confirm:function(t,i){return"string"==typeof t&&(t={text:t}),t.callback=i,t.buttons=e.OK_CANCEL,e.msgBox(t)}}});return e}),/**
 * WindowManager.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/WindowManager",["tinymce/ui/Window","tinymce/ui/MessageBox"],function(t,e){return function(i){function n(){return r.length?r[r.length-1]:void 0}var o=this,r=[];o.windows=r,i.on("remove",function(){for(var t=r.length;t--;)r[t].close()}),o.open=function(e,n){var o;return i.editorManager.setActive(i),e.title=e.title||" ",e.url=e.url||e.file,e.url&&(e.width=parseInt(e.width||320,10),e.height=parseInt(e.height||240,10)),e.body&&(e.items={defaults:e.defaults,type:e.bodyType||"form",items:e.body}),e.url||e.buttons||(e.buttons=[{text:"Ok",subtype:"primary",onclick:function(){o.find("form")[0].submit()}},{text:"Cancel",onclick:function(){o.close()}}]),o=new t(e),r.push(o),o.on("close",function(){for(var t=r.length;t--;)r[t]===o&&r.splice(t,1);r.length||i.focus()}),e.data&&o.on("postRender",function(){this.find("*").each(function(t){var i=t.name();i in e.data&&t.value(e.data[i])})}),o.features=e||{},o.params=n||{},1===r.length&&i.nodeChanged(),o.renderTo().reflow()},o.alert=function(t,n,o){e.alert(t,function(){n?n.call(o||this):i.focus()})},o.confirm=function(t,i,n){e.confirm(t,function(t){i.call(n||this,t)})},o.close=function(){n()&&n().close()},o.getParams=function(){return n()?n().params:null},o.setParams=function(t){n()&&(n().params=t)},o.getWindows=function(){return r}}}),/**
 * Tooltip.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/Tooltip",["tinymce/ui/Control","tinymce/ui/Movable"],function(t,e){return t.extend({Mixins:[e],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var t=this,e=t.classPrefix;return'<div id="'+t._id+'" class="'+t.classes+'" role="presentation"><div class="'+e+'tooltip-arrow"></div><div class="'+e+'tooltip-inner">'+t.encode(t.state.get("text"))+"</div></div>"},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.getEl().lastChild.innerHTML=t.encode(e.value)}),t._super()},repaint:function(){var t,e,i=this;t=i.getEl().style,e=i._layoutRect,t.left=e.x+"px",t.top=e.y+"px",t.zIndex=131070}})}),/**
 * Widget.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/Widget",["tinymce/ui/Control","tinymce/ui/Tooltip"],function(t,e){var i,n=t.extend({init:function(t){var e=this;e._super(t),t=e.settings,e.canFocus=!0,t.tooltip&&n.tooltips!==!1&&(e.on("mouseenter",function(i){var n=e.tooltip().moveTo(-65535);if(i.control==e){var o=n.text(t.tooltip).show().testMoveRel(e.getEl(),["bc-tc","bc-tl","bc-tr"]);n.classes.toggle("tooltip-n","bc-tc"==o),n.classes.toggle("tooltip-nw","bc-tl"==o),n.classes.toggle("tooltip-ne","bc-tr"==o),n.moveRel(e.getEl(),o)}else n.hide()}),e.on("mouseleave mousedown click",function(){e.tooltip().hide()})),e.aria("label",t.ariaLabel||t.tooltip)},tooltip:function(){return i||(i=new e({type:"tooltip"}),i.renderTo()),i},postRender:function(){var t=this,e=t.settings;t._super(),t.parent()||!e.width&&!e.height||(t.initLayoutRect(),t.repaint()),e.autofocus&&t.focus()},bindStates:function(){function t(t){i.aria("disabled",t),i.classes.toggle("disabled",t)}function e(t){i.aria("pressed",t),i.classes.toggle("active",t)}var i=this;return i.state.on("change:disabled",function(e){t(e.value)}),i.state.on("change:active",function(t){e(t.value)}),i.state.get("disabled")&&t(!0),i.state.get("active")&&e(!0),i._super()},remove:function(){this._super(),i&&(i.remove(),i=null)}});return n}),/**
 * Progress.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/Progress",["tinymce/ui/Widget"],function(t){return t.extend({Defaults:{value:0},init:function(t){var e=this;e._super(t),e.classes.add("progress"),e.settings.filter||(e.settings.filter=function(t){return Math.round(t)})},renderHtml:function(){var t=this,e=t._id,i=this.classPrefix;return'<div id="'+e+'" class="'+t.classes+'"><div class="'+i+'bar-container"><div class="'+i+'bar"></div></div><div class="'+i+'text">0%</div></div>'},postRender:function(){var t=this;return t._super(),t.value(t.settings.value),t},bindStates:function(){function t(t){t=e.settings.filter(t),e.getEl().lastChild.innerHTML=t+"%",e.getEl().firstChild.firstChild.style.width=t+"%"}var e=this;return e.state.on("change:value",function(e){t(e.value)}),t(e.state.get("value")),e._super()}})}),/**
 * Notification.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/Notification",["tinymce/ui/Control","tinymce/ui/Movable","tinymce/ui/Progress"],function(t,e,i){return t.extend({Mixins:[e],Defaults:{classes:"widget notification"},init:function(t){var e=this;e._super(t),t.text&&e.text(t.text),t.icon&&(e.icon=t.icon),t.color&&(e.color=t.color),t.type&&e.classes.add("notification-"+t.type),t.timeout&&(t.timeout<0||t.timeout>0)&&!t.closeButton?e.closeButton=!1:(e.classes.add("has-close"),e.closeButton=!0),t.progressBar&&(e.progressBar=new i),e.on("click",function(t){-1!=t.target.className.indexOf(e.classPrefix+"close")&&e.close()})},renderHtml:function(){var t=this,e=t.classPrefix,i="",n="",o="",r="";return t.icon&&(i='<i class="'+e+"ico "+e+"i-"+t.icon+'"></i>'),t.color&&(r=' style="background-color: '+t.color+'"'),t.closeButton&&(n='<button type="button" class="'+e+'close" aria-hidden="true">\xd7</button>'),t.progressBar&&(o=t.progressBar.renderHtml()),'<div id="'+t._id+'" class="'+t.classes+'"'+r+' role="presentation">'+i+'<div class="'+e+'notification-inner">'+t.state.get("text")+"</div>"+o+n+"</div>"},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.getEl().childNodes[1].innerHTML=e.value}),t.progressBar&&t.progressBar.bindStates(),t._super()},close:function(){var t=this;return t.fire("close").isDefaultPrevented()||t.remove(),t},repaint:function(){var t,e,i=this;t=i.getEl().style,e=i._layoutRect,t.left=e.x+"px",t.top=e.y+"px",t.zIndex=131070}})}),/**
 * NotificationManager.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/NotificationManager",["tinymce/ui/Notification","tinymce/util/Delay"],function(t,e){return function(i){function n(){return l.length?l[l.length-1]:void 0}function o(){e.requestAnimationFrame(function(){r(),s()})}function r(){for(var t=0;t<l.length;t++)l[t].moveTo(0,0)}function s(){if(l.length>0){var t=l.slice(0,1)[0],e=i.inline?i.getElement():i.getContentAreaContainer();if(t.moveRel(e,"tc-tc"),l.length>1)for(var n=1;n<l.length;n++)l[n].moveRel(l[n-1].getEl(),"bc-tc")}}var a=this,l=[];a.notifications=l,i.on("remove",function(){for(var t=l.length;t--;)l[t].close()}),i.on("ResizeEditor",s),i.on("ResizeWindow",o),a.open=function(e){var n;return i.editorManager.setActive(i),n=new t(e),l.push(n),e.timeout>0&&(n.timer=setTimeout(function(){n.close()},e.timeout)),n.on("close",function(){var t=l.length;for(n.timer&&i.getWin().clearTimeout(n.timer);t--;)l[t]===n&&l.splice(t,1);s()}),n.renderTo(),s(),n},a.close=function(){n()&&n().close()},a.getNotifications=function(){return l}}}),/**
 * NodePath.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/dom/NodePath",["tinymce/dom/DOMUtils"],function(t){function e(e,i,n){for(var o=[];i&&i!=e;i=i.parentNode)o.push(t.nodeIndex(i,n));return o}function i(t,e){var i,n,o;for(n=t,i=e.length-1;i>=0;i--){if(o=n.childNodes,e[i]>o.length-1)return null;n=o[e[i]]}return n}return{create:e,resolve:i}}),/**
 * Quirks.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 *
 * @ignore-file
 */
n("tinymce/util/Quirks",["tinymce/util/VK","tinymce/dom/RangeUtils","tinymce/dom/TreeWalker","tinymce/dom/NodePath","tinymce/html/Node","tinymce/html/Entities","tinymce/Env","tinymce/util/Tools","tinymce/util/Delay","tinymce/caret/CaretContainer"],function(t,e,i,n,o,r,s,a,l,c){return function(u){function d(t,e){try{u.getDoc().execCommand(t,!1,e)}catch(i){}}function h(){var t=u.getDoc().documentMode;return t?t:6}function f(t){return t.isDefaultPrevented()}function p(t){var e,i;t.dataTransfer&&(u.selection.isCollapsed()&&"IMG"==t.target.tagName&&J.select(t.target),e=u.selection.getContent(),e.length>0&&(i=rt+escape(u.id)+","+escape(e),t.dataTransfer.setData(st,i)))}function m(t){var e;return t.dataTransfer&&(e=t.dataTransfer.getData(st),e&&e.indexOf(rt)>=0)?(e=e.substr(rt.length).split(","),{id:unescape(e[0]),html:unescape(e[1])}):null}function g(t){u.queryCommandSupported("mceInsertClipboardContent")?u.execCommand("mceInsertClipboardContent",!1,{content:t}):u.execCommand("mceInsertContent",!1,t)}function v(){function o(t){var e=w.schema.getBlockElements(),i=u.getBody();if("BR"!=t.nodeName)return!1;for(t=t;t!=i&&!e[t.nodeName];t=t.parentNode)if(t.nextSibling)return!1;return!0}function r(t,e){var i;for(i=t.nextSibling;i&&i!=e;i=i.nextSibling)if((3!=i.nodeType||0!==X.trim(i.data).length)&&i!==e)return!1;return i===e}function s(t,e,n){var r,s,a;for(a=w.schema.getNonEmptyElements(),r=new i(n||t,t);s=r[e?"next":"prev"]();){if(a[s.nodeName]&&!o(s))return s;if(3==s.nodeType&&s.data.length>0)return s}}function c(t){var i,n,o,r,a;if(!t.collapsed&&(i=w.getParent(e.getNode(t.startContainer,t.startOffset),w.isBlock),n=w.getParent(e.getNode(t.endContainer,t.endOffset),w.isBlock),a=u.schema.getTextBlockElements(),i!=n&&a[i.nodeName]&&a[n.nodeName]&&"false"!==w.getContentEditable(i)&&"false"!==w.getContentEditable(n)))return t.deleteContents(),o=s(i,!1),r=s(n,!0),w.isEmpty(n)||X(i).append(n.childNodes),X(n).remove(),o?1==o.nodeType?"BR"==o.nodeName?(t.setStartBefore(o),t.setEndBefore(o)):(t.setStartAfter(o),t.setEndAfter(o)):(t.setStart(o,o.data.length),t.setEnd(o,o.data.length)):r&&(1==r.nodeType?(t.setStartBefore(r),t.setEndBefore(r)):(t.setStart(r,0),t.setEnd(r,0))),C.setRng(t),!0}function d(t,i){var n,o,a,l,c,d;if(!t.collapsed)return t;if(c=t.startContainer,d=t.startOffset,3==c.nodeType)if(i){if(d<c.data.length)return t}else if(d>0)return t;if(n=e.getNode(t.startContainer,t.startOffset),a=w.getParent(n,w.isBlock),o=s(u.getBody(),i,n),l=w.getParent(o,w.isBlock),!n||!o)return t;if(l&&a!=l)if(i){if(!r(a,l))return t;1==n.nodeType?"BR"==n.nodeName?t.setStartBefore(n):t.setStartAfter(n):t.setStart(n,n.data.length),1==o.nodeType?t.setEnd(o,0):t.setEndBefore(o)}else{if(!r(l,a))return t;1==o.nodeType?"BR"==o.nodeName?t.setStartBefore(o):t.setStartAfter(o):t.setStart(o,o.data.length),1==n.nodeType?t.setEnd(n,0):t.setEndBefore(n)}return t}function h(t){var e=C.getRng();return e=d(e,t),c(e)?!0:void 0}function v(t,e){function i(t,i){return m=X(i).parents().filter(function(t,e){return!!u.schema.getTextInlineElements()[e.nodeName]}),l=t.cloneNode(!1),m=a.map(m,function(t){return t=t.cloneNode(!1),l.hasChildNodes()?(t.appendChild(l.firstChild),l.appendChild(t)):l.appendChild(t),l.appendChild(t),t}),m.length?(p=w.create("br"),m[0].appendChild(p),w.replace(l,t),e.setStartBefore(p),e.setEndBefore(p),u.selection.setRng(e),p):null}function o(t){return t&&u.schema.getTextBlockElements()[t.tagName]}var r,s,l,c,d,h,f,p,m;if(e.collapsed&&(h=e.startContainer,f=e.startOffset,s=w.getParent(h,w.isBlock),o(s)))if(1==h.nodeType){if(h=h.childNodes[f],h&&"BR"!=h.tagName)return;if(d=t?s.nextSibling:s.previousSibling,w.isEmpty(s)&&o(d)&&w.isEmpty(d)&&i(s,h))return w.remove(d),!0}else if(3==h.nodeType){if(r=n.create(s,h),c=s.cloneNode(!0),h=n.resolve(c,r),t){if(f>=h.data.length)return;h.deleteData(f,1)}else{if(0>=f)return;h.deleteData(f-1,1)}if(w.isEmpty(c))return i(s,h)}}function y(t){var e,i,n;h(t)||(a.each(u.getBody().getElementsByTagName("*"),function(t){"SPAN"==t.tagName&&t.setAttribute("mce-data-marked",1),!t.hasAttribute("data-mce-style")&&t.hasAttribute("style")&&u.dom.setAttrib(t,"style",u.dom.getAttrib(t,"style"))}),e=new k(function(){}),e.observe(u.getDoc(),{childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"]}),u.getDoc().execCommand(t?"ForwardDelete":"Delete",!1,null),i=u.selection.getRng(),n=i.startContainer.parentNode,a.each(e.takeRecords(),function(t){if(w.isChildOf(t.target,u.getBody())){if("style"==t.attributeName){var e=t.target.getAttribute("data-mce-style");e?t.target.setAttribute("style",e):t.target.removeAttribute("style")}a.each(t.addedNodes,function(t){if("SPAN"==t.nodeName&&!t.getAttribute("mce-data-marked")){var e,o;t==n&&(e=i.startOffset,o=t.firstChild),w.remove(t,!0),o&&(i.setStart(o,e),i.setEnd(o,e),u.selection.setRng(i))}})}}),e.disconnect(),a.each(u.dom.select("span[mce-data-marked]"),function(t){t.removeAttribute("mce-data-marked")}))}var b,x,_=u.getDoc(),w=u.dom,C=u.selection,k=window.MutationObserver;k||(b=!0,k=function(){function t(t){var e=t.relatedNode||t.target;n.push({target:e,addedNodes:[e]})}function e(t){var e=t.relatedNode||t.target;n.push({target:e,attributeName:t.attrName})}var i,n=[];this.observe=function(n){i=n,i.addEventListener("DOMSubtreeModified",t,!1),i.addEventListener("DOMNodeInsertedIntoDocument",t,!1),i.addEventListener("DOMNodeInserted",t,!1),i.addEventListener("DOMAttrModified",e,!1)},this.disconnect=function(){i.removeEventListener("DOMSubtreeModified",t,!1),i.removeEventListener("DOMNodeInsertedIntoDocument",t,!1),i.removeEventListener("DOMNodeInserted",t,!1),i.removeEventListener("DOMAttrModified",e,!1)},this.takeRecords=function(){return n}}),u.on("keydown",function(t){var e=t.keyCode==K,i=t.ctrlKey||t.metaKey;if(!f(t)&&(e||t.keyCode==G)){var n=u.selection.getRng(),o=n.startContainer,r=n.startOffset;if(e&&t.shiftKey)return;if(v(e,n))return void t.preventDefault();if(!i&&n.collapsed&&3==o.nodeType&&(e?r<o.data.length:r>0))return;t.preventDefault(),i&&u.selection.getSel().modify("extend",e?"forward":"backward",t.metaKey?"lineboundary":"word"),y(e)}}),u.on("keypress",function(e){if(!f(e)&&!C.isCollapsed()&&e.charCode>31&&!t.metaKeyPressed(e)){var i,n,o,r,s,a;i=u.selection.getRng(),a=String.fromCharCode(e.charCode),e.preventDefault(),n=X(i.startContainer).parents().filter(function(t,e){return!!u.schema.getTextInlineElements()[e.nodeName]}),y(!0),n=n.filter(function(t,e){return!X.contains(u.getBody(),e)}),n.length?(o=w.createFragment(),n.each(function(t,e){e=e.cloneNode(!1),o.hasChildNodes()?(e.appendChild(o.firstChild),o.appendChild(e)):(s=e,o.appendChild(e)),o.appendChild(e)}),s.appendChild(u.getDoc().createTextNode(a)),r=w.getParent(i.startContainer,w.isBlock),w.isEmpty(r)?X(r).empty().append(o):i.insertNode(o),i.setStart(s.firstChild,1),i.setEnd(s.firstChild,1),u.selection.setRng(i)):u.selection.setContent(a)}}),u.addCommand("Delete",function(){y()}),u.addCommand("ForwardDelete",function(){y(!0)}),b||(u.on("dragstart",function(t){x=C.getRng(),p(t)}),u.on("drop",function(t){if(!f(t)){var i=m(t);i&&(t.preventDefault(),l.setEditorTimeout(u,function(){var n=e.getCaretRangeFromPoint(t.x,t.y,_);x&&(C.setRng(x),x=null),y(),C.setRng(n),g(i.html)}))}}),u.on("cut",function(t){f(t)||!t.clipboardData||u.selection.isCollapsed()||(t.preventDefault(),t.clipboardData.clearData(),t.clipboardData.setData("text/html",u.selection.getContent()),t.clipboardData.setData("text/plain",u.selection.getContent({format:"text"})),l.setEditorTimeout(u,function(){y(!0)}))}))}function y(){function t(t){var e=Q.create("body"),i=t.cloneContents();return e.appendChild(i),J.serializer.serialize(e,{format:"html"})}function i(i){if(!i.setStart){if(i.item)return!1;var n=i.duplicate();return n.moveToElementText(u.getBody()),e.compareRanges(i,n)}var o=t(i),r=Q.createRng();r.selectNode(u.getBody());var s=t(r);return o===s}u.on("keydown",function(t){var e,n,o=t.keyCode;if(!f(t)&&(o==K||o==G)){if(e=u.selection.isCollapsed(),n=u.getBody(),e&&!Q.isEmpty(n))return;if(!e&&!i(u.selection.getRng()))return;t.preventDefault(),u.setContent(""),n.firstChild&&Q.isBlock(n.firstChild)?u.selection.setCursorLocation(n.firstChild,0):u.selection.setCursorLocation(n,0),u.nodeChanged()}})}function b(){u.shortcuts.add("meta+a",null,"SelectAll")}function x(){u.settings.content_editable||Q.bind(u.getDoc(),"mousedown mouseup",function(t){var e;if(t.target==u.getDoc().documentElement)if(e=J.getRng(),u.getBody().focus(),"mousedown"==t.type){if(c.isCaretContainer(e.startContainer))return;J.placeCaretAt(t.clientX,t.clientY)}else J.setRng(e)})}function _(){u.on("keydown",function(t){if(!f(t)&&t.keyCode===G){if(!u.getBody().getElementsByTagName("hr").length)return;if(J.isCollapsed()&&0===J.getRng(!0).startOffset){var e=J.getNode(),i=e.previousSibling;if("HR"==e.nodeName)return Q.remove(e),void t.preventDefault();i&&i.nodeName&&"hr"===i.nodeName.toLowerCase()&&(Q.remove(i),t.preventDefault())}}})}function w(){window.Range.prototype.getClientRects||u.on("mousedown",function(t){if(!f(t)&&"HTML"===t.target.nodeName){var e=u.getBody();e.blur(),l.setEditorTimeout(u,function(){e.focus()})}})}function C(){u.on("click",function(t){var e=t.target;/^(IMG|HR)$/.test(e.nodeName)&&"false"!==Q.getContentEditableParent(e)&&(t.preventDefault(),J.getSel().setBaseAndExtent(e,0,e,1),u.nodeChanged()),"A"==e.nodeName&&Q.hasClass(e,"mce-item-anchor")&&(t.preventDefault(),J.select(e))})}function k(){function t(){var t=Q.getAttribs(J.getStart().cloneNode(!1));return function(){var e=J.getStart();e!==u.getBody()&&(Q.setAttrib(e,"style",null),Y(t,function(t){e.setAttributeNode(t.cloneNode(!0))}))}}function e(){return!J.isCollapsed()&&Q.getParent(J.getStart(),Q.isBlock)!=Q.getParent(J.getEnd(),Q.isBlock)}u.on("keypress",function(i){var n;return f(i)||8!=i.keyCode&&46!=i.keyCode||!e()?void 0:(n=t(),u.getDoc().execCommand("delete",!1,null),n(),i.preventDefault(),!1)}),Q.bind(u.getDoc(),"cut",function(i){var n;!f(i)&&e()&&(n=t(),l.setEditorTimeout(u,function(){n()}))})}function T(){document.body.setAttribute("role","application")}function S(){u.on("keydown",function(t){if(!f(t)&&t.keyCode===G&&J.isCollapsed()&&0===J.getRng(!0).startOffset){var e=J.getNode().previousSibling;if(e&&e.nodeName&&"table"===e.nodeName.toLowerCase())return t.preventDefault(),!1}})}function N(){h()>7||(d("RespectVisibilityInDesign",!0),u.contentStyles.push(".mceHideBrInPre pre br {display: none}"),Q.addClass(u.getBody(),"mceHideBrInPre"),tt.addNodeFilter("pre",function(t){for(var e,i,n,r,s=t.length;s--;)for(e=t[s].getAll("br"),i=e.length;i--;)n=e[i],r=n.prev,r&&3===r.type&&"\n"!=r.value.charAt(r.value-1)?r.value+="\n":n.parent.insert(new o("#text",3),n,!0).value="\n"}),et.addNodeFilter("pre",function(t){for(var e,i,n,o,r=t.length;r--;)for(e=t[r].getAll("br"),i=e.length;i--;)n=e[i],o=n.prev,o&&3==o.type&&(o.value=o.value.replace(/\r?\n$/,""))}))}function D(){Q.bind(u.getBody(),"mouseup",function(){var t,e=J.getNode();"IMG"==e.nodeName&&((t=Q.getStyle(e,"width"))&&(Q.setAttrib(e,"width",t.replace(/[^0-9%]+/g,"")),Q.setStyle(e,"width","")),(t=Q.getStyle(e,"height"))&&(Q.setAttrib(e,"height",t.replace(/[^0-9%]+/g,"")),Q.setStyle(e,"height","")))})}function E(){u.on("keydown",function(e){var i,n,o,r,s;if(!f(e)&&e.keyCode==t.BACKSPACE&&(i=J.getRng(),n=i.startContainer,o=i.startOffset,r=Q.getRoot(),s=n,i.collapsed&&0===o)){for(;s&&s.parentNode&&s.parentNode.firstChild==s&&s.parentNode!=r;)s=s.parentNode;"BLOCKQUOTE"===s.tagName&&(u.formatter.toggle("blockquote",null,s),i=Q.createRng(),i.setStart(n,0),i.setEnd(n,0),J.setRng(i))}})}function P(){function t(){u._refreshContentEditable(),d("StyleWithCSS",!1),d("enableInlineTableEditing",!1),Z.object_resizing||d("enableObjectResizing",!1)}Z.readonly||u.on("BeforeExecCommand MouseDown",t)}function A(){function t(){Y(Q.select("a"),function(t){var e=t.parentNode,i=Q.getRoot();if(e.lastChild===t){for(;e&&!Q.isBlock(e);){if(e.parentNode.lastChild!==e||e===i)return;e=e.parentNode}Q.add(e,"br",{"data-mce-bogus":1})}})}u.on("SetContent ExecCommand",function(e){("setcontent"==e.type||"mceInsertLink"===e.command)&&t()})}function M(){Z.forced_root_block&&u.on("init",function(){d("DefaultParagraphSeparator",Z.forced_root_block)})}function I(){u.on("keydown",function(t){var e;f(t)||t.keyCode!=G||(e=u.getDoc().selection.createRange(),e&&e.item&&(t.preventDefault(),u.undoManager.beforeChange(),Q.remove(e.item(0)),u.undoManager.add()))})}function $(){var t;h()>=10&&(t="",Y("p div h1 h2 h3 h4 h5 h6".split(" "),function(e,i){t+=(i>0?",":"")+e+":empty"}),u.contentStyles.push(t+"{padding-right: 1px !important}"))}function R(){h()<9&&(tt.addNodeFilter("noscript",function(t){for(var e,i,n=t.length;n--;)e=t[n],i=e.firstChild,i&&e.attr("data-mce-innertext",i.value)}),et.addNodeFilter("noscript",function(t){for(var e,i,n,s=t.length;s--;)e=t[s],i=t[s].firstChild,i?i.value=r.decode(i.value):(n=e.attributes.map["data-mce-innertext"],n&&(e.attr("data-mce-innertext",null),i=new o("#text",3),i.value=n,i.raw=!0,e.append(i)))}))}function O(){function t(t,e){var i=a.createTextRange();try{i.moveToPoint(t,e)}catch(n){i=null}return i}function e(e){var n;e.button?(n=t(e.x,e.y),n&&(n.compareEndPoints("StartToStart",o)>0?n.setEndPoint("StartToStart",o):n.setEndPoint("EndToEnd",o),n.select())):i()}function i(){var t=s.selection.createRange();o&&!t.item&&0===t.compareEndPoints("StartToEnd",t)&&o.select(),Q.unbind(s,"mouseup",i),Q.unbind(s,"mousemove",e),o=n=0}var n,o,r,s=Q.doc,a=s.body;s.documentElement.unselectable=!0,Q.bind(s,"mousedown contextmenu",function(a){if("HTML"===a.target.nodeName){if(n&&i(),r=s.documentElement,r.scrollHeight>r.clientHeight)return;n=1,o=t(a.x,a.y),o&&(Q.bind(s,"mouseup",i),Q.bind(s,"mousemove",e),Q.getRoot().focus(),o.select())}})}function L(){u.on("keyup focusin mouseup",function(e){65==e.keyCode&&t.metaKeyPressed(e)||J.normalize()},!0)}function F(){u.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}function H(){u.inline||u.on("keydown",function(){document.activeElement==document.body&&u.getWin().focus()})}function B(){u.inline||(u.contentStyles.push("body {min-height: 150px}"),u.on("click",function(t){var e;if("HTML"==t.target.nodeName){if(s.ie>11)return void u.getBody().focus();e=u.selection.getRng(),u.getBody().focus(),u.selection.setRng(e),u.selection.normalize(),u.nodeChanged()}}))}function z(){s.mac&&u.on("keydown",function(e){!t.metaKeyPressed(e)||e.shiftKey||37!=e.keyCode&&39!=e.keyCode||(e.preventDefault(),u.selection.getSel().modify("move",37==e.keyCode?"backward":"forward","lineboundary"))})}function W(){d("AutoUrlDetect",!1)}function j(){u.on("click",function(t){var e=t.target;do if("A"===e.tagName)return void t.preventDefault();while(e=e.parentNode)}),u.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}function V(){u.on("init",function(){u.dom.bind(u.getBody(),"submit",function(t){t.preventDefault()})})}function U(){tt.addNodeFilter("br",function(t){for(var e=t.length;e--;)"Apple-interchange-newline"==t[e].attr("class")&&t[e].remove()})}function q(){u.on("dragstart",function(t){p(t)}),u.on("drop",function(t){if(!f(t)){var i=m(t);if(i&&i.id!=u.id){t.preventDefault();var n=e.getCaretRangeFromPoint(t.x,t.y,u.getDoc());J.setRng(n),g(i.html)}}})}var Y=a.each,X=u.$,G=t.BACKSPACE,K=t.DELETE,Q=u.dom,J=u.selection,Z=u.settings,tt=u.parser,et=u.serializer,it=s.gecko,nt=s.ie,ot=s.webkit,rt="data:text/mce-internal,",st=nt?"Text":"URL";E(),y(),L(),ot&&(v(),x(),C(),M(),V(),S(),U(),s.iOS?(H(),B(),j()):b()),nt&&s.ie<11&&(_(),T(),N(),D(),I(),$(),R(),O()),s.ie>=11&&(B(),S()),s.ie&&(b(),W(),q()),it&&(_(),w(),k(),P(),A(),F(),z(),S())}}),/**
 * EditorObservable.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/EditorObservable",["tinymce/util/Observable","tinymce/dom/DOMUtils","tinymce/util/Tools"],function(t,e,i){function n(t,e){return"selectionchange"==e?t.getDoc():!t.inline&&/^mouse|click|contextmenu|drop|dragover|dragend/.test(e)?t.getDoc().documentElement:t.settings.event_root?(t.eventRoot||(t.eventRoot=s.select(t.settings.event_root)[0]),t.eventRoot):t.getBody()}function o(t,e){function i(t){return!t.hidden&&!t.readonly}var o,a=n(t,e);if(t.delegates||(t.delegates={}),!t.delegates[e])if(t.settings.event_root){if(r||(r={},t.editorManager.on("removeEditor",function(){var e;if(!t.editorManager.activeEditor&&r){for(e in r)t.dom.unbind(n(t,e));r=null}})),r[e])return;o=function(n){for(var o=n.target,r=t.editorManager.editors,a=r.length;a--;){var l=r[a].getBody();(l===o||s.isChildOf(o,l))&&i(r[a])&&r[a].fire(e,n)}},r[e]=o,s.bind(a,e,o)}else o=function(n){i(t)&&t.fire(e,n)},s.bind(a,e,o),t.delegates[e]=o}var r,s=e.DOM,a={bindPendingEventDelegates:function(){var t=this;i.each(t._pendingNativeEvents,function(e){o(t,e)})},toggleNativeEvent:function(t,e){var i=this;"focus"!=t&&"blur"!=t&&(e?i.initialized?o(i,t):i._pendingNativeEvents?i._pendingNativeEvents.push(t):i._pendingNativeEvents=[t]:i.initialized&&(i.dom.unbind(n(i,t),t,i.delegates[t]),delete i.delegates[t]))},unbindAllNativeEvents:function(){var t,e=this;if(e.delegates){for(t in e.delegates)e.dom.unbind(n(e,t),t,e.delegates[t]);delete e.delegates}e.inline||(e.getBody().onload=null,e.dom.unbind(e.getWin()),e.dom.unbind(e.getDoc())),e.dom.unbind(e.getBody()),e.dom.unbind(e.getContainer())}};return a=i.extend({},t,a)}),/**
 * Mode.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/Mode",[],function(){function t(t,e,i){try{t.getDoc().execCommand(e,!1,i)}catch(n){}}function e(e,i){var n=e.readonly?"readonly":"design";i!=n&&("readonly"==i?(e.selection.controlSelection.hideResizeRect(),e.readonly=!0,e.getBody().contentEditable=!1):(e.readonly=!1,e.getBody().contentEditable=!0,t(e,"StyleWithCSS",!1),t(e,"enableInlineTableEditing",!1),t(e,"enableObjectResizing",!1),e.focus(),e.nodeChanged()),e.fire("SwitchMode",{mode:i}))}return{setMode:e}}),/**
 * Shortcuts.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/Shortcuts",["tinymce/util/Tools","tinymce/Env"],function(t,e){var i=t.each,n=t.explode,o={f9:120,f10:121,f11:122},r=t.makeMap("alt,ctrl,shift,meta,access");return function(s){function a(t,a,l,c){var u,d,h;h={func:l,scope:c||s,desc:s.translate(a)},i(n(t,"+"),function(t){t in r?h[t]=!0:/^[0-9]{2,}$/.test(t)?h.keyCode=parseInt(t,10):(h.charCode=t.charCodeAt(0),h.keyCode=o[t]||t.toUpperCase().charCodeAt(0))}),u=[h.keyCode];for(d in r)h[d]?u.push(d):h[d]=!1;return h.id=u.join(","),h.access&&(h.alt=!0,e.mac?h.ctrl=!0:h.shift=!0),h.meta&&(e.mac?h.meta=!0:(h.ctrl=!0,h.meta=!1)),h}var l=this,c={};s.on("keyup keypress keydown",function(t){(t.altKey||t.ctrlKey||t.metaKey)&&!t.isDefaultPrevented()&&i(c,function(e){return e.ctrl==t.ctrlKey&&e.meta==t.metaKey&&e.alt==t.altKey&&e.shift==t.shiftKey&&(t.keyCode==e.keyCode||t.charCode&&t.charCode==e.charCode)?(t.preventDefault(),"keydown"==t.type&&e.func.call(e.scope),!0):void 0})}),l.add=function(e,o,r,l){var u;return u=r,"string"==typeof r?r=function(){s.execCommand(u,!1,null)}:t.isArray(u)&&(r=function(){s.execCommand(u[0],u[1],u[2])}),i(n(e.toLowerCase()),function(t){var e=a(t,o,r,l);c[e.id]=e}),!0},l.remove=function(t){var e=a(t);return c[e.id]?(delete c[e.id],!0):!1}}}),/**
 * Uploader.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/file/Uploader",["tinymce/util/Promise","tinymce/util/Tools","tinymce/util/Fun"],function(t,e,i){return function(n){function o(t){var e,i;return i={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"},e=i[t.blob().type.toLowerCase()]||"dat",t.id()+"."+e}function r(t,e){return t?t.replace(/\/$/,"")+"/"+e.replace(/^\//,""):e}function s(t){return{id:t.id,blob:t.blob,base64:t.base64,filename:i.constant(o(t))}}function a(t,e,i,s){var a,l,c;a=new XMLHttpRequest,a.open("POST",n.url),a.withCredentials=n.credentials,c=s(),a.upload.onprogress=function(t){var e=Math.round(t.loaded/t.total*100);c.progressBar.value(e)},a.onload=function(){var t;return c.close(),200!=a.status?void i("HTTP Error: "+a.status):(t=JSON.parse(a.responseText),t&&"string"==typeof t.location?void e(r(n.basePath,t.location)):void i("Invalid JSON: "+a.responseText))},l=new FormData,l.append("file",t.blob(),o(t)),a.send(l)}function l(){return new t(function(t){t([])})}function c(t){return t.then(function(t){return t})["catch"](function(t){return t})}function u(t,e,i){var n=t(i),o=c(n);return delete p[e],p[e]=o,o}function d(t,i){return e.map(t,function(t){var e=t.id();return p[e]?p[e]:u(i,e,t)})}function h(e,i){function o(e){return new t(function(t){var o=n.handler;o(s(e),function(i){t({url:i,blobInfo:e,status:!0})},function(i){t({url:"",blobInfo:e,status:!1,error:i})},i)})}var r=d(e,o);return t.all(r)}function f(t,e){return n.url||n.handler!==a?h(t,e):l()}var p={};return n=e.extend({credentials:!1,handler:a},n),{upload:f}}}),/**
 * Conversions.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/file/Conversions",["tinymce/util/Promise"],function(t){function e(e){return new t(function(t){var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="blob",i.onload=function(){200==this.status&&t(this.response)},i.send()})}function i(t){var e,i;return t=decodeURIComponent(t).split(","),i=/data:([^;]+)/.exec(t[0]),i&&(e=i[1]),{type:e,data:t[1]}}function n(e){return new t(function(t){var n,o,r;e=i(e);try{n=atob(e.data)}catch(s){return void t(new Blob([]))}for(o=new Uint8Array(n.length),r=0;r<o.length;r++)o[r]=n.charCodeAt(r);t(new Blob([o],{type:e.type}))})}function o(t){return 0===t.indexOf("blob:")?e(t):0===t.indexOf("data:")?n(t):null}function r(e){return new t(function(t){var i=new FileReader;i.onloadend=function(){t(i.result)},i.readAsDataURL(e)})}return{uriToBlob:o,blobToDataUri:r,parseDataUri:i}}),/**
 * ImageScanner.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/file/ImageScanner",["tinymce/util/Promise","tinymce/util/Arr","tinymce/util/Fun","tinymce/file/Conversions","tinymce/Env"],function(t,e,i,n,o){var r=0;return function(s){function a(a,c){function u(t,e){var i,o;return 0===t.src.indexOf("blob:")?(o=s.getByUri(t.src),void(o&&e({image:t,blobInfo:o}))):(i=n.parseDataUri(t.src).data,o=s.findFirst(function(t){return t.base64()===i}),void(o?e({image:t,blobInfo:o}):n.uriToBlob(t.src).then(function(n){var o="blobid"+r++,a=s.create(o,n,i);s.add(a),e({image:t,blobInfo:a})})))}var d,h;return c||(c=i.constant(!0)),d=e.filter(a.getElementsByTagName("img"),function(t){var e=t.src;return o.fileApi?t.hasAttribute("data-mce-bogus")?!1:t.hasAttribute("data-mce-placeholder")?!1:e&&e!=o.transparentSrc?0===e.indexOf("blob:")?!0:0===e.indexOf("data:")?c(t):!1:!1:!1}),h=e.map(d,function(e){var i;return l[e.src]?new t(function(t){l[e.src].then(function(i){t({image:e,blobInfo:i.blobInfo})})}):(i=new t(function(t){u(e,t)}).then(function(t){return delete l[t.image.src],t})["catch"](function(t){return delete l[e.src],t}),l[e.src]=i,i)}),t.all(h)}var l={};return{findAll:a}}}),/**
 * BlobCache.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/file/BlobCache",["tinymce/util/Arr","tinymce/util/Fun"],function(t,e){return function(){function i(t,e,i){return{id:c(t),blob:c(e),base64:c(i),blobUri:c(URL.createObjectURL(e))}}function n(t){o(t.id())||l.push(t)}function o(t){return r(function(e){return e.id()===t})}function r(e){return t.filter(l,e)[0]}function s(t){return r(function(e){return e.blobUri()==t})}function a(){t.each(l,function(t){URL.revokeObjectURL(t.blobUri())}),l=[]}var l=[],c=e.constant;return{create:i,add:n,get:o,getByUri:s,findFirst:r,destroy:a}}}),/**
 * EditorUpload.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/EditorUpload",["tinymce/util/Arr","tinymce/file/Uploader","tinymce/file/ImageScanner","tinymce/file/BlobCache"],function(t,e,i,n){return function(o){function r(t){return function(e){return o.selection?t(e):[]}}function s(t,e,i){var n=0;do n=t.indexOf(e,n),-1!==n&&(t=t.substring(0,n)+i+t.substr(n+e.length),n+=i.length-e.length+1);while(-1!==n);return t}function a(t,e,i){return t=s(t,'src="'+e+'"','src="'+i+'"'),t=s(t,'data-mce-src="'+e+'"','data-mce-src="'+i+'"')}function l(e,i){t.each(o.undoManager.data,function(t){t.content=a(t.content,e,i)})}function c(){return o.notificationManager.open({text:o.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}function u(i){return m||(m=new e({url:y.images_upload_url,basePath:y.images_upload_base_path,credentials:y.images_upload_credentials,handler:y.images_upload_handler})),h().then(r(function(e){var n;return n=t.map(e,function(t){return t.blobInfo}),m.upload(n,c).then(r(function(n){return n=t.map(n,function(t,i){var n=e[i].image;return l(n.src,t.url),o.$(n).attr({src:t.url,"data-mce-src":o.convertURL(t.url,"src")}),{element:n,status:t.status}}),i&&i(n),n}))}))}function d(t){return y.automatic_uploads!==!1?u(t):void 0}function h(){return g||(g=new i(v)),g.findAll(o.getBody(),y.images_dataimg_filter).then(r(function(e){return t.each(e,function(t){l(t.image.src,t.blobInfo.blobUri()),t.image.src=t.blobInfo.blobUri()}),e}))}function f(){v.destroy(),g=m=null}function p(e){return e.replace(/src="(blob:[^"]+)"/g,function(e,i){var n=v.getByUri(i);return n||(n=t.reduce(o.editorManager.editors,function(t,e){return t||e.editorUpload.blobCache.getByUri(i)},null)),n?'src="data:'+n.blob().type+";base64,"+n.base64()+'"':e})}var m,g,v=new n,y=o.settings;return o.on("setContent",function(){o.settings.automatic_uploads!==!1?d():h()}),o.on("RawSaveContent",function(t){t.content=p(t.content)}),o.on("getContent",function(t){t.source_view||"raw"==t.format||(t.content=p(t.content))}),{blobCache:v,uploadImages:u,uploadImagesAuto:d,scanForImages:h,destroy:f}}}),/**
 * CaretUtils.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/caret/CaretUtils",["tinymce/util/Fun","tinymce/dom/TreeWalker","tinymce/dom/NodeType","tinymce/caret/CaretPosition","tinymce/caret/CaretContainer","tinymce/caret/CaretCandidate"],function(t,e,i,n,o,r){function s(t){return t>0}function a(t){return 0>t}function l(t,i,n,o,r){var l=new e(t,o);if(a(i)){if(x(t)&&(t=l.prev(!0),n(t)))return t;for(;t=l.prev(r);)if(n(t))return t}if(s(i)){if(x(t)&&(t=l.next(!0),n(t)))return t;for(;t=l.next(r);)if(n(t))return t}return null}function c(t,e){for(t=t.parentNode;t&&t!=e;t=t.parentNode)if(b(t))return t;return e}function u(t,e){for(;t&&t!=e;){if(_(t))return t;t=t.parentNode}return null}function d(t,e,i){return u(t.container(),i)==u(e.container(),i)}function h(t,e,i){return c(t.container(),i)==c(e.container(),i)}function f(t,e){var i,n;return e?(i=e.container(),n=e.offset(),k(i)?i.childNodes[n+t]:null):null}function p(t,e){var i=e.ownerDocument.createRange();return t?(i.setStartBefore(e),i.setEndBefore(e)):(i.setStartAfter(e),i.setEndAfter(e)),i}function m(t,e,i){return u(e,t)==u(i,t)}function g(t,e,i){var n,o;for(o=t?"previousSibling":"nextSibling";i&&i!=e;){if(n=i[o],w(n)&&(n=n[o]),x(n)){if(m(e,n,i))return n;break}if(T(n))break;i=i.parentNode}return null}function v(t,e,n){var r,s,a,l,c=C(g,!0,e),u=C(g,!1,e);if(s=n.startContainer,a=n.startOffset,o.isCaretContainerBlock(s)){if(k(s)||(s=s.parentNode),l=s.getAttribute("data-mce-caret"),"before"==l&&(r=s.nextSibling,x(r)))return S(r);if("after"==l&&(r=s.previousSibling,x(r)))return N(r)}if(!n.collapsed)return n;if(i.isText(s)){if(w(s)){if(1===t){if(r=u(s))return S(r);if(r=c(s))return N(r)}if(-1===t){if(r=c(s))return N(r);if(r=u(s))return S(r)}return n}if(o.endsWithCaretContainer(s)&&a>=s.data.length-1)return 1===t&&(r=u(s))?S(r):n;if(o.startsWithCaretContainer(s)&&1>=a)return-1===t&&(r=c(s))?N(r):n;if(a===s.data.length)return r=u(s),r?S(r):n;if(0===a)return r=c(s),r?N(r):n}return n}function y(t,e){return x(f(t,e))}var b=i.isContentEditableTrue,x=i.isContentEditableFalse,_=i.matchStyleValues("display","block table table-cell table-caption"),w=o.isCaretContainer,C=t.curry,k=i.isElement,T=r.isCaretCandidate,S=C(p,!0),N=C(p,!1);return{isForwards:s,isBackwards:a,findNode:l,getEditingHost:c,getParentBlock:u,isInSameBlock:d,isInSameEditingHost:h,isBeforeContentEditableFalse:C(y,0),isAfterContentEditableFalse:C(y,-1),normalizeRange:v}}),/**
 * CaretWalker.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/caret/CaretWalker",["tinymce/dom/NodeType","tinymce/caret/CaretCandidate","tinymce/caret/CaretPosition","tinymce/caret/CaretUtils","tinymce/util/Arr","tinymce/util/Fun"],function(t,e,i,n,o,r){function s(t,e){for(var i=[];t&&t!=e;)i.push(t),t=t.parentNode;return i}function a(t,e){return t.hasChildNodes()&&e<t.childNodes.length?t.childNodes[e]:null}function l(t,e){if(f(t)){if(m(e.previousSibling)&&!d(e.previousSibling))return i.before(e);if(d(e))return i(e,0)}if(p(t)){if(m(e.nextSibling)&&!d(e.nextSibling))return i.after(e);if(d(e))return i(e,e.data.length)}return p(t)?i.after(e):i.before(e)}function c(t,e,c){var y,b,x,_,w,C,k;if(!h(c)||!e)return null;if(k=e,y=k.container(),b=k.offset(),d(y)){if(p(t)&&b>0)return i(y,--b);if(f(t)&&b<y.length)return i(y,++b);x=y}else{if(p(t)&&b>0&&(_=a(y,b-1),m(_)))return!g(_)&&(w=n.findNode(_,t,v,_))?d(w)?i(w,w.data.length):i.after(w):d(_)?i(_,_.data.length):i.before(_);if(f(t)&&b<y.childNodes.length&&(_=a(y,b),m(_)))return!g(_)&&(w=n.findNode(_,t,v,_))?d(w)?i(w,0):i.before(w):d(_)?i(_,0):i.after(_);x=k.getNode()}return(f(t)&&k.isAtEnd()||p(t)&&k.isAtStart())&&(x=n.findNode(x,t,r.constant(!0),c,!0),v(x))?l(t,x):(_=n.findNode(x,t,v,c),C=o.last(o.filter(s(y,c),u)),!C||_&&C.contains(_)?_?l(t,_):null:k=f(t)?i.after(C):i.before(C))}var u=t.isContentEditableFalse,d=t.isText,h=t.isElement,f=n.isForwards,p=n.isBackwards,m=e.isCaretCandidate,g=e.isAtomic,v=e.isEditableCaretCandidate;return function(t){return{next:function(e){return c(1,e,t)},prev:function(e){return c(-1,e,t)}}}}),/**
 * FakeCaret.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/caret/FakeCaret",["tinymce/caret/CaretContainer","tinymce/caret/CaretPosition","tinymce/dom/NodeType","tinymce/dom/RangeUtils","tinymce/dom/DomQuery","tinymce/geom/ClientRect","tinymce/util/Delay"],function(t,e,i,n,o,r,s){var a=i.isContentEditableFalse;return function(e,i){function n(t,i){var n,o,s,a,l,c=r.collapse(t.getBoundingClientRect(),i);return"BODY"==e.tagName?(n=e.ownerDocument.documentElement,o=e.scrollLeft||n.scrollLeft,s=e.scrollTop||n.scrollTop):(l=e.getBoundingClientRect(),o=e.scrollLeft-l.left,s=e.scrollTop-l.top),c.left+=o,c.right+=o,c.top+=s,c.bottom+=s,c.width=1,a=t.offsetWidth-t.clientWidth,a>0&&(i&&(a*=-1),c.left+=a,c.right+=a),c}function l(){var i,n,r,s,a;for(i=o("*[contentEditable=false]",e),s=0;s<i.length;s++)n=i[s],r=n.previousSibling,t.endsWithCaretContainer(r)&&(a=r.data,1==a.length?r.parentNode.removeChild(r):r.deleteData(a.length-1,1)),r=n.nextSibling,t.startsWithCaretContainer(r)&&(a=r.data,1==a.length?r.parentNode.removeChild(r):r.deleteData(0,1));return null}function c(r,s){var l,c,h;return u(),i(s)?(g=t.insertBlock("p",s,r),l=n(s,r),o(g).css("top",l.top),m=o('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(l).appendTo(e),r&&m.addClass("mce-visual-caret-before"),d(),c=s.ownerDocument.createRange(),h=g.firstChild,c.setStart(h,0),c.setEnd(h,1),c):(g=t.insertInline(s,r),c=s.ownerDocument.createRange(),a(g.nextSibling)?(c.setStart(g,0),c.setEnd(g,0)):(c.setStart(g,1),c.setEnd(g,1)),c)}function u(){l(),g&&(t.remove(g),g=null),m&&(m.remove(),m=null),clearInterval(p)}function d(){p=s.setInterval(function(){o("div.mce-visual-caret",e).toggleClass("mce-visual-caret-hidden")},500)}function h(){s.clearInterval(p)}function f(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"}var p,m,g;return{show:c,hide:u,getCss:f,destroy:h}}}),/**
 * Dimensions.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/dom/Dimensions",["tinymce/util/Arr","tinymce/dom/NodeType","tinymce/geom/ClientRect"],function(t,e,i){function n(o){function r(e){return t.map(e,function(t){return t=i.clone(t),t.node=o,t})}if(t.isArray(o))return t.reduce(o,function(t,e){return t.concat(n(e))},[]);if(e.isElement(o))return r(o.getClientRects());if(e.isText(o)){var s=o.ownerDocument.createRange();return s.setStart(o,0),s.setEnd(o,o.data.length),r(s.getClientRects())}}return{getClientRects:n}}),/**
 * LineWalker.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/caret/LineWalker",["tinymce/util/Fun","tinymce/util/Arr","tinymce/dom/Dimensions","tinymce/caret/CaretCandidate","tinymce/caret/CaretUtils","tinymce/caret/CaretWalker","tinymce/caret/CaretPosition","tinymce/geom/ClientRect"],function(t,e,i,n,o,r,s,a){function l(t,e,i,r){for(;r=o.findNode(r,t,n.isEditableCaretCandidate,e);)if(i(r))return}function c(t,n,o,r,s,a){function c(r){var a,l,c;for(c=i.getClientRects(r),-1==t&&(c=c.reverse()),a=0;a<c.length;a++)if(l=c[a],!o(l,d)){if(f.length>0&&n(l,e.last(f))&&h++,l.line=h,s(l))return!0;f.push(l)}}var u,d,h=0,f=[];return(d=e.last(a.getClientRects()))?(u=a.getNode(),c(u),l(t,r,c,u),f):f}function u(t,e){return e.line>t}function d(t,e){return e.line===t}function h(t,i,n,o){function l(i){return 1==t?e.last(i.getClientRects()):e.last(i.getClientRects())}var c,u,d,h,f,p,m=new r(i),g=[],v=0;1==t?(c=m.next,u=a.isBelow,d=a.isAbove,h=s.after(o)):(c=m.prev,u=a.isAbove,d=a.isBelow,h=s.before(o)),p=l(h);do if(h.isVisible()&&(f=l(h),!d(f,p))){if(g.length>0&&u(f,e.last(g))&&v++,f=a.clone(f),f.position=h,f.line=v,n(f))return g;g.push(f)}while(h=c(h));return g}var f=t.curry,p=f(c,-1,a.isAbove,a.isBelow),m=f(c,1,a.isBelow,a.isAbove);return{upUntil:p,downUntil:m,positionsUntil:h,isAboveLine:f(u),isLine:f(d)}}),/**
 * LineUtils.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/caret/LineUtils",["tinymce/util/Fun","tinymce/util/Arr","tinymce/dom/NodeType","tinymce/dom/Dimensions","tinymce/geom/ClientRect","tinymce/caret/CaretUtils","tinymce/caret/CaretCandidate"],function(t,e,i,n,o,r,s){function a(t,e){return Math.abs(t.left-e)}function l(t,e){return Math.abs(t.right-e)}function c(t,i){function n(t,e){return t>=e.left&&t<=e.right}return e.reduce(t,function(t,e){var o,r;return o=Math.min(a(t,i),l(t,i)),r=Math.min(a(e,i),l(e,i)),n(i,e)?e:n(i,t)?t:r==o&&m(e.node)?e:o>r?e:t})}function u(t,e,i,n){for(;n=g(n,t,s.isEditableCaretCandidate,e);)if(i(n))return}function d(t,i){function r(t,o){var r;return r=e.filter(n.getClientRects(o),function(e){return!t(e,i)}),s=s.concat(r),0===r.length}var s=[];return s.push(i),u(-1,t,v(r,o.isAbove),i.node),u(1,t,v(r,o.isBelow),i.node),s}function h(t){return e.filter(e.toArray(t.getElementsByTagName("*")),m)}function f(t,e){return{node:t.node,before:a(t,e)<l(t,e)}}function p(t,i,o){var r,s;return r=n.getClientRects(h(t)),r=e.filter(r,function(t){return o>=t.top&&o<=t.bottom}),s=c(r,i),s&&(s=c(d(t,s),i),s&&m(s.node))?f(s,i):null}var m=i.isContentEditableFalse,g=r.findNode,v=t.curry;return{findClosestClientRect:c,findLineNodeRects:d,closestCaret:p}}),/**
 * DragDropOverrides.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/DragDropOverrides",["tinymce/dom/NodeType"],function(t){function e(t){function e(t){return i(t)}function n(e){c(t.getBody()).css("cursor",e)}function o(e){return e==f.element||t.dom.isChildOf(e,f.element)?!1:i(e)?!1:!0}function r(e){var i,o,r,s,a,l,u,d,p=0,m=0;0===e.button&&(i=e.screenX-f.screenX,o=e.screenY-f.screenY,a=Math.max(Math.abs(i),Math.abs(o)),!f.dragging&&a>10&&(f.dragging=!0,n("default"),f.clone=f.element.cloneNode(!0),r=h.getPos(f.element),f.relX=f.clientX-r.x,f.relY=f.clientY-r.y,f.width=f.element.offsetWidth,f.height=f.element.offsetHeight,c(f.clone).css({width:f.width,height:f.height}).removeAttr("data-mce-selected"),f.ghost=c("<div>").css({position:"absolute",opacity:.5,overflow:"hidden",width:f.width,height:f.height}).attr({"data-mce-bogus":"all",unselectable:"on",contenteditable:"false"}).addClass("mce-drag-container mce-reset").append(f.clone).appendTo(t.getBody())[0],s=t.dom.getViewPort(t.getWin()),f.maxX=s.w,f.maxY=s.h),f.dragging&&(t.selection.placeCaretAt(e.clientX,e.clientY),l=f.clientX+i-f.relX,u=f.clientY+o+5,l+f.width>f.maxX&&(p=l+f.width-f.maxX),u+f.height>f.maxY&&(m=u+f.height-f.maxY),d="BODY"!=t.getBody().nodeName?t.getBody().getBoundingClientRect():{left:0,top:0},c(f.ghost).css({left:l-d.left,top:u-d.top,width:f.width-p,height:f.height-m})))}function s(){f.dragging&&(t.selection.setRng(t.selection.getSel().getRangeAt(0)),o(t.selection.getNode())&&t.undoManager.transact(function(){t.insertContent(h.getOuterHTML(f.element)),c(f.element).remove()})),l()}function a(i){if(l(),e(i.target)){if(t.fire("dragstart",{target:i.target}).isDefaultPrevented())return;t.on("mousemove",r),t.on("mouseup",s),u!=d&&(h.bind(u,"mousemove",r),h.bind(u,"mouseup",s)),f={screenX:i.screenX,screenY:i.screenY,clientX:i.clientX,clientY:i.clientY,element:i.target}}}function l(){c(f.ghost).remove(),n(null),t.off("mousemove",r),t.off("mouseup",l),u!=d&&(h.unbind(u,"mousemove",r),h.unbind(u,"mouseup",l)),f={}}var c=t.$,u=document,d=t.getDoc(),h=t.dom,f={};t.on("mousedown",a),t.on("drop",function(e){var n=t.getDoc().elementFromPoint(e.clientX,e.clientY);(i(n)||i(t.dom.getContentEditableParent(n)))&&e.preventDefault()})}var i=t.isContentEditableFalse;return{init:e}}),/**
 * SelectionOverrides.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/SelectionOverrides",["tinymce/Env","tinymce/caret/CaretWalker","tinymce/caret/CaretPosition","tinymce/caret/CaretContainer","tinymce/caret/CaretUtils","tinymce/caret/FakeCaret","tinymce/caret/LineWalker","tinymce/caret/LineUtils","tinymce/dom/NodeType","tinymce/dom/RangeUtils","tinymce/util/VK","tinymce/util/Fun","tinymce/util/Arr","tinymce/util/Delay","tinymce/DragDropOverrides"],function(t,e,i,n,o,r,s,a,l,c,u,d,h,f,p){function m(t,e){for(;e=t(e);)if(e.isVisible())return e;return e}function g(c){function d(t){return c.dom.isBlock(t)}function g(t){t&&c.selection.setRng(t)}function k(){return c.selection.getRng()}function T(t,e){c.selection.scrollIntoView(t,e)}function S(t,e,i){var n;return n=c.fire("ShowCaret",{target:e,direction:t,before:i}),n.isDefaultPrevented()?null:(T(e,-1===t),tt.show(i,e))}function N(t){var e;return e=c.fire("ObjectSelected",{target:t}),e.isDefaultPrevented()?null:(tt.hide(),D(t))}function D(t){var e=t.ownerDocument.createRange();return e.selectNode(t),e}function E(t,e){var i=o.isInSameBlock(t,e);return!i&&l.isBr(t.getNode())?!0:i}function P(t,e){return e=o.normalizeRange(t,K,e),-1==t?i.fromRangeStart(e):i.fromRangeEnd(e)}function A(t){return n.isCaretContainerBlock(t.startContainer)}function M(t,e,i,n){var o,r,s,a;return!n.collapsed&&(o=C(n),b(o))?S(t,o,-1==t):(a=A(n),r=P(t,n),i(r)?N(r.getNode(-1==t)):(r=e(r))?i(r)?S(t,r.getNode(-1==t),1==t):(s=e(r),i(s)&&E(r,s)?S(t,s.getNode(-1==t),1==t):a?B(r.toRange()):null):a?n:null)}function I(t,e,i){var n,o,r,l,c,u,d,f,p;if(p=C(i),n=P(t,i),o=e(K,s.isAboveLine(1),n),r=h.filter(o,s.isLine(1)),c=h.last(n.getClientRects()),w(n)&&(p=n.getNode()),_(n)&&(p=n.getNode(!0)),!c)return null;if(u=c.left,l=a.findClosestClientRect(r,u),l&&b(l.node))return d=Math.abs(u-l.left),f=Math.abs(u-l.right),S(t,l.node,f>d);if(p){var m=s.positionsUntil(t,K,s.isAboveLine(1),p);if(l=a.findClosestClientRect(h.filter(m,s.isLine(1)),u))return B(l.position.toRange());if(l=h.last(h.filter(m,s.isLine(0))))return B(l.position.toRange())}}function $(e,n){function o(){var e=c.dom.create(c.settings.forced_root_block);return(!t.ie||t.ie>=11)&&(e.innerHTML='<br data-mce-bogus="1">'),e}var r,s,a;if(n.collapsed&&c.settings.forced_root_block){if(r=c.dom.getParent(n.startContainer,"PRE"),!r)return;s=1==e?J(i.fromRangeStart(n)):Z(i.fromRangeStart(n)),s||(a=o(),1==e?c.$(r).after(a):c.$(r).before(a),c.selection.select(a,!0),c.selection.collapse())}}function R(t,e,i,n){var o;return(o=M(t,e,i,n))?o:(o=$(t,n),o?o:null)}function O(t,e,i){var n;return(n=I(t,e,i))?n:(n=$(t,i),n?n:null)}function L(){return it("*[data-mce-caret]")[0]}function F(t){t=it(t),t.attr("data-mce-caret")&&(tt.hide(),t.removeAttr("data-mce-caret"),t.removeAttr("data-mce-bogus"),t.removeAttr("style"),g(k()),T(t[0]))}function H(t){var e;return t=o.normalizeRange(1,K,t),e=i.fromRangeStart(t),b(e.getNode())?S(1,e.getNode(),!e.isAtEnd()):b(e.getNode(!0))?S(1,e.getNode(!0),!1):(tt.hide(),null)}function B(t){var e;return t&&t.collapsed?(e=H(t),e?e:t):t}function z(t){var e,o,r,s;return b(t)?(b(t.previousSibling)&&(r=t.previousSibling),o=Z(i.before(t)),o||(e=J(i.after(t))),e&&x(e.getNode())&&(s=e.getNode()),n.remove(t.previousSibling),n.remove(t.nextSibling),c.dom.remove(t),Y(),c.dom.isEmpty(c.getBody())?(c.setContent(""),void c.focus()):r?i.after(r).toRange():s?i.before(s).toRange():o?o.toRange():e?e.toRange():null):null}function W(t,e,i){var n,o;return!i.collapsed&&(n=C(i),b(n))?B(z(n)):(o=P(t,i),e(o)?B(z(o.getNode(-1==t))):void 0)}function j(){function t(t){var e=t(k());return e?(g(e),!0):!1}function e(t){for(var e=c.getBody();t&&t!=e;){if(y(t)||b(t))return t;t=t.parentNode}return null}function n(){var t,n=e(c.selection.getNode());y(n)&&d(n)&&c.dom.isEmpty(n)&&(t=c.dom.create("br",{"data-mce-bogus":"1"}),c.$(n).empty().append(t),c.selection.setRng(i.before(t).toRange()))}function o(t){var e=L();if(e)return"compositionstart"==t.type?(t.preventDefault(),t.stopPropagation(),void F(e)):void("&nbsp;"!=e.innerHTML&&F(e))}function r(t){var e;switch(t.keyCode){case u.DELETE:e=n();break;case u.BACKSPACE:e=n()}e&&t.preventDefault()}var l=v(R,1,J,w),h=v(R,-1,Z,_),m=v(W,1,w),x=v(W,-1,_),C=v(O,-1,s.upUntil),T=v(O,1,s.downUntil);c.on("mouseup",function(){var t=k();t.collapsed&&g(H(t))}),c.on("mousedown",function(t){var i;if(i=e(t.target))b(i)?(t.preventDefault(),q(N(i),!1)):c.selection.placeCaretAt(t.clientX,t.clientY);else{Y(),tt.hide();var n=a.closestCaret(K,t.clientX,t.clientY);n&&(t.preventDefault(),c.getBody().focus(),g(S(1,n.node,n.before)))}}),c.on("keydown",function(e){var i;if(!u.modifierPressed(e)){switch(e.keyCode){case u.RIGHT:i=t(l);break;case u.DOWN:i=t(T);break;case u.LEFT:i=t(h);break;case u.UP:i=t(C);break;case u.DELETE:i=t(m);break;case u.BACKSPACE:i=t(x);break;default:i=b(c.selection.getNode())}i&&e.preventDefault()}}),c.on("keyup compositionstart",function(t){o(t),r(t)},!0),c.on("cut",function(){var t=c.selection.getNode();b(t)&&f.setEditorTimeout(c,function(){g(B(z(t)))})}),c.on("getSelectionRange",function(t){var e=t.range;if(G){if(!G.parentNode)return void(G=null);e=e.cloneRange(),e.selectNode(G),t.range=e}}),c.on("setSelectionRange",function(t){var e;e=q(t.range),e&&(t.range=e)}),c.on("focus",function(){f.setEditorTimeout(c,function(){c.selection.setRng(B(c.selection.getRng()))})}),p.init(c)}function V(){var t=c.contentStyles,e=".mce-content-body";t.push(tt.getCss()),t.push(e+" .mce-offscreen-selection {position: absolute;left: -9999999999px;width: 100pxheight: 100px}"+e+" *[contentEditable=false] {cursor: default;}"+e+" *[contentEditable=true] {cursor: text;}")}function U(t){return n.isCaretContainer(t.startContainer)||n.isCaretContainer(t.endContainer)}function q(t,e){var i,n,o,r,s,a,l,u,d=c.$,h=c.dom;if(!t)return Y(),null;if(t.collapsed){if(Y(),!U(t)){if(u=P(1,t),b(u.getNode()))return S(1,u.getNode(),!u.isAtEnd());if(b(u.getNode(!0)))return S(1,u.getNode(!0),!1)}return null}return r=t.startContainer,s=t.startOffset,a=t.endOffset,3==r.nodeType&&0==s&&b(r.parentNode)&&(r=r.parentNode,s=h.nodeIndex(r),r=r.parentNode),1!=r.nodeType?(Y(),null):(a==s+1&&(i=r.childNodes[s]),b(i)?e!==!1&&(l=c.fire("ObjectSelected",{target:i}),l.isDefaultPrevented())?(Y(),null):(n=d("#"+et),0===n.length&&(n=d('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",et),n.appendTo(c.getBody())),n.empty().append("\xa0").append(i.cloneNode(!0)).append("\xa0").css({top:h.getPos(i,c.getBody()).y}),t=c.dom.createRng(),t.setStart(n[0].firstChild,1),t.setEnd(n[0].lastChild,0),c.getBody().focus(),n[0].focus(),o=c.selection.getSel(),o.removeAllRanges(),o.addRange(t),c.$("*[data-mce-selected]").removeAttr("data-mce-selected"),i.setAttribute("data-mce-selected",1),G=i,t):(Y(),null))}function Y(){G&&(G.removeAttribute("data-mce-selected"),c.$("#"+et).remove(),G=null)}function X(){tt.destroy(),G=null}var G,K=c.getBody(),Q=new e(K),J=v(m,Q.next),Z=v(m,Q.prev),tt=new r(c.getBody(),d),et="sel-"+c.dom.uniqueId(),it=c.$;return t.ceFalse&&(j(),V()),{showBlockCaretContainer:F,destroy:X}}var v=d.curry,y=l.isContentEditableTrue,b=l.isContentEditableFalse,x=l.isElement,_=o.isAfterContentEditableFalse,w=o.isBeforeContentEditableFalse,C=c.getSelectedNode;return g}),/**
 * Editor.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/Editor",["tinymce/dom/DOMUtils","tinymce/dom/DomQuery","tinymce/AddOnManager","tinymce/NodeChange","tinymce/html/Node","tinymce/dom/Serializer","tinymce/html/Serializer","tinymce/dom/Selection","tinymce/Formatter","tinymce/UndoManager","tinymce/EnterKey","tinymce/ForceBlocks","tinymce/EditorCommands","tinymce/util/URI","tinymce/dom/ScriptLoader","tinymce/dom/EventUtils","tinymce/WindowManager","tinymce/NotificationManager","tinymce/html/Schema","tinymce/html/DomParser","tinymce/util/Quirks","tinymce/Env","tinymce/util/Tools","tinymce/util/Delay","tinymce/EditorObservable","tinymce/Mode","tinymce/Shortcuts","tinymce/EditorUpload","tinymce/SelectionOverrides"],function(t,i,n,o,r,s,a,l,c,u,d,h,f,p,m,g,v,y,b,x,_,w,C,k,T,S,N,D,E){function P(t,e,o){var r,s,a=this;r=a.documentBaseUrl=o.documentBaseURL,s=o.baseURI,a.settings=e=$({id:t,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:r,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",validate:!0,entity_encoding:"named",url_converter:a.convertURL,url_converter_scope:a,ie7_compat:!0},e),n.language=e.language||"en",n.languageLoad=e.language_load,n.baseURL=o.baseURL,a.id=e.id=t,a.setDirty(!1),a.plugins={},a.documentBaseURI=new p(e.document_base_url||r,{base_uri:s}),a.baseURI=s,a.contentCSS=[],a.contentStyles=[],a.shortcuts=new N(a),a.loadedCSS={},a.editorCommands=new f(a),e.target&&(a.targetElm=e.target),a.suffix=o.suffix,a.editorManager=o,a.inline=e.inline,e.cache_suffix&&(w.cacheSuffix=e.cache_suffix.replace(/^[\?\&]+/,"")),e.override_viewport===!1&&(w.overrideViewPort=!1),o.fire("SetupEditor",a),a.execCallback("setup",a),a.$=i.overrideDefaults(function(){return{context:a.inline?a.getBody():a.getDoc(),element:a.getBody()}})}var A=t.DOM,M=n.ThemeManager,I=n.PluginManager,$=C.extend,R=C.each,O=C.explode,L=C.inArray,F=C.trim,H=C.resolve,B=g.Event,z=w.gecko,W=w.ie;return P.prototype={render:function(){function t(){A.unbind(window,"ready",t),i.render()}function e(){var t=m.ScriptLoader;if(n.language&&"en"!=n.language&&!n.language_url&&(n.language_url=i.editorManager.baseURL+"/langs/"+n.language+".js"),n.language_url&&t.add(n.language_url),n.theme&&"function"!=typeof n.theme&&"-"!=n.theme.charAt(0)&&!M.urls[n.theme]){var e=n.theme_url;e=e?i.documentBaseURI.toAbsolute(e):"themes/"+n.theme+"/theme"+r+".js",M.load(n.theme,e)}C.isArray(n.plugins)&&(n.plugins=n.plugins.join(" ")),R(n.external_plugins,function(t,e){I.load(e,t),n.plugins+=" "+e}),R(n.plugins.split(/[ ,]/),function(t){if(t=F(t),t&&!I.urls[t])if("-"==t.charAt(0)){t=t.substr(1,t.length);var e=I.dependencies(t);R(e,function(t){var e={prefix:"plugins/",resource:t,suffix:"/plugin"+r+".js"};t=I.createUrl(e,t),I.load(t.resource,t)})}else I.load(t,{prefix:"plugins/",resource:t,suffix:"/plugin"+r+".js"})}),t.loadQueue(function(){i.removed||i.init()})}var i=this,n=i.settings,o=i.id,r=i.suffix;if(!B.domLoaded)return void A.bind(window,"ready",t);if(i.getElement()&&w.contentEditable){n.inline?i.inline=!0:(i.orgVisibility=i.getElement().style.visibility,i.getElement().style.visibility="hidden");var s=i.getElement().form||A.getParent(o,"form");s&&(i.formElement=s,n.hidden_input&&!/TEXTAREA|INPUT/i.test(i.getElement().nodeName)&&(A.insertAfter(A.create("input",{type:"hidden",name:o}),o),i.hasHiddenInput=!0),i.formEventDelegate=function(t){i.fire(t.type,t)},A.bind(s,"submit reset",i.formEventDelegate),i.on("reset",function(){i.setContent(i.startContent,{format:"raw"})}),!n.submit_patch||s.submit.nodeType||s.submit.length||s._mceOldSubmit||(s._mceOldSubmit=s.submit,s.submit=function(){return i.editorManager.triggerSave(),i.setDirty(!1),s._mceOldSubmit(s)})),i.windowManager=new v(i),i.notificationManager=new y(i),"xml"==n.encoding&&i.on("GetContent",function(t){t.save&&(t.content=A.encode(t.content))}),n.add_form_submit_trigger&&i.on("submit",function(){i.initialized&&i.save()}),n.add_unload_trigger&&(i._beforeUnload=function(){!i.initialized||i.destroyed||i.isHidden()||i.save({format:"raw",no_events:!0,set_dirty:!1})},i.editorManager.on("BeforeUnload",i._beforeUnload)),e()}},init:function(){function t(e){var i,n,o=I.get(e);if(i=I.urls[e]||h.documentBaseUrl.replace(/\/$/,""),e=F(e),o&&-1===L(m,e)){if(R(I.dependencies(e),function(e){t(e)}),h.plugins[e])return;n=new o(h,i,h.$),h.plugins[e]=n,n.init&&(n.init(h,i),m.push(e))}}var e,i,n,o,r,s,a,l,c,u,d,h=this,f=h.settings,p=h.getElement(),m=[];if(this.editorManager.i18n.setCode(f.language),h.rtl=f.rtl_ui||this.editorManager.i18n.rtl,h.editorManager.add(h),f.aria_label=f.aria_label||A.getAttrib(p,"aria-label",h.getLang("aria.rich_text_area")),f.theme&&("function"!=typeof f.theme?(f.theme=f.theme.replace(/-/,""),s=M.get(f.theme),h.theme=new s(h,M.urls[f.theme]),h.theme.init&&h.theme.init(h,M.urls[f.theme]||h.documentBaseUrl.replace(/\/$/,""),h.$)):h.theme=f.theme),R(f.plugins.replace(/\-/g,"").split(/[ ,]/),t),f.render_ui&&h.theme&&(h.orgDisplay=p.style.display,"function"!=typeof f.theme?(e=f.width||p.style.width||p.offsetWidth,i=f.height||p.style.height||p.offsetHeight,n=f.min_height||100,u=/^[0-9\.]+(|px)$/i,u.test(""+e)&&(e=Math.max(parseInt(e,10),100)),u.test(""+i)&&(i=Math.max(parseInt(i,10),n)),r=h.theme.renderUI({targetNode:p,width:e,height:i,deltaWidth:f.delta_width,deltaHeight:f.delta_height}),f.content_editable||(i=(r.iframeHeight||i)+("number"==typeof i?r.deltaHeight||0:""),n>i&&(i=n))):(r=f.theme(h,p),r.editorContainer.nodeType&&(r.editorContainer=r.editorContainer.id=r.editorContainer.id||h.id+"_parent"),r.iframeContainer.nodeType&&(r.iframeContainer=r.iframeContainer.id=r.iframeContainer.id||h.id+"_iframecontainer"),i=r.iframeHeight||p.offsetHeight),h.editorContainer=r.editorContainer),f.content_css&&R(O(f.content_css),function(t){h.contentCSS.push(h.documentBaseURI.toAbsolute(t))}),f.content_style&&h.contentStyles.push(f.content_style),f.content_editable)return p=o=r=null,h.initContentBody();for(h.iframeHTML=f.doctype+"<html><head>",f.document_base_url!=h.documentBaseUrl&&(h.iframeHTML+='<base href="'+h.documentBaseURI.getURI()+'" />'),!w.caretAfter&&f.ie7_compat&&(h.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'),h.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',d=0;d<h.contentCSS.length;d++){var g=h.contentCSS[d];h.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+C._addCacheSuffix(g)+'" />',h.loadedCSS[g]=!0}l=f.body_id||"tinymce",-1!=l.indexOf("=")&&(l=h.getParam("body_id","","hash"),l=l[h.id]||l),c=f.body_class||"",-1!=c.indexOf("=")&&(c=h.getParam("body_class","","hash"),c=c[h.id]||""),f.content_security_policy&&(h.iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+f.content_security_policy+'" />'),h.iframeHTML+='</head><body id="'+l+'" class="mce-content-body '+c+'" data-id="'+h.id+'"><br></body></html>';var v='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+h.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';document.domain!=location.hostname&&w.ie&&w.ie<12&&(a=v);var y=A.create("iframe",{id:h.id+"_ifr",frameBorder:"0",allowTransparency:"true",title:h.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:i,display:"block"}});if(y.onload=function(){y.onload=null,h.fire("load")},A.setAttrib(y,"src",a||'javascript:""'),h.contentAreaContainer=r.iframeContainer,h.iframeElement=y,o=A.add(r.iframeContainer,y),W)try{h.getDoc()}catch(b){o.src=a=v}r.editorContainer&&(A.get(r.editorContainer).style.display=h.orgDisplay,h.hidden=A.isHidden(r.editorContainer)),h.getElement().style.display="none",A.setAttrib(h.id,"aria-hidden",!0),a||h.initContentBody(),p=o=r=null},initContentBody:function(e){var i,n,a=this,f=a.settings,p=a.getElement(),m=a.getDoc();f.inline||(a.getElement().style.visibility=a.orgVisibility),e||f.content_editable||(m.open(),m.write(a.iframeHTML),m.close()),f.content_editable&&(a.on("remove",function(){var t=this.getBody();A.removeClass(t,"mce-content-body"),A.removeClass(t,"mce-edit-focus"),A.setAttrib(t,"contentEditable",null)}),A.addClass(p,"mce-content-body"),a.contentDocument=m=f.content_document||document,a.contentWindow=f.content_window||window,a.bodyElement=p,f.content_document=f.content_window=null,f.root_name=p.nodeName.toLowerCase()),i=a.getBody(),i.disabled=!0,a.readonly=f.readonly,a.readonly||(a.inline&&"static"==A.getStyle(i,"position",!0)&&(i.style.position="relative"),i.contentEditable=a.getParam("content_editable_state",!0)),i.disabled=!1,a.editorUpload=new D(a),a.schema=new b(f),a.dom=new t(m,{keep_values:!0,url_converter:a.convertURL,url_converter_scope:a,hex_colors:f.force_hex_style_colors,class_filter:f.class_filter,update_styles:!0,root_element:a.inline?a.getBody():null,collect:f.content_editable,schema:a.schema,onSetAttrib:function(t){a.fire("SetAttrib",t)}}),a.parser=new x(f,a.schema),a.parser.addAttributeFilter("src,href,style,tabindex",function(t,e){for(var i,n,o,r=t.length,s=a.dom;r--;)if(i=t[r],n=i.attr(e),o="data-mce-"+e,!i.attributes.map[o]){if(0===n.indexOf("data:")||0===n.indexOf("blob:"))continue;"style"===e?(n=s.serializeStyle(s.parseStyle(n),i.name),n.length||(n=null),i.attr(o,n),i.attr(e,n)):"tabindex"===e?(i.attr(o,n),i.attr(e,null)):i.attr(o,a.convertURL(n,e,i.name))}}),a.parser.addNodeFilter("script",function(t){for(var e,i,n=t.length;n--;)e=t[n],i=e.attr("type")||"no/type",0!==i.indexOf("mce-")&&e.attr("type","mce-"+i)}),a.parser.addNodeFilter("#cdata",function(t){for(var e,i=t.length;i--;)e=t[i],e.type=8,e.name="#comment",e.value="[CDATA["+e.value+"]]"}),a.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(t){for(var e,i=t.length,n=a.schema.getNonEmptyElements();i--;)e=t[i],e.isEmpty(n)&&(e.append(new r("br",1)).shortEnded=!0)}),a.serializer=new s(f,a),a.selection=new l(a.dom,a.getWin(),a.serializer,a),a.formatter=new c(a),a.undoManager=new u(a),a.forceBlocks=new h(a),a.enterKey=new d(a),a._nodeChangeDispatcher=new o(a),a._selectionOverrides=new E(a),a.fire("PreInit"),f.browser_spellcheck||f.gecko_spellcheck||(m.body.spellcheck=!1,A.setAttrib(i,"spellcheck","false")),a.fire("PostRender"),a.quirks=new _(a),f.directionality&&(i.dir=f.directionality),f.nowrap&&(i.style.whiteSpace="nowrap"),f.protect&&a.on("BeforeSetContent",function(t){R(f.protect,function(e){t.content=t.content.replace(e,function(t){return"<!--mce:protected "+escape(t)+"-->"})})}),a.on("SetContent",function(){a.addVisual(a.getBody())}),f.padd_empty_editor&&a.on("PostProcess",function(t){t.content=t.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),a.load({initial:!0,format:"html"}),a.startContent=a.getContent({format:"raw"}),a.initialized=!0,a.bindPendingEventDelegates(),a.fire("init"),a.focus(!0),a.nodeChanged({initial:!0}),a.execCallback("init_instance_callback",a),a.contentStyles.length>0&&(n="",R(a.contentStyles,function(t){n+=t+"\r\n"}),a.dom.addStyle(n)),R(a.contentCSS,function(t){a.loadedCSS[t]||(a.dom.loadCSS(t),a.loadedCSS[t]=!0)}),f.auto_focus&&k.setEditorTimeout(a,function(){var t;t=f.auto_focus===!0?a:a.editorManager.get(f.auto_focus),t.destroyed||t.focus()},100),p=m=i=null},focus:function(t){function e(t){return r.dom.getParent(t,function(t){return"true"===r.dom.getContentEditable(t)})}var i,n,o,r=this,s=r.selection,a=r.settings.content_editable,l=r.getDoc(),c=r.getBody();if(!t){if(i=s.getRng(),i.item&&(n=i.item(0)),r._refreshContentEditable(),o=e(s.getNode()),r.$.contains(c,o))return o.focus(),s.normalize(),void r.editorManager.setActive(r);if(a||(w.opera||r.getBody().focus(),r.getWin().focus()),z||a){if(c.setActive)try{c.setActive()}catch(u){c.focus()}else c.focus();a&&s.normalize()}n&&n.ownerDocument==l&&(i=l.body.createControlRange(),i.addElement(n),i.select())}r.editorManager.setActive(r)},execCallback:function(t){var e,i=this,n=i.settings[t];if(n)return i.callbackLookup&&(e=i.callbackLookup[t])&&(n=e.func,e=e.scope),"string"==typeof n&&(e=n.replace(/\.\w+$/,""),e=e?H(e):0,n=H(n),i.callbackLookup=i.callbackLookup||{},i.callbackLookup[t]={func:n,scope:e}),n.apply(e||i,Array.prototype.slice.call(arguments,1))},translate:function(t){var e=this.settings.language||"en",i=this.editorManager.i18n;return t?i.data[e+"."+t]||t.replace(/\{\#([^\}]+)\}/g,function(t,n){return i.data[e+"."+n]||"{#"+n+"}"}):""},getLang:function(t,i){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+t]||(i!==e?i:"{#"+t+"}")},getParam:function(t,e,i){var n,o=t in this.settings?this.settings[t]:e;return"hash"===i?(n={},"string"==typeof o?R(o.indexOf("=")>0?o.split(/[;,](?![^=;,]*(?:[;,]|$))/):o.split(","),function(t){t=t.split("="),t.length>1?n[F(t[0])]=F(t[1]):n[F(t[0])]=F(t)}):n=o,n):o},nodeChanged:function(t){this._nodeChangeDispatcher.nodeChanged(t)},addButton:function(t,e){var i=this;e.cmd&&(e.onclick=function(){i.execCommand(e.cmd)}),e.text||e.icon||(e.icon=t),i.buttons=i.buttons||{},e.tooltip=e.tooltip||e.title,i.buttons[t]=e},addMenuItem:function(t,e){var i=this;e.cmd&&(e.onclick=function(){i.execCommand(e.cmd)}),i.menuItems=i.menuItems||{},i.menuItems[t]=e},addContextToolbar:function(t,e){var i,n=this;n.contextToolbars=n.contextToolbars||[],"string"==typeof t&&(i=t,t=function(t){return n.dom.is(t,i)}),n.contextToolbars.push({predicate:t,items:e})},addCommand:function(t,e,i){this.editorCommands.addCommand(t,e,i)},addQueryStateHandler:function(t,e,i){this.editorCommands.addQueryStateHandler(t,e,i)},addQueryValueHandler:function(t,e,i){this.editorCommands.addQueryValueHandler(t,e,i)},addShortcut:function(t,e,i,n){this.shortcuts.add(t,e,i,n)},execCommand:function(t,e,i,n){return this.editorCommands.execCommand(t,e,i,n)},queryCommandState:function(t){return this.editorCommands.queryCommandState(t)},queryCommandValue:function(t){return this.editorCommands.queryCommandValue(t)},queryCommandSupported:function(t){return this.editorCommands.queryCommandSupported(t)},show:function(){var t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable=!0:(A.show(t.getContainer()),A.hide(t.id)),t.load(),t.fire("show"))},hide:function(){var t=this,e=t.getDoc();t.hidden||(W&&e&&!t.inline&&e.execCommand("SelectAll"),t.save(),t.inline?(t.getBody().contentEditable=!1,t==t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(A.hide(t.getContainer()),A.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(t,e){this.fire("ProgressState",{state:t,time:e})},load:function(t){var i,n=this,o=n.getElement();return o?(t=t||{},t.load=!0,i=n.setContent(o.value!==e?o.value:o.innerHTML,t),t.element=o,t.no_events||n.fire("LoadContent",t),t.element=o=null,i):void 0},save:function(t){var e,i,n=this,o=n.getElement();if(o&&n.initialized)return t=t||{},t.save=!0,t.element=o,e=t.content=n.getContent(t),t.no_events||n.fire("SaveContent",t),"raw"==t.format&&n.fire("RawSaveContent",t),e=t.content,/TEXTAREA|INPUT/i.test(o.nodeName)?o.value=e:(n.inline||(o.innerHTML=e),(i=A.getParent(n.id,"form"))&&R(i.elements,function(t){return t.name==n.id?(t.value=e,!1):void 0})),t.element=o=null,t.set_dirty!==!1&&n.setDirty(!1),e},setContent:function(t,e){var i,n,o=this,r=o.getBody();return e=e||{},e.format=e.format||"html",e.set=!0,e.content=t,e.no_events||o.fire("BeforeSetContent",e),t=e.content,0===t.length||/^\s+$/.test(t)?(n=W&&11>W?"":'<br data-mce-bogus="1">',"TABLE"==r.nodeName?t="<tr><td>"+n+"</td></tr>":/^(UL|OL)$/.test(r.nodeName)&&(t="<li>"+n+"</li>"),i=o.settings.forced_root_block,i&&o.schema.isValidChild(r.nodeName.toLowerCase(),i.toLowerCase())?(t=n,t=o.dom.createHTML(i,o.settings.forced_root_block_attrs,t)):W||t||(t='<br data-mce-bogus="1">'),o.dom.setHTML(r,t),o.fire("SetContent",e)):("raw"!==e.format&&(t=new a({validate:o.validate},o.schema).serialize(o.parser.parse(t,{isRootContent:!0}))),e.content=F(t),o.dom.setHTML(r,e.content),e.no_events||o.fire("SetContent",e)),e.content},getContent:function(t){var e,i=this,n=i.getBody();return t=t||{},t.format=t.format||"html",t.get=!0,t.getInner=!0,t.no_events||i.fire("BeforeGetContent",t),e="raw"==t.format?i.serializer.getTrimmedContent():"text"==t.format?n.innerText||n.textContent:i.serializer.serialize(n,t),"text"!=t.format?t.content=F(e):t.content=e,t.no_events||i.fire("GetContent",t),t.content},insertContent:function(t,e){e&&(t=$({content:t},e)),this.execCommand("mceInsertContent",!1,t)},isDirty:function(){return!this.isNotDirty},setDirty:function(t){var e=!this.isNotDirty;this.isNotDirty=!t,t&&t!=e&&this.fire("dirty")},setMode:function(t){S.setMode(this,t)},getContainer:function(){var t=this;return t.container||(t.container=A.get(t.editorContainer||t.id+"_parent")),t.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=A.get(this.id)),this.targetElm},getWin:function(){var t,e=this;return e.contentWindow||(t=e.iframeElement,t&&(e.contentWindow=t.contentWindow)),e.contentWindow},getDoc:function(){var t,e=this;return e.contentDocument||(t=e.getWin(),t&&(e.contentDocument=t.document)),e.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(t,e,i){var n=this,o=n.settings;return o.urlconverter_callback?n.execCallback("urlconverter_callback",t,i,!0,e):!o.convert_urls||i&&"LINK"==i.nodeName||0===t.indexOf("file:")||0===t.length?t:o.relative_urls?n.documentBaseURI.toRelative(t):t=n.documentBaseURI.toAbsolute(t,o.remove_script_host)},addVisual:function(t){var i,n=this,o=n.settings,r=n.dom;t=t||n.getBody(),n.hasVisual===e&&(n.hasVisual=o.visual),R(r.select("table,a",t),function(t){var e;switch(t.nodeName){case"TABLE":return i=o.visual_table_class||"mce-item-table",e=r.getAttrib(t,"border"),void(e&&"0"!=e||!n.hasVisual?r.removeClass(t,i):r.addClass(t,i));case"A":return void(r.getAttrib(t,"href",!1)||(e=r.getAttrib(t,"name")||t.id,i=o.visual_anchor_class||"mce-item-anchor",e&&n.hasVisual?r.addClass(t,i):r.removeClass(t,i)))}}),n.fire("VisualAid",{element:t,hasVisual:n.hasVisual})},remove:function(){var t=this;t.removed||(t.save(),t.removed=1,t.unbindAllNativeEvents(),t.hasHiddenInput&&A.remove(t.getElement().nextSibling),t.inline||(W&&10>W&&t.getDoc().execCommand("SelectAll",!1,null),A.setStyle(t.id,"display",t.orgDisplay),t.getBody().onload=null),t.fire("remove"),t.editorManager.remove(t),A.remove(t.getContainer()),t._selectionOverrides.destroy(),t.editorUpload.destroy(),t.destroy())},destroy:function(t){var e,i=this;if(!i.destroyed){if(!t&&!i.removed)return void i.remove();t||(i.editorManager.off("beforeunload",i._beforeUnload),i.theme&&i.theme.destroy&&i.theme.destroy(),i.selection.destroy(),i.dom.destroy()),e=i.formElement,e&&(e._mceOldSubmit&&(e.submit=e._mceOldSubmit,e._mceOldSubmit=null),A.unbind(e,"submit reset",i.formEventDelegate)),i.contentAreaContainer=i.formElement=i.container=i.editorContainer=null,i.bodyElement=i.contentDocument=i.contentWindow=null,i.iframeElement=i.targetElm=null,i.selection&&(i.selection=i.selection.win=i.selection.dom=i.selection.dom.doc=null),i.destroyed=1}},uploadImages:function(t){return this.editorUpload.uploadImages(t)},_scanForImages:function(){return this.editorUpload.scanForImages()},_refreshContentEditable:function(){var t,e,i=this;i._isHidden()&&(t=i.getBody(),e=t.parentNode,e.removeChild(t),e.appendChild(t),t.focus())},_isHidden:function(){var t;return z?(t=this.selection.getSel(),!t||!t.rangeCount||0===t.rangeCount):0}},$(P.prototype,T),P}),/**
 * I18n.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/util/I18n",[],function(){var t={},e="en";return{setCode:function(t){t&&(e=t,this.rtl=this.data[t]?"rtl"===this.data[t]._dir:!1)},getCode:function(){return e},rtl:!1,add:function(e,i){var n=t[e];n||(t[e]=n={});for(var o in i)n[o]=i[o];this.setCode(e)},translate:function(i){var n;if(n=t[e],n||(n={}),"undefined"==typeof i)return i;if("string"!=typeof i&&i.raw)return i.raw;if(i.push){var o=i.slice(1);i=(n[i[0]]||i[0]).replace(/\{([0-9]+)\}/g,function(t,e){return o[e]})}return(n[i]||i).replace(/{context:\w+}$/,"")},data:t}}),/**
 * FocusManager.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/FocusManager",["tinymce/dom/DOMUtils","tinymce/util/Delay","tinymce/Env"],function(t,e,i){function n(t){function l(){try{return document.activeElement}catch(t){return document.body}}function c(t,e){if(e&&e.startContainer){if(!t.isChildOf(e.startContainer,t.getRoot())||!t.isChildOf(e.endContainer,t.getRoot()))return;return{startContainer:e.startContainer,startOffset:e.startOffset,endContainer:e.endContainer,endOffset:e.endOffset}}return e}function u(t,e){var i;return e.startContainer?(i=t.getDoc().createRange(),i.setStart(e.startContainer,e.startOffset),i.setEnd(e.endContainer,e.endOffset)):i=e,i}function d(t){return!!a.getParent(t,n.isEditorUIElement)}function h(n){var h=n.editor;h.on("init",function(){(h.inline||i.ie)&&("onbeforedeactivate"in document&&i.ie<9?h.dom.bind(h.getBody(),"beforedeactivate",function(t){if(t.target==h.getBody())try{h.lastRng=h.selection.getRng()}catch(e){}}):h.on("nodechange mouseup keyup",function(t){var e=l();"nodechange"==t.type&&t.selectionChange||(e&&e.id==h.id+"_ifr"&&(e=h.getBody()),h.dom.isChildOf(e,h.getBody())&&(h.lastRng=h.selection.getRng()))}),i.webkit&&!o&&(o=function(){var e=t.activeEditor;if(e&&e.selection){var i=e.selection.getRng();i&&!i.collapsed&&(h.lastRng=i)}},a.bind(document,"selectionchange",o)))}),h.on("setcontent",function(){h.lastRng=null}),h.on("mousedown",function(){h.selection.lastFocusBookmark=null}),h.on("focusin",function(){var e,i=t.focusedEditor;h.selection.lastFocusBookmark&&(e=u(h,h.selection.lastFocusBookmark),h.selection.lastFocusBookmark=null,h.selection.setRng(e)),i!=h&&(i&&i.fire("blur",{focusedEditor:h}),t.setActive(h),t.focusedEditor=h,h.fire("focus",{blurredEditor:i}),h.focus(!0)),h.lastRng=null}),h.on("focusout",function(){e.setEditorTimeout(h,function(){var e=t.focusedEditor;d(l())||e!=h||(h.fire("blur",{focusedEditor:null}),t.focusedEditor=null,h.selection&&(h.selection.lastFocusBookmark=null))})}),r||(r=function(e){var i=t.activeEditor;i&&e.target.ownerDocument==document&&(i.selection&&e.target!=i.getBody()&&(i.selection.lastFocusBookmark=c(i.dom,i.lastRng)),e.target==document.body||d(e.target)||t.focusedEditor!=i||(i.fire("blur",{focusedEditor:null}),t.focusedEditor=null))},a.bind(document,"focusin",r)),h.inline&&!s&&(s=function(e){var i=t.activeEditor;if(i.inline&&!i.dom.isChildOf(e.target,i.getBody())){var n=i.selection.getRng();n.collapsed||(i.lastRng=n)}},a.bind(document,"mouseup",s))}function f(e){t.focusedEditor==e.editor&&(t.focusedEditor=null),t.activeEditor||(a.unbind(document,"selectionchange",o),a.unbind(document,"focusin",r),a.unbind(document,"mouseup",s),o=r=s=null)}t.on("AddEditor",h),t.on("RemoveEditor",f)}var o,r,s,a=t.DOM;return n.isEditorUIElement=function(t){return-1!==t.className.toString().indexOf("mce-")},n}),/**
 * EditorManager.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/EditorManager",["tinymce/Editor","tinymce/dom/DomQuery","tinymce/dom/DOMUtils","tinymce/util/URI","tinymce/Env","tinymce/util/Tools","tinymce/util/Observable","tinymce/util/I18n","tinymce/FocusManager"],function(t,e,i,n,o,r,s,a,l){function c(t){v(p.editors,function(e){e.fire("ResizeWindow",t)})}function u(t,i){i!==x&&(i?e(window).on("resize",c):e(window).off("resize",c),x=i)}function d(t){var e,i=p.editors;delete i[t.id];for(var n=0;n<i.length;n++)if(i[n]==t){i.splice(n,1),e=!0;break}return p.activeEditor==t&&(p.activeEditor=i[0]),p.focusedEditor==t&&(p.focusedEditor=null),e}function h(t){return t&&!(t.getContainer()||t.getBody()).parentNode&&(d(t),t.unbindAllNativeEvents(),t.destroy(!0),t=null),t}var f,p,m=i.DOM,g=r.explode,v=r.each,y=r.extend,b=0,x=!1;return p={$:e,majorVersion:"4",minorVersion:"3.2",releaseDate:"2015-12-14",editors:[],i18n:a,activeEditor:null,setup:function(){var t,e,i,o,r=this,s="";if(e=document.location.href,/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/")),i=window.tinymce||window.tinyMCEPreInit)t=i.base||i.baseURL,s=i.suffix;else{for(var a=document.getElementsByTagName("script"),c=0;c<a.length;c++){o=a[c].src;var u=o.substring(o.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(o)){-1!=u.indexOf(".min")&&(s=".min"),t=o.substring(0,o.lastIndexOf("/"));break}}!t&&document.currentScript&&(o=document.currentScript.src,-1!=o.indexOf(".min")&&(s=".min"),t=o.substring(0,o.lastIndexOf("/")))}r.baseURL=new n(e).toAbsolute(t),r.documentBaseURL=e,r.baseURI=new n(r.baseURL),r.suffix=s,r.focusManager=new l(r)},init:function(e){function i(t){var e=t.id;return e||(e=t.name,e=e&&!m.get(e)?t.name:m.uniqueId(),t.setAttribute("id",e)),e}function n(e,i,n){if(!h(a.get(e))){var o=new t(e,i,a);o.targetElm=o.targetElm||n,l.push(o),o.render()}}function o(t){var i=e[t];if(i)return i.apply(a,Array.prototype.slice.call(arguments,2))}function r(t,e){return e.constructor===RegExp?e.test(t.className):m.hasClass(t,e)}function s(){var t,a;if(m.unbind(window,"ready",s),o("onpageload"),e.types)return void v(e.types,function(t){v(m.select(t.selector),function(o){n(i(o),y({},e,t),o)})});if(e.selector)return void v(m.select(e.selector),function(t){n(i(t),e,t)});switch(e.target&&n(i(e.target),e),e.mode){case"exact":t=e.elements||"",t.length>0&&v(g(t),function(t){var i;(i=m.get(t))?n(t,e,i):v(document.forms,function(i){v(i.elements,function(i){i.name===t&&(t="mce_editor_"+b++,m.setAttrib(i,"id",t),n(t,e,i))})})});break;case"textareas":case"specific_textareas":v(m.select("textarea"),function(t){e.editor_deselector&&r(t,e.editor_deselector)||(!e.editor_selector||r(t,e.editor_selector))&&n(i(t),e,t)})}e.oninit&&(t=a=0,v(l,function(e){a++,e.initialized?t++:e.on("init",function(){t++,t==a&&o("oninit")}),t==a&&o("oninit")}))}var a=this,l=[];a.settings=e,m.bind(window,"ready",s)},get:function(t){return arguments.length?t in this.editors?this.editors[t]:null:this.editors},add:function(t){var e=this,i=e.editors;return i[t.id]=t,i.push(t),u(i,!0),e.activeEditor=t,e.fire("AddEditor",{editor:t}),f||(f=function(){e.fire("BeforeUnload")},m.bind(window,"beforeunload",f)),t},createEditor:function(e,i){return this.add(new t(e,i,this))},remove:function(t){var e,i,n=this,o=n.editors;{if(t)return"string"==typeof t?(t=t.selector||t,void v(m.select(t),function(t){i=o[t.id],i&&n.remove(i)})):(i=t,o[i.id]?(d(i)&&n.fire("RemoveEditor",{editor:i}),o.length||m.unbind(window,"beforeunload",f),i.remove(),u(o,o.length>0),i):null);for(e=o.length-1;e>=0;e--)n.remove(o[e])}},execCommand:function(e,i,n){var o=this,r=o.get(n);switch(e){case"mceAddEditor":return o.get(n)||new t(n,o.settings,o).render(),!0;case"mceRemoveEditor":return r&&r.remove(),!0;case"mceToggleEditor":return r?(r.isHidden()?r.show():r.hide(),!0):(o.execCommand("mceAddEditor",0,n),!0)}return o.activeEditor?o.activeEditor.execCommand(e,i,n):!1},triggerSave:function(){v(this.editors,function(t){t.save()})},addI18n:function(t,e){a.add(t,e)},translate:function(t){return a.translate(t)},setActive:function(t){var e=this.activeEditor;this.activeEditor!=t&&(e&&e.fire("deactivate",{relatedTarget:t}),t.fire("activate",{relatedTarget:e})),this.activeEditor=t}},y(p,s),p.setup(),window.tinymce=window.tinyMCE=p,p}),/**
 * LegacyInput.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/LegacyInput",["tinymce/EditorManager","tinymce/util/Tools"],function(t,e){var i=e.each,n=e.explode;t.on("AddEditor",function(t){var e=t.editor;e.on("preInit",function(){function t(t,e){i(e,function(e,i){e&&a.setStyle(t,i,e)}),a.rename(t,"span")}function o(t){a=e.dom,l.convert_fonts_to_spans&&i(a.select("font,u,strike",t.node),function(t){r[t.nodeName.toLowerCase()](a,t)})}var r,s,a,l=e.settings;l.inline_styles&&(s=n(l.font_size_legacy_values),r={font:function(e,i){t(i,{backgroundColor:i.style.backgroundColor,color:i.color,fontFamily:i.face,fontSize:s[parseInt(i.size,10)-1]})},u:function(i,n){"html4"===e.settings.schema&&t(n,{textDecoration:"underline"})},strike:function(e,i){t(i,{textDecoration:"line-through"})}},e.on("PreProcess SetContent",o))})})}),/**
 * XHR.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/util/XHR",["tinymce/util/Observable","tinymce/util/Tools"],function(t,e){var i={send:function(t){function n(){!t.async||4==o.readyState||r++>1e4?(t.success&&1e4>r&&200==o.status?t.success.call(t.success_scope,""+o.responseText,o,t):t.error&&t.error.call(t.error_scope,r>1e4?"TIMED_OUT":"GENERAL",o,t),o=null):setTimeout(n,10)}var o,r=0;if(t.scope=t.scope||this,t.success_scope=t.success_scope||t.scope,t.error_scope=t.error_scope||t.scope,t.async=t.async===!1?!1:!0,t.data=t.data||"",o=new XMLHttpRequest){if(o.overrideMimeType&&o.overrideMimeType(t.content_type),o.open(t.type||(t.data?"POST":"GET"),t.url,t.async),t.crossDomain&&(o.withCredentials=!0),t.content_type&&o.setRequestHeader("Content-Type",t.content_type),t.requestheaders&&e.each(t.requestheaders,function(t){o.setRequestHeader(t.key,t.value)}),o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o=i.fire("beforeSend",{xhr:o,settings:t}).xhr,o.send(t.data),!t.async)return n();setTimeout(n,10)}}};return e.extend(i,t),i}),/**
 * JSON.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/util/JSON",[],function(){function t(e,i){var n,o,r,s;if(i=i||'"',null===e)return"null";if(r=typeof e,"string"==r)return o="\bb	t\nn\ff\rr\"\"''\\\\",i+e.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(t,e){return'"'===i&&"'"===t?t:(n=o.indexOf(e),n+1?"\\"+o.charAt(n+1):(t=e.charCodeAt().toString(16),"\\u"+"0000".substring(t.length)+t))})+i;if("object"==r){if(e.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(e)){for(n=0,o="[";n<e.length;n++)o+=(n>0?",":"")+t(e[n],i);return o+"]"}o="{";for(s in e)e.hasOwnProperty(s)&&(o+="function"!=typeof e[s]?(o.length>1?","+i:i)+s+i+":"+t(e[s],i):"");return o+"}"}return""+e}return{serialize:t,parse:function(t){try{return window[String.fromCharCode(101)+"val"]("("+t+")")}catch(e){}}}}),/**
 * JSONRequest.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/util/JSONRequest",["tinymce/util/JSON","tinymce/util/XHR","tinymce/util/Tools"],function(t,e,i){function n(t){this.settings=o({},t),this.count=0}var o=i.extend;return n.sendRPC=function(t){return(new n).send(t)},n.prototype={send:function(i){var n=i.error,r=i.success;i=o(this.settings,i),i.success=function(e,o){e=t.parse(e),"undefined"==typeof e&&(e={error:"JSON Parse error."}),e.error?n.call(i.error_scope||i.scope,e.error,o):r.call(i.success_scope||i.scope,e.result)},i.error=function(t,e){n&&n.call(i.error_scope||i.scope,t,e)},i.data=t.serialize({id:i.id||"c"+this.count++,method:i.method,params:i.params}),i.content_type="application/json",e.send(i)}},n}),/**
 * JSONP.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/util/JSONP",["tinymce/dom/DOMUtils"],function(t){return{callbacks:{},count:0,send:function(i){var n=this,o=t.DOM,r=i.count!==e?i.count:n.count,s="tinymce_jsonp_"+r;n.callbacks[r]=function(t){o.remove(s),delete n.callbacks[r],i.callback(t)},o.add(o.doc.body,"script",{id:s,src:i.url,type:"text/javascript"}),n.count++}}}),/**
 * LocalStorage.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/util/LocalStorage",[],function(){function t(){a=[];for(var t in s)a.push(t);o.length=a.length}function i(){function i(t){var i,n;return n=t!==e?u+t:o.indexOf(",",u),-1===n||n>o.length?null:(i=o.substring(u,n),u=n+1,i)}var n,o,a,u=0;if(s={},c){r.load(l),o=r.getAttribute(l)||"";do{var d=i();if(null===d)break;if(n=i(parseInt(d,32)||0),null!==n){if(d=i(),null===d)break;a=i(parseInt(d,32)||0),n&&(s[n]=a)}}while(null!==n);t()}}function n(){var e,i="";if(c){for(var n in s)e=s[n],i+=(i?",":"")+n.length.toString(32)+","+n+","+e.length.toString(32)+","+e;r.setAttribute(l,i);try{r.save(l)}catch(o){}t()}}var o,r,s,a,l,c;try{if(window.localStorage)return localStorage}catch(u){}return l="tinymce",r=document.documentElement,c=!!r.addBehavior,c&&r.addBehavior("#default#userData"),o={key:function(t){return a[t]},getItem:function(t){return t in s?s[t]:null},setItem:function(t,e){s[t]=""+e,n()},removeItem:function(t){delete s[t],n()},clear:function(){s={},n()}},i(),o}),/**
 * Compat.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/Compat",["tinymce/dom/DOMUtils","tinymce/dom/EventUtils","tinymce/dom/ScriptLoader","tinymce/AddOnManager","tinymce/util/Tools","tinymce/Env"],function(t,e,i,n,o,r){var s=window.tinymce;return s.DOM=t.DOM,s.ScriptLoader=i.ScriptLoader,s.PluginManager=n.PluginManager,s.ThemeManager=n.ThemeManager,s.dom=s.dom||{},s.dom.Event=e.Event,o.each(o,function(t,e){s[e]=t}),o.each("isOpera isWebKit isIE isGecko isMac".split(" "),function(t){s[t]=r[t.substr(2).toLowerCase()]}),{}}),/**
 * Layout.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/Layout",["tinymce/util/Class","tinymce/util/Tools"],function(t,e){return t.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(t){this.settings=e.extend({},this.Defaults,t)},preRender:function(t){t.bodyClasses.add(this.settings.containerClass)},applyClasses:function(t){var e,i,n,o,r=this,s=r.settings;e=s.firstControlClass,i=s.lastControlClass,t.each(function(t){t.classes.remove(e).remove(i).add(s.controlClass),t.visible()&&(n||(n=t),o=t)}),n&&n.classes.add(e),o&&o.classes.add(i)},renderHtml:function(t){var e=this,i="";return e.applyClasses(t.items()),t.items().each(function(t){i+=t.renderHtml()}),i},recalc:function(){},postRender:function(){},isNative:function(){return!1}})}),/**
 * AbsoluteLayout.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/AbsoluteLayout",["tinymce/ui/Layout"],function(t){return t.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(t){t.items().filter(":visible").each(function(t){var e=t.settings;t.layoutRect({x:e.x,y:e.y,w:e.w,h:e.h}),t.recalc&&t.recalc()})},renderHtml:function(t){return'<div id="'+t._id+'-absend" class="'+t.classPrefix+'abs-end"></div>'+this._super(t)}})}),/**
 * Button.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/Button",["tinymce/ui/Widget"],function(t){return t.extend({Defaults:{classes:"widget btn",role:"button"},init:function(t){var e,i=this;i._super(t),t=i.settings,e=i.settings.size,i.on("click mousedown",function(t){t.preventDefault()}),i.on("touchstart",function(t){i.fire("click",t),t.preventDefault()}),t.subtype&&i.classes.add(t.subtype),e&&i.classes.add("btn-"+e),t.icon&&i.icon(t.icon)},icon:function(t){return arguments.length?(this.state.set("icon",t),this):this.state.get("icon")},repaint:function(){var t,e=this.getEl().firstChild;e&&(t=e.style,t.width=t.height="100%"),this._super()},renderHtml:function(){var t,e=this,i=e._id,n=e.classPrefix,o=e.state.get("icon"),r=e.state.get("text"),s="";return t=e.settings.image,t?(o="none","string"!=typeof t&&(t=window.getSelection?t[0]:t[1]),t=" style=\"background-image: url('"+t+"')\""):t="",r&&(e.classes.add("btn-has-text"),s='<span class="'+n+'txt">'+e.encode(r)+"</span>"),o=e.settings.icon?n+"ico "+n+"i-"+o:"",'<div id="'+i+'" class="'+e.classes+'" tabindex="-1" aria-labelledby="'+i+'"><button role="presentation" type="button" tabindex="-1">'+(o?'<i class="'+o+'"'+t+"></i>":"")+s+"</button></div>"},bindStates:function(){function t(t){var o=i("span."+n,e.getEl());t?(o[0]||(i("button:first",e.getEl()).append('<span class="'+n+'"></span>'),o=i("span."+n,e.getEl())),o.html(e.encode(t))):o.remove(),e.classes.toggle("btn-has-text",!!t)}var e=this,i=e.$,n=e.classPrefix+"txt";return e.state.on("change:text",function(e){t(e.value)}),e.state.on("change:icon",function(i){var n=i.value,o=e.classPrefix;e.settings.icon=n,n=n?o+"ico "+o+"i-"+e.settings.icon:"";var r=e.getEl().firstChild,s=r.getElementsByTagName("i")[0];n?(s&&s==r.firstChild||(s=document.createElement("i"),r.insertBefore(s,r.firstChild)),s.className=n):s&&r.removeChild(s),t(e.state.get("text"))}),e._super()}})}),/**
 * ButtonGroup.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/ButtonGroup",["tinymce/ui/Container"],function(t){return t.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var t=this,e=t._layout;return t.classes.add("btn-group"),t.preRender(),e.preRender(t),'<div id="'+t._id+'" class="'+t.classes+'"><div id="'+t._id+'-body">'+(t.settings.html||"")+e.renderHtml(t)+"</div></div>"}})}),/**
 * Checkbox.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/Checkbox",["tinymce/ui/Widget"],function(t){return t.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(t){var e=this;e._super(t),e.on("click mousedown",function(t){t.preventDefault()}),e.on("click",function(t){t.preventDefault(),e.disabled()||e.checked(!e.checked())}),e.checked(e.settings.checked)},checked:function(t){return arguments.length?(this.state.set("checked",t),this):this.state.get("checked")},value:function(t){return arguments.length?this.checked(t):this.checked()},renderHtml:function(){var t=this,e=t._id,i=t.classPrefix;return'<div id="'+e+'" class="'+t.classes+'" unselectable="on" aria-labelledby="'+e+'-al" tabindex="-1"><i class="'+i+"ico "+i+'i-checkbox"></i><span id="'+e+'-al" class="'+i+'label">'+t.encode(t.state.get("text"))+"</span></div>"},bindStates:function(){function t(t){e.classes.toggle("checked",t),e.aria("checked",t)}var e=this;return e.state.on("change:text",function(t){e.getEl("al").firstChild.data=e.translate(t.value)}),e.state.on("change:checked change:value",function(i){e.fire("change"),t(i.value)}),e.state.on("change:icon",function(t){var i=t.value,n=e.classPrefix;if("undefined"==typeof i)return e.settings.icon;e.settings.icon=i,i=i?n+"ico "+n+"i-"+e.settings.icon:"";var o=e.getEl().firstChild,r=o.getElementsByTagName("i")[0];i?(r&&r==o.firstChild||(r=document.createElement("i"),o.insertBefore(r,o.firstChild)),r.className=i):r&&o.removeChild(r)}),e.state.get("checked")&&t(!0),e._super()}})}),/**
 * ComboBox.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/ComboBox",["tinymce/ui/Widget","tinymce/ui/Factory","tinymce/ui/DomUtils","tinymce/dom/DomQuery"],function(t,e,i,n){return t.extend({init:function(t){var e=this;e._super(t),t=e.settings,e.classes.add("combobox"),e.subinput=!0,e.ariaTarget="inp",t.menu=t.menu||t.values,t.menu&&(t.icon="caret"),e.on("click",function(i){var o=i.target,r=e.getEl();if(n.contains(r,o)||o==r)for(;o&&o!=r;)o.id&&-1!=o.id.indexOf("-open")&&(e.fire("action"),t.menu&&(e.showMenu(),i.aria&&e.menu.items()[0].focus())),o=o.parentNode}),e.on("keydown",function(t){"INPUT"==t.target.nodeName&&13==t.keyCode&&e.parents().reverse().each(function(i){var n=e.state.get("value"),o=e.getEl("inp").value;return t.preventDefault(),e.state.set("value",o),n!=o&&e.fire("change"),i.hasEventListeners("submit")&&i.toJSON?(i.fire("submit",{data:i.toJSON()}),!1):void 0})}),e.on("keyup",function(t){"INPUT"==t.target.nodeName&&e.state.set("value",t.target.value)})},showMenu:function(){var t,i=this,n=i.settings;i.menu||(t=n.menu||[],t.length?t={type:"menu",items:t}:t.type=t.type||"menu",i.menu=e.create(t).parent(i).renderTo(i.getContainerElm()),i.fire("createmenu"),i.menu.reflow(),i.menu.on("cancel",function(t){t.control===i.menu&&i.focus()}),i.menu.on("show hide",function(t){t.control.items().each(function(t){t.active(t.value()==i.value())})}).fire("show"),i.menu.on("select",function(t){i.value(t.control.value())}),i.on("focusin",function(t){"INPUT"==t.target.tagName.toUpperCase()&&i.menu.hide()}),i.aria("expanded",!0)),i.menu.show(),i.menu.layoutRect({w:i.layoutRect().w}),i.menu.moveRel(i.getEl(),i.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var t,e,o=this,r=o.getEl(),s=o.getEl("open"),a=o.layoutRect();t=s?a.w-i.getSize(s).width-10:a.w-10;var l=document;return l.all&&(!l.documentMode||l.documentMode<=8)&&(e=o.layoutRect().h-2+"px"),n(r.firstChild).css({width:t,lineHeight:e}),o._super(),o},postRender:function(){var t=this;return n(this.getEl("inp")).on("change",function(e){t.state.set("value",e.target.value),t.fire("change",e)}),t._super()},renderHtml:function(){var t,e,i=this,n=i._id,o=i.settings,r=i.classPrefix,s=i.state.get("value")||"",a="",l="";return"spellcheck"in o&&(l+=' spellcheck="'+o.spellcheck+'"'),o.maxLength&&(l+=' maxlength="'+o.maxLength+'"'),o.size&&(l+=' size="'+o.size+'"'),o.subtype&&(l+=' type="'+o.subtype+'"'),i.disabled()&&(l+=' disabled="disabled"'),t=o.icon,t&&"caret"!=t&&(t=r+"ico "+r+"i-"+o.icon),e=i.state.get("text"),(t||e)&&(a='<div id="'+n+'-open" class="'+r+"btn "+r+'open" tabIndex="-1" role="button"><button id="'+n+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=t?'<i class="'+t+'"></i>':'<i class="'+r+'caret"></i>')+(e?(t?" ":"")+e:"")+"</button></div>",i.classes.add("has-open")),'<div id="'+n+'" class="'+i.classes+'"><input id="'+n+'-inp" class="'+r+'textbox" value="'+i.encode(s,!1)+'" hidefocus="1"'+l+' placeholder="'+i.encode(o.placeholder)+'" />'+a+"</div>"},value:function(t){return arguments.length?(this.state.set("value",t),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},bindStates:function(){var t=this;return t.state.on("change:value",function(e){t.getEl("inp").value!=e.value&&(t.getEl("inp").value=e.value)}),t.state.on("change:disabled",function(e){t.getEl("inp").disabled=e.value}),t._super()},remove:function(){n(this.getEl("inp")).off(),this._super()}})}),/**
 * ColorBox.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/ColorBox",["tinymce/ui/ComboBox"],function(t){return t.extend({init:function(t){var e=this;t.spellcheck=!1,t.onaction&&(t.icon="none"),e._super(t),e.classes.add("colorbox"),e.on("change keyup postrender",function(){e.repaintColor(e.value())})},repaintColor:function(t){var e=this.getEl().getElementsByTagName("i")[0];if(e)try{e.style.background=t}catch(i){}},bindStates:function(){var t=this;return t.state.on("change:value",function(e){t._rendered&&t.repaintColor(e.value)}),t._super()}})}),/**
 * PanelButton.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/PanelButton",["tinymce/ui/Button","tinymce/ui/FloatPanel"],function(t,e){return t.extend({showPanel:function(){var t=this,i=t.settings;if(t.active(!0),t.panel)t.panel.show();else{var n=i.panel;n.type&&(n={layout:"grid",items:n}),n.role=n.role||"dialog",n.popover=!0,n.autohide=!0,n.ariaRoot=!0,t.panel=new e(n).on("hide",function(){t.active(!1)}).on("cancel",function(e){e.stopPropagation(),t.focus(),t.hidePanel()}).parent(t).renderTo(t.getContainerElm()),t.panel.fire("show"),t.panel.reflow()}t.panel.moveRel(t.getEl(),i.popoverAlign||(t.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){var t=this;t.panel&&t.panel.hide()},postRender:function(){var t=this;return t.aria("haspopup",!0),t.on("click",function(e){e.control===t&&(t.panel&&t.panel.visible()?t.hidePanel():(t.showPanel(),t.panel.focus(!!e.aria)))}),t._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}})}),/**
 * ColorButton.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/ColorButton",["tinymce/ui/PanelButton","tinymce/dom/DOMUtils"],function(t,e){var i=e.DOM;return t.extend({init:function(t){this._super(t),this.classes.add("colorbutton")},color:function(t){return t?(this._color=t,this.getEl("preview").style.backgroundColor=t,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var t=this,e=t._id,i=t.classPrefix,n=t.state.get("text"),o=t.settings.icon?i+"ico "+i+"i-"+t.settings.icon:"",r=t.settings.image?" style=\"background-image: url('"+t.settings.image+"')\"":"",s="";return n&&(t.classes.add("btn-has-text"),s='<span class="'+i+'txt">'+t.encode(n)+"</span>"),'<div id="'+e+'" class="'+t.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(o?'<i class="'+o+'"'+r+"></i>":"")+'<span id="'+e+'-preview" class="'+i+'preview"></span>'+s+'</button><button type="button" class="'+i+'open" hidefocus="1" tabindex="-1"> <i class="'+i+'caret"></i></button></div>'},postRender:function(){var t=this,e=t.settings.onclick;return t.on("click",function(n){n.aria&&"down"==n.aria.key||n.control!=t||i.getParent(n.target,"."+t.classPrefix+"open")||(n.stopImmediatePropagation(),e.call(t,n))}),delete t.settings.onclick,t._super()}})}),/**
 * Color.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/util/Color",[],function(){function t(t){function o(t,o,r){var s,a,l,c,u,d;return s=0,a=0,l=0,t/=255,o/=255,r/=255,u=e(t,e(o,r)),d=i(t,i(o,r)),u==d?(l=u,{h:0,s:0,v:100*l}):(c=t==u?o-r:r==u?t-o:r-t,s=t==u?3:r==u?1:5,s=60*(s-c/(d-u)),a=(d-u)/d,l=d,{h:n(s),s:n(100*a),v:n(100*l)})}function r(t,o,r){var s,a,l,c;if(t=(parseInt(t,10)||0)%360,o=parseInt(o,10)/100,r=parseInt(r,10)/100,o=i(0,e(o,1)),r=i(0,e(r,1)),0===o)return void(d=h=f=n(255*r));switch(s=t/60,a=r*o,l=a*(1-Math.abs(s%2-1)),c=r-a,Math.floor(s)){case 0:d=a,h=l,f=0;break;case 1:d=l,h=a,f=0;break;case 2:d=0,h=a,f=l;break;case 3:d=0,h=l,f=a;break;case 4:d=l,h=0,f=a;break;case 5:d=a,h=0,f=l;break;default:d=h=f=0}d=n(255*(d+c)),h=n(255*(h+c)),f=n(255*(f+c))}function s(){function t(t){return t=parseInt(t,10).toString(16),t.length>1?t:"0"+t}return"#"+t(d)+t(h)+t(f)}function a(){return{r:d,g:h,b:f}}function l(){return o(d,h,f)}function c(t){var e;return"object"==typeof t?"r"in t?(d=t.r,h=t.g,f=t.b):"v"in t&&r(t.h,t.s,t.v):(e=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(t))?(d=parseInt(e[1],10),h=parseInt(e[2],10),f=parseInt(e[3],10)):(e=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(t))?(d=parseInt(e[1],16),h=parseInt(e[2],16),f=parseInt(e[3],16)):(e=/#([0-F])([0-F])([0-F])/gi.exec(t))&&(d=parseInt(e[1]+e[1],16),h=parseInt(e[2]+e[2],16),f=parseInt(e[3]+e[3],16)),d=0>d?0:d>255?255:d,h=0>h?0:h>255?255:h,f=0>f?0:f>255?255:f,u}var u=this,d=0,h=0,f=0;t&&c(t),u.toRgb=a,u.toHsv=l,u.toHex=s,u.parse=c}var e=Math.min,i=Math.max,n=Math.round;return t}),/**
 * ColorPicker.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/ColorPicker",["tinymce/ui/Widget","tinymce/ui/DragHelper","tinymce/ui/DomUtils","tinymce/util/Color"],function(t,e,i,n){return t.extend({Defaults:{classes:"widget colorpicker"},init:function(t){this._super(t)},postRender:function(){function t(t,e){var n,o,r=i.getPos(t);return n=e.pageX-r.x,o=e.pageY-r.y,n=Math.max(0,Math.min(n/t.clientWidth,1)),o=Math.max(0,Math.min(o/t.clientHeight,1)),{x:n,y:o}}function o(t,e){var o=(360-t.h)/360;i.css(c,{top:100*o+"%"}),e||i.css(d,{left:t.s+"%",top:100-t.v+"%"}),u.style.background=new n({s:100,v:100,h:t.h}).toHex(),h.color().parse({s:t.s,v:t.v,h:t.h})}function r(e){var i;i=t(u,e),a.s=100*i.x,a.v=100*(1-i.y),o(a),h.fire("change")}function s(e){var i;i=t(l,e),a=f.toHsv(),a.h=360*(1-i.y),o(a,!0),h.fire("change")}var a,l,c,u,d,h=this,f=h.color();l=h.getEl("h"),c=h.getEl("hp"),u=h.getEl("sv"),d=h.getEl("svp"),h._repaint=function(){a=f.toHsv(),o(a)},h._super(),h._svdraghelper=new e(h._id+"-sv",{start:r,drag:r}),h._hdraghelper=new e(h._id+"-h",{start:s,drag:s}),h._repaint()},rgb:function(){return this.color().toRgb()},value:function(t){var e=this;return arguments.length?(e.color().parse(t),void(e._rendered&&e._repaint())):e.color().toHex()},color:function(){return this._color||(this._color=new n),this._color},renderHtml:function(){function t(){var t,e,i,n,s="";for(i="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",n=r.split(","),t=0,e=n.length-1;e>t;t++)s+='<div class="'+o+'colorpicker-h-chunk" style="height:'+100/e+"%;"+i+n[t]+",endColorstr="+n[t+1]+");-ms-"+i+n[t]+",endColorstr="+n[t+1]+')"></div>';return s}var e,i=this,n=i._id,o=i.classPrefix,r="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000",s="background: -ms-linear-gradient(top,"+r+");background: linear-gradient(to bottom,"+r+");";return e='<div id="'+n+'-h" class="'+o+'colorpicker-h" style="'+s+'">'+t()+'<div id="'+n+'-hp" class="'+o+'colorpicker-h-marker"></div></div>','<div id="'+n+'" class="'+i.classes+'"><div id="'+n+'-sv" class="'+o+'colorpicker-sv"><div class="'+o+'colorpicker-overlay1"><div class="'+o+'colorpicker-overlay2"><div id="'+n+'-svp" class="'+o+'colorpicker-selector1"><div class="'+o+'colorpicker-selector2"></div></div></div></div></div>'+e+"</div>"}})}),/**
 * Path.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/Path",["tinymce/ui/Widget"],function(t){return t.extend({init:function(t){var e=this;t.delimiter||(t.delimiter="\xbb"),e._super(t),e.classes.add("path"),e.canFocus=!0,e.on("click",function(t){var i,n=t.target;(i=n.getAttribute("data-index"))&&e.fire("select",{value:e.row()[i],index:i})}),e.row(e.settings.row)},focus:function(){var t=this;return t.getEl().firstChild.focus(),t},row:function(t){return arguments.length?(this.state.set("row",t),this):this.state.get("row")},renderHtml:function(){var t=this;return'<div id="'+t._id+'" class="'+t.classes+'">'+t._getDataPathHtml(t.state.get("row"))+"</div>"},bindStates:function(){var t=this;return t.state.on("change:row",function(e){t.innerHtml(t._getDataPathHtml(e.value))}),t._super()},_getDataPathHtml:function(t){var e,i,n=this,o=t||[],r="",s=n.classPrefix;for(e=0,i=o.length;i>e;e++)r+=(e>0?'<div class="'+s+'divider" aria-hidden="true"> '+n.settings.delimiter+" </div>":"")+'<div role="button" class="'+s+"path-item"+(e==i-1?" "+s+"last":"")+'" data-index="'+e+'" tabindex="-1" id="'+n._id+"-"+e+'" aria-level="'+e+'">'+o[e].name+"</div>";return r||(r='<div class="'+s+'path-item">\xa0</div>'),r}})}),/**
 * ElementPath.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/ElementPath",["tinymce/ui/Path","tinymce/EditorManager"],function(t,e){return t.extend({postRender:function(){function t(t){if(1===t.nodeType){if("BR"==t.nodeName||t.getAttribute("data-mce-bogus"))return!0;if("bookmark"===t.getAttribute("data-mce-type"))return!0}return!1}var i=this,n=e.activeEditor;return n.settings.elementpath!==!1&&(i.on("select",function(t){n.focus(),n.selection.select(this.row()[t.index].element),n.nodeChanged()}),n.on("nodeChange",function(e){for(var o=[],r=e.parents,s=r.length;s--;)if(1==r[s].nodeType&&!t(r[s])){var a=n.fire("ResolveName",{name:r[s].nodeName.toLowerCase(),target:r[s]});if(a.isDefaultPrevented()||o.push({name:a.name,element:r[s]}),a.isPropagationStopped())break}i.row(o)})),i._super()}})}),/**
 * FormItem.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/FormItem",["tinymce/ui/Container"],function(t){return t.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var t=this,e=t._layout,i=t.classPrefix;return t.classes.add("formitem"),e.preRender(t),'<div id="'+t._id+'" class="'+t.classes+'" hidefocus="1" tabindex="-1">'+(t.settings.title?'<div id="'+t._id+'-title" class="'+i+'title">'+t.settings.title+"</div>":"")+'<div id="'+t._id+'-body" class="'+t.bodyClasses+'">'+(t.settings.html||"")+e.renderHtml(t)+"</div></div>"}})}),/**
 * Form.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/Form",["tinymce/ui/Container","tinymce/ui/FormItem","tinymce/util/Tools"],function(t,e,i){return t.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var t=this,n=t.items();t.settings.formItemDefaults||(t.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),n.each(function(n){var o,r=n.settings.label;r&&(o=new e(i.extend({items:{type:"label",id:n._id+"-l",text:r,flex:0,forId:n._id,disabled:n.disabled()}},t.settings.formItemDefaults)),o.type="formitem",n.aria("labelledby",n._id+"-l"),"undefined"==typeof n.settings.flex&&(n.settings.flex=1),t.replace(n,o),o.add(n))})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){var t=this;t._super(),t.fromJSON(t.settings.data)},bindStates:function(){function t(){var t,i,n,o=0,r=[];if(e.settings.labelGapCalc!==!1)for(n="children"==e.settings.labelGapCalc?e.find("formitem"):e.items(),n.filter("formitem").each(function(t){var e=t.items()[0],i=e.getEl().clientWidth;o=i>o?i:o,r.push(e)}),i=e.settings.labelGap||0,t=r.length;t--;)r[t].settings.minWidth=o+i}var e=this;e._super(),e.on("show",t),t()}})}),/**
 * FieldSet.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/FieldSet",["tinymce/ui/Form"],function(t){return t.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var t=this,e=t._layout,i=t.classPrefix;return t.preRender(),e.preRender(t),'<fieldset id="'+t._id+'" class="'+t.classes+'" hidefocus="1" tabindex="-1">'+(t.settings.title?'<legend id="'+t._id+'-title" class="'+i+'fieldset-title">'+t.settings.title+"</legend>":"")+'<div id="'+t._id+'-body" class="'+t.bodyClasses+'">'+(t.settings.html||"")+e.renderHtml(t)+"</div></fieldset>"}})}),/**
 * FilePicker.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/FilePicker",["tinymce/ui/ComboBox","tinymce/util/Tools"],function(t,e){return t.extend({init:function(t){var i,n,o,r=this,s=tinymce.activeEditor,a=s.settings;t.spellcheck=!1,o=a.file_picker_types||a.file_browser_callback_types,o&&(o=e.makeMap(o,/[, ]/)),(!o||o[t.filetype])&&(n=a.file_picker_callback,!n||o&&!o[t.filetype]?(n=a.file_browser_callback,!n||o&&!o[t.filetype]||(i=function(){n(r.getEl("inp").id,r.value(),t.filetype,window)})):i=function(){var i=r.fire("beforecall").meta;i=e.extend({filetype:t.filetype},i),n.call(s,function(t,e){r.value(t).fire("change",{meta:e})},r.value(),i)}),i&&(t.icon="browse",t.onaction=i),r._super(t)}})}),/**
 * FitLayout.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/FitLayout",["tinymce/ui/AbsoluteLayout"],function(t){return t.extend({recalc:function(t){var e=t.layoutRect(),i=t.paddingBox;t.items().filter(":visible").each(function(t){t.layoutRect({x:i.left,y:i.top,w:e.innerW-i.right-i.left,h:e.innerH-i.top-i.bottom}),t.recalc&&t.recalc()})}})}),/**
 * FlexLayout.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/FlexLayout",["tinymce/ui/AbsoluteLayout"],function(t){return t.extend({recalc:function(t){var e,i,n,o,r,s,a,l,c,u,d,h,f,p,m,g,v,y,b,x,_,w,C,k,T,S,N,D,E,P,A,M,I,$,R,O,L,F,H=[],B=Math.max,z=Math.min;for(n=t.items().filter(":visible"),o=t.layoutRect(),r=t.paddingBox,s=t.settings,h=t.isRtl()?s.direction||"row-reversed":s.direction,a=s.align,l=t.isRtl()?s.pack||"end":s.pack,c=s.spacing||0,("row-reversed"==h||"column-reverse"==h)&&(n=n.set(n.toArray().reverse()),h=h.split("-")[0]),"column"==h?(T="y",C="h",k="minH",S="maxH",D="innerH",N="top",E="deltaH",P="contentH",R="left",I="w",A="x",M="innerW",$="minW",O="right",L="deltaW",F="contentW"):(T="x",C="w",k="minW",S="maxW",D="innerW",N="left",E="deltaW",P="contentW",R="top",I="h",A="y",M="innerH",$="minH",O="bottom",L="deltaH",F="contentH"),d=o[D]-r[N]-r[N],w=u=0,e=0,i=n.length;i>e;e++)f=n[e],p=f.layoutRect(),m=f.settings,g=m.flex,d-=i-1>e?c:0,g>0&&(u+=g,p[S]&&H.push(f),p.flex=g),d-=p[k],v=r[R]+p[$]+r[O],v>w&&(w=v);if(x={},0>d?x[k]=o[k]-d+o[E]:x[k]=o[D]-d+o[E],x[$]=w+o[L],x[P]=o[D]-d,x[F]=w,x.minW=z(x.minW,o.maxW),x.minH=z(x.minH,o.maxH),x.minW=B(x.minW,o.startMinWidth),x.minH=B(x.minH,o.startMinHeight),!o.autoResize||x.minW==o.minW&&x.minH==o.minH){for(b=d/u,e=0,i=H.length;i>e;e++)f=H[e],p=f.layoutRect(),y=p[S],v=p[k]+p.flex*b,v>y?(d-=p[S]-p[k],u-=p.flex,p.flex=0,p.maxFlexSize=y):p.maxFlexSize=0;for(b=d/u,_=r[N],x={},0===u&&("end"==l?_=d+r[N]:"center"==l?(_=Math.round(o[D]/2-(o[D]-d)/2)+r[N],0>_&&(_=r[N])):"justify"==l&&(_=r[N],c=Math.floor(d/(n.length-1)))),x[A]=r[R],e=0,i=n.length;i>e;e++)f=n[e],p=f.layoutRect(),v=p.maxFlexSize||p[k],"center"===a?x[A]=Math.round(o[M]/2-p[I]/2):"stretch"===a?(x[I]=B(p[$]||0,o[M]-r[R]-r[O]),x[A]=r[R]):"end"===a&&(x[A]=o[M]-p[I]-r.top),p.flex>0&&(v+=p.flex*b),x[C]=v,x[T]=_,f.layoutRect(x),f.recalc&&f.recalc(),_+=v+c}else if(x.w=x.minW,x.h=x.minH,t.layoutRect(x),this.recalc(t),null===t._lastRect){var W=t.parent();W&&(W._lastRect=null,W.recalc())}}})}),/**
 * FlowLayout.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/FlowLayout",["tinymce/ui/Layout"],function(t){return t.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(t){t.items().filter(":visible").each(function(t){t.recalc&&t.recalc()})},isNative:function(){return!0}})}),/**
 * FormatControls.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/FormatControls",["tinymce/ui/Control","tinymce/ui/Widget","tinymce/ui/FloatPanel","tinymce/util/Tools","tinymce/EditorManager","tinymce/Env"],function(t,e,i,n,o,r){function s(t){function e(e,i){return function(){var n=this;t.on("nodeChange",function(o){var r=t.formatter,s=null;a(o.parents,function(t){return a(e,function(e){return i?r.matchNode(t,i,{value:e.value})&&(s=e.value):r.matchNode(t,e.value)&&(s=e.value),s?!1:void 0}),s?!1:void 0}),n.value(s)})}}function n(t){t=t.replace(/;$/,"").split(";");for(var e=t.length;e--;)t[e]=t[e].split("=");return t}function o(){function e(t){var i=[];if(t)return a(t,function(t){var r={text:t.title,icon:t.icon};if(t.items)r.menu=e(t.items);else{var s=t.format||"custom"+n++;t.format||(t.name=s,o.push(t)),r.format=s,r.cmd=t.cmd}i.push(r)}),i}function i(){var i;return i=e(t.settings.style_formats_merge?t.settings.style_formats?r.concat(t.settings.style_formats):r:t.settings.style_formats||r)}var n=0,o=[],r=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];return t.on("init",function(){a(o,function(e){t.formatter.register(e.name,e)})}),{type:"menu",items:i(),onPostRender:function(e){t.fire("renderFormatsMenu",{control:e.control})},itemDefaults:{preview:!0,textStyle:function(){return this.settings.format?t.formatter.getCssText(this.settings.format):void 0},onPostRender:function(){var e=this;e.parent().on("show",function(){var i,n;i=e.settings.format,i&&(e.disabled(!t.formatter.canApply(i)),e.active(t.formatter.match(i))),n=e.settings.cmd,n&&e.active(t.queryCommandState(n))})},onclick:function(){this.settings.format&&c(this.settings.format),this.settings.cmd&&t.execCommand(this.settings.cmd)}}}}function r(e){return function(){var i=this;t.formatter?t.formatter.formatChanged(e,function(t){i.active(t)}):t.on("init",function(){t.formatter.formatChanged(e,function(t){i.active(t)})})}}function s(e){return function(){function i(){return t.undoManager?t.undoManager[e]():!1}var n=this;e="redo"==e?"hasRedo":"hasUndo",n.disabled(!i()),t.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){n.disabled(t.readonly||!i())})}}function l(){var e=this;t.on("VisualAid",function(t){e.active(t.hasVisual)}),e.active(t.hasVisual)}function c(e){e.control&&(e=e.control.value()),e&&t.execCommand("mceToggleFormat",!1,e)}var u;u=o(),a({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(e,i){t.addButton(i,{tooltip:e,onPostRender:r(i),onclick:function(){c(i)}})}),a({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(e,i){t.addButton(i,{tooltip:e[0],cmd:e[1]})}),a({blockquote:["Blockquote","mceBlockQuote"],numlist:["Numbered list","InsertOrderedList"],bullist:["Bullet list","InsertUnorderedList"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(e,i){t.addButton(i,{tooltip:e[0],cmd:e[1],onPostRender:r(i)})}),t.addButton("undo",{tooltip:"Undo",onPostRender:s("undo"),cmd:"undo"}),t.addButton("redo",{tooltip:"Redo",onPostRender:s("redo"),cmd:"redo"}),t.addMenuItem("newdocument",{text:"New document",icon:"newdocument",cmd:"mceNewDocument"}),t.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:s("undo"),cmd:"undo"}),t.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:s("redo"),cmd:"redo"}),t.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:l,cmd:"mceToggleVisualAid"}),t.addButton("remove",{tooltip:"Remove",icon:"remove",cmd:"Delete"}),a({cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"],bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(e,i){t.addMenuItem(i,{text:e[0],icon:i,shortcut:e[2],cmd:e[1]})}),t.on("mousedown",function(){i.hideAll()}),t.addButton("styleselect",{type:"menubutton",text:"Formats",menu:u}),t.addButton("formatselect",function(){var i=[],o=n(t.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");return a(o,function(e){i.push({text:e[0],value:e[1],textStyle:function(){return t.formatter.getCssText(e[1])}})}),{type:"listbox",text:o[0][0],values:i,fixedWidth:!0,onselect:c,onPostRender:e(i)}}),t.addButton("fontselect",function(){var i="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",o=[],r=n(t.settings.font_formats||i);return a(r,function(t){o.push({text:{raw:t[0]},value:t[1],textStyle:-1==t[1].indexOf("dings")?"font-family:"+t[1]:""})}),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:o,fixedWidth:!0,onPostRender:e(o,"fontname"),onselect:function(e){e.control.settings.value&&t.execCommand("FontName",!1,e.control.settings.value)}}}),t.addButton("fontsizeselect",function(){var i=[],n="8pt 10pt 12pt 14pt 18pt 24pt 36pt",o=t.settings.fontsize_formats||n;return a(o.split(" "),function(t){var e=t,n=t,o=t.split("=");o.length>1&&(e=o[0],n=o[1]),i.push({text:e,value:n})}),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:i,fixedWidth:!0,onPostRender:e(i,"fontsize"),onclick:function(e){e.control.settings.value&&t.execCommand("FontSize",!1,e.control.settings.value)}}}),t.addMenuItem("formats",{text:"Formats",menu:u})}var a=n.each;o.on("AddEditor",function(e){e.editor.rtl&&(t.rtl=!0),s(e.editor)}),t.translate=function(t){return o.translate(t)},e.tooltips=!r.iOS}),/**
 * GridLayout.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/GridLayout",["tinymce/ui/AbsoluteLayout"],function(t){return t.extend({recalc:function(t){var e,i,n,o,r,s,a,l,c,u,d,h,f,p,m,g,v,y,b,x,_,w,C,k,T,S,N,D,E,P=[],A=[];e=t.settings,o=t.items().filter(":visible"),r=t.layoutRect(),n=e.columns||Math.ceil(Math.sqrt(o.length)),i=Math.ceil(o.length/n),y=e.spacingH||e.spacing||0,b=e.spacingV||e.spacing||0,x=e.alignH||e.align,_=e.alignV||e.align,g=t.paddingBox,D="reverseRows"in e?e.reverseRows:t.isRtl(),x&&"string"==typeof x&&(x=[x]),_&&"string"==typeof _&&(_=[_]);for(d=0;n>d;d++)P.push(0);for(h=0;i>h;h++)A.push(0);for(h=0;i>h;h++)for(d=0;n>d&&(u=o[h*n+d],u);d++)c=u.layoutRect(),k=c.minW,T=c.minH,P[d]=k>P[d]?k:P[d],A[h]=T>A[h]?T:A[h];for(S=r.innerW-g.left-g.right,w=0,d=0;n>d;d++)w+=P[d]+(d>0?y:0),S-=(d>0?y:0)+P[d];for(N=r.innerH-g.top-g.bottom,C=0,h=0;i>h;h++)C+=A[h]+(h>0?b:0),N-=(h>0?b:0)+A[h];if(w+=g.left+g.right,C+=g.top+g.bottom,l={},l.minW=w+(r.w-r.innerW),l.minH=C+(r.h-r.innerH),l.contentW=l.minW-r.deltaW,l.contentH=l.minH-r.deltaH,l.minW=Math.min(l.minW,r.maxW),l.minH=Math.min(l.minH,r.maxH),l.minW=Math.max(l.minW,r.startMinWidth),l.minH=Math.max(l.minH,r.startMinHeight),!r.autoResize||l.minW==r.minW&&l.minH==r.minH){r.autoResize&&(l=t.layoutRect(l),l.contentW=l.minW-r.deltaW,l.contentH=l.minH-r.deltaH);var M;M="start"==e.packV?0:N>0?Math.floor(N/i):0;var I=0,$=e.flexWidths;if($)for(d=0;d<$.length;d++)I+=$[d];else I=n;var R=S/I;for(d=0;n>d;d++)P[d]+=$?$[d]*R:R;for(p=g.top,h=0;i>h;h++){for(f=g.left,a=A[h]+M,d=0;n>d&&(E=D?h*n+n-1-d:h*n+d,u=o[E],u);d++)m=u.settings,c=u.layoutRect(),s=Math.max(P[d],c.startMinWidth),c.x=f,c.y=p,v=m.alignH||(x?x[d]||x[0]:null),"center"==v?c.x=f+s/2-c.w/2:"right"==v?c.x=f+s-c.w:"stretch"==v&&(c.w=s),v=m.alignV||(_?_[d]||_[0]:null),"center"==v?c.y=p+a/2-c.h/2:"bottom"==v?c.y=p+a-c.h:"stretch"==v&&(c.h=a),u.layoutRect(c),f+=s+y,u.recalc&&u.recalc();p+=a+b}}else if(l.w=l.minW,l.h=l.minH,t.layoutRect(l),this.recalc(t),null===t._lastRect){var O=t.parent();O&&(O._lastRect=null,O.recalc())}}})}),/**
 * Iframe.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/Iframe",["tinymce/ui/Widget","tinymce/util/Delay"],function(t,e){return t.extend({renderHtml:function(){var t=this;return t.classes.add("iframe"),t.canFocus=!1,'<iframe id="'+t._id+'" class="'+t.classes+'" tabindex="-1" src="'+(t.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(t){this.getEl().src=t},html:function(t,i){var n=this,o=this.getEl().contentWindow.document.body;return o?(o.innerHTML=t,i&&i()):e.setTimeout(function(){n.html(t)}),this}})}),/**
 * Label.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/Label",["tinymce/ui/Widget","tinymce/ui/DomUtils"],function(t,e){return t.extend({init:function(t){var e=this;e._super(t),e.classes.add("widget").add("label"),e.canFocus=!1,t.multiline&&e.classes.add("autoscroll"),t.strong&&e.classes.add("strong")},initLayoutRect:function(){var t=this,i=t._super();if(t.settings.multiline){var n=e.getSize(t.getEl());n.width>i.maxW&&(i.minW=i.maxW,t.classes.add("multiline")),t.getEl().style.width=i.minW+"px",i.startMinH=i.h=i.minH=Math.min(i.maxH,e.getSize(t.getEl()).height)}return i},repaint:function(){var t=this;return t.settings.multiline||(t.getEl().style.lineHeight=t.layoutRect().h+"px"),t._super()},renderHtml:function(){var t=this,e=t.settings.forId;return'<label id="'+t._id+'" class="'+t.classes+'"'+(e?' for="'+e+'"':"")+">"+t.encode(t.state.get("text"))+"</label>"},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.innerHtml(t.encode(e.value))}),t._super()}})}),/**
 * Toolbar.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/Toolbar",["tinymce/ui/Container"],function(t){return t.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(t){var e=this;e._super(t),e.classes.add("toolbar")},postRender:function(){var t=this;return t.items().each(function(t){t.classes.add("toolbar-item")}),t._super()}})}),/**
 * MenuBar.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/MenuBar",["tinymce/ui/Toolbar"],function(t){return t.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})}),/**
 * MenuButton.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/MenuButton",["tinymce/ui/Button","tinymce/ui/Factory","tinymce/ui/MenuBar"],function(t,e,i){function n(t,e){for(;t;){if(e===t)return!0;t=t.parentNode}return!1}var o=t.extend({init:function(t){var e=this;e._renderOpen=!0,e._super(t),t=e.settings,e.classes.add("menubtn"),t.fixedWidth&&e.classes.add("fixed-width"),e.aria("haspopup",!0),e.state.set("menu",t.menu||e.render())},showMenu:function(){var t,i=this;return i.menu&&i.menu.visible()?i.hideMenu():(i.menu||(t=i.state.get("menu")||[],t.length?t={type:"menu",items:t}:t.type=t.type||"menu",t.renderTo?i.menu=t.parent(i).show().renderTo():i.menu=e.create(t).parent(i).renderTo(),i.fire("createmenu"),i.menu.reflow(),i.menu.on("cancel",function(t){t.control.parent()===i.menu&&(t.stopPropagation(),i.focus(),i.hideMenu())}),i.menu.on("select",function(){i.focus()}),i.menu.on("show hide",function(t){t.control==i.menu&&i.activeMenu("show"==t.type),i.aria("expanded","show"==t.type)}).fire("show")),i.menu.show(),i.menu.layoutRect({w:i.layoutRect().w}),void i.menu.moveRel(i.getEl(),i.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]))},hideMenu:function(){var t=this;t.menu&&(t.menu.items().each(function(t){t.hideMenu&&t.hideMenu()}),t.menu.hide())},activeMenu:function(t){this.classes.toggle("active",t)},renderHtml:function(){var t,e=this,n=e._id,o=e.classPrefix,r=e.settings.icon,s=e.state.get("text"),a="";return t=e.settings.image,t?(r="none","string"!=typeof t&&(t=window.getSelection?t[0]:t[1]),t=" style=\"background-image: url('"+t+"')\""):t="",s&&(e.classes.add("btn-has-text"),a='<span class="'+o+'txt">'+e.encode(s)+"</span>"),r=e.settings.icon?o+"ico "+o+"i-"+r:"",e.aria("role",e.parent()instanceof i?"menuitem":"button"),'<div id="'+n+'" class="'+e.classes+'" tabindex="-1" aria-labelledby="'+n+'"><button id="'+n+'-open" role="presentation" type="button" tabindex="-1">'+(r?'<i class="'+r+'"'+t+"></i>":"")+a+' <i class="'+o+'caret"></i></button></div>'},postRender:function(){var t=this;return t.on("click",function(e){e.control===t&&n(e.target,t.getEl())&&(t.showMenu(),e.aria&&t.menu.items()[0].focus())}),t.on("mouseenter",function(e){var i,n=e.control,r=t.parent();n&&r&&n instanceof o&&n.parent()==r&&(r.items().filter("MenuButton").each(function(t){t.hideMenu&&t!=n&&(t.menu&&t.menu.visible()&&(i=!0),t.hideMenu())}),i&&(n.focus(),n.showMenu()))}),t._super()},bindStates:function(){var t=this;return t.state.on("change:menu",function(){t.menu&&t.menu.remove(),t.menu=null}),t._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}});return o}),/**
 * MenuItem.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/MenuItem",["tinymce/ui/Widget","tinymce/ui/Factory","tinymce/Env"],function(t,e,i){return t.extend({Defaults:{border:0,role:"menuitem"},init:function(t){var e,i=this;i._super(t),t=i.settings,i.classes.add("menu-item"),t.menu&&i.classes.add("menu-item-expand"),t.preview&&i.classes.add("menu-item-preview"),e=i.state.get("text"),("-"===e||"|"===e)&&(i.classes.add("menu-item-sep"),i.aria("role","separator"),i.state.set("text","-")),t.selectable&&(i.aria("role","menuitemcheckbox"),i.classes.add("menu-item-checkbox"),t.icon="selected"),t.preview||t.selectable||i.classes.add("menu-item-normal"),i.on("mousedown",function(t){t.preventDefault()}),t.menu&&!t.ariaHideMenu&&i.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var t,i=this,n=i.settings,o=i.parent();if(o.items().each(function(t){t!==i&&t.hideMenu()}),n.menu){t=i.menu,t?t.show():(t=n.menu,t.length?t={type:"menu",items:t}:t.type=t.type||"menu",o.settings.itemDefaults&&(t.itemDefaults=o.settings.itemDefaults),t=i.menu=e.create(t).parent(i).renderTo(),t.reflow(),t.on("cancel",function(e){e.stopPropagation(),i.focus(),t.hide()}),t.on("show hide",function(t){t.control.items().each(function(t){t.active(t.settings.selected)})}).fire("show"),t.on("hide",function(e){e.control===t&&i.classes.remove("selected")}),t.submenu=!0),t._parentMenu=o,t.classes.add("menu-sub");var r=t.testMoveRel(i.getEl(),i.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);t.moveRel(i.getEl(),r),t.rel=r,r="menu-sub-"+r,t.classes.remove(t._lastRel).add(r),t._lastRel=r,i.classes.add("selected"),i.aria("expanded",!0)}},hideMenu:function(){var t=this;return t.menu&&(t.menu.items().each(function(t){t.hideMenu&&t.hideMenu()}),t.menu.hide(),t.aria("expanded",!1)),t},renderHtml:function(){function t(t){var e,n,o={};for(o=i.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},t=t.split("+"),e=0;e<t.length;e++)n=o[t[e].toLowerCase()],n&&(t[e]=n);return t.join("+")}var e=this,n=e._id,o=e.settings,r=e.classPrefix,s=e.encode(e.state.get("text")),a=e.settings.icon,l="",c=o.shortcut;return a&&e.parent().classes.add("menu-has-icons"),o.image&&(l=" style=\"background-image: url('"+o.image+"')\""),c&&(c=t(c)),a=r+"ico "+r+"i-"+(e.settings.icon||"none"),'<div id="'+n+'" class="'+e.classes+'" tabindex="-1">'+("-"!==s?'<i class="'+a+'"'+l+"></i>\xa0":"")+("-"!==s?'<span id="'+n+'-text" class="'+r+'text">'+s+"</span>":"")+(c?'<div id="'+n+'-shortcut" class="'+r+'menu-shortcut">'+c+"</div>":"")+(o.menu?'<div class="'+r+'caret"></div>':"")+"</div>"},postRender:function(){var t=this,e=t.settings,i=e.textStyle;if("function"==typeof i&&(i=i.call(this)),i){var n=t.getEl("text");n&&n.setAttribute("style",i)}return t.on("mouseenter click",function(i){i.control===t&&(e.menu||"click"!==i.type?(t.showMenu(),i.aria&&t.menu.focus(!0)):(t.fire("select"),t.parent().hideAll()))}),t._super(),t},active:function(t){return"undefined"!=typeof t&&this.aria("checked",t),this._super(t)},remove:function(){this._super(),this.menu&&this.menu.remove()}})}),/**
 * Menu.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/Menu",["tinymce/ui/FloatPanel","tinymce/ui/MenuItem","tinymce/util/Tools"],function(t,e,i){return t.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(t){var e=this;if(t.autohide=!0,t.constrainToViewport=!0,t.itemDefaults)for(var n=t.items,o=n.length;o--;)n[o]=i.extend({},t.itemDefaults,n[o]);e._super(t),e.classes.add("menu")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){var t=this;t.hideAll(),t.fire("select")},hideAll:function(){var t=this;return this.find("menuitem").exec("hideMenu"),t._super()},preRender:function(){var t=this;return t.items().each(function(e){var i=e.settings;return i.icon||i.image||i.selectable?(t._hasIcons=!0,!1):void 0}),t._super()}})}),/**
 * ListBox.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/ListBox",["tinymce/ui/MenuButton","tinymce/ui/Menu"],function(t,e){return t.extend({init:function(t){function e(i){for(var r=0;r<i.length;r++){if(n=i[r].selected||t.value===i[r].value)return o=o||i[r].text,s.state.set("value",i[r].value),!0;if(i[r].menu&&e(i[r].menu))return!0}}var i,n,o,r,s=this;s._super(t),t=s.settings,s._values=i=t.values,i&&("undefined"!=typeof t.value&&e(i),!n&&i.length>0&&(o=i[0].text,s.state.set("value",i[0].value)),s.state.set("menu",i)),s.state.set("text",t.text||o),s.classes.add("listbox"),s.on("select",function(e){var i=e.control;r&&(e.lastControl=r),t.multiple?i.active(!i.active()):s.value(e.control.value()),r=i})},bindStates:function(){function t(t,i){t instanceof e&&t.items().each(function(t){t.hasMenus()||t.active(t.value()===i)})}function i(t,e){var n;if(t)for(var o=0;o<t.length;o++){if(t[o].value===e)return t[o];if(t[o].menu&&(n=i(t[o].menu,e)))return n}}var n=this;return n.on("show",function(e){t(e.control,n.value())}),n.state.on("change:value",function(t){var e=i(n.state.get("menu"),t.value);e?n.text(e.text):n.text(n.settings.text)}),n._super()}})}),/**
 * Radio.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/Radio",["tinymce/ui/Checkbox"],function(t){return t.extend({Defaults:{classes:"radio",role:"radio"}})}),/**
 * ResizeHandle.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/ResizeHandle",["tinymce/ui/Widget","tinymce/ui/DragHelper"],function(t,e){return t.extend({renderHtml:function(){var t=this,e=t.classPrefix;return t.classes.add("resizehandle"),"both"==t.settings.direction&&t.classes.add("resizehandle-both"),t.canFocus=!1,'<div id="'+t._id+'" class="'+t.classes+'"><i class="'+e+"ico "+e+'i-resize"></i></div>'},postRender:function(){var t=this;t._super(),t.resizeDragHelper=new e(this._id,{start:function(){t.fire("ResizeStart")},drag:function(e){"both"!=t.settings.direction&&(e.deltaX=0),t.fire("Resize",e)},stop:function(){t.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}})}),/**
 * SelectBox.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/SelectBox",["tinymce/ui/Widget"],function(t){function e(t){var e="";if(t)for(var i=0;i<t.length;i++)e+='<option value="'+t[i]+'">'+t[i]+"</option>";return e}return t.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(t){var e=this;e._super(t),e.settings.size&&(e.size=e.settings.size),e.settings.options&&(e._options=e.settings.options)},options:function(t){return arguments.length?(this.state.set("options",t),this):this.state.get("options")},renderHtml:function(){var t,i=this,n="";return t=e(i._options),i.size&&(n=' size = "'+i.size+'"'),'<select id="'+i._id+'" class="'+i.classes+'"'+n+">"+t+"</select>"},bindStates:function(){var t=this;return t.state.on("change:options",function(i){t.getEl().innerHTML=e(i.value)}),t._super()}})}),/**
 * Slider.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/Slider",["tinymce/ui/Widget","tinymce/ui/DragHelper","tinymce/ui/DomUtils"],function(t,e,i){function n(t,e,i){return e>t&&(t=e),t>i&&(t=i),t}function o(t,e){var n,o,r,s,a;"v"==t.settings.orientation?(s="top",r="height",o="h"):(s="left",r="width",o="w"),n=(t.layoutRect()[o]||100)-i.getSize(t.getEl("handle"))[r],a=n*((e-t._minValue)/(t._maxValue-t._minValue))+"px",t.getEl("handle").style[s]=a,t.getEl("handle").style.height=t.layoutRect().h+"px"}return t.extend({init:function(t){var e=this;t.previewFilter||(t.previewFilter=function(t){return Math.round(100*t)/100}),e._super(t),e.classes.add("slider"),"v"==t.orientation&&e.classes.add("vertical"),e._minValue=t.minValue||0,e._maxValue=t.maxValue||100,e._initValue=e.state.get("value")},renderHtml:function(){var t=this,e=t._id,i=t.classPrefix;return'<div id="'+e+'" class="'+t.classes+'"><div id="'+e+'-handle" class="'+i+'slider-handle"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){var t,o,r,s,a,l,c,u,d,h,f=this,p=0;s=f._minValue,a=f._maxValue,r=f.value(),"v"==f.settings.orientation?(c="screenY",u="top",d="height",h="h"):(c="screenX",u="left",d="width",h="w"),f._super(),f._dragHelper=new e(f._id,{handle:f._id+"-handle",start:function(e){t=e[c],o=parseInt(f.getEl("handle").style[u],10),l=(f.layoutRect()[h]||100)-i.getSize(f.getEl("handle"))[d],f.fire("dragstart",{value:r})},drag:function(e){var i=e[c]-t,d=f.getEl("handle");p=n(o+i,0,l),d.style[u]=p+"px",r=s+p/l*(a-s),f.value(r),f.tooltip().text(""+f.settings.previewFilter(r)).show().moveRel(d,"bc tc"),f.fire("drag",{value:r})},stop:function(){f.tooltip().hide(),f.fire("dragend",{value:r})}})},repaint:function(){this._super(),o(this,this.value())},bindStates:function(){var t=this;return t.state.on("change:value",function(e){o(t,e.value)}),t._super()}})}),/**
 * Spacer.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/Spacer",["tinymce/ui/Widget"],function(t){return t.extend({renderHtml:function(){var t=this;return t.classes.add("spacer"),t.canFocus=!1,'<div id="'+t._id+'" class="'+t.classes+'"></div>'}})}),/**
 * SplitButton.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/SplitButton",["tinymce/ui/MenuButton","tinymce/ui/DomUtils","tinymce/dom/DomQuery"],function(t,e,i){return t.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var t,n,o=this,r=o.getEl(),s=o.layoutRect();return o._super(),t=r.firstChild,n=r.lastChild,i(t).css({width:s.w-e.getSize(n).width,height:s.h-2}),i(n).css({height:s.h-2}),o},activeMenu:function(t){var e=this;i(e.getEl().lastChild).toggleClass(e.classPrefix+"active",t)},renderHtml:function(){var t,e=this,i=e._id,n=e.classPrefix,o=e.state.get("icon"),r=e.state.get("text"),s="";return t=e.settings.image,t?(o="none","string"!=typeof t&&(t=window.getSelection?t[0]:t[1]),t=" style=\"background-image: url('"+t+"')\""):t="",o=e.settings.icon?n+"ico "+n+"i-"+o:"",r&&(e.classes.add("btn-has-text"),s='<span class="'+n+'txt">'+e.encode(r)+"</span>"),'<div id="'+i+'" class="'+e.classes+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(o?'<i class="'+o+'"'+t+"></i>":"")+s+'</button><button type="button" class="'+n+'open" hidefocus="1" tabindex="-1">'+(e._menuBtnText?(o?"\xa0":"")+e._menuBtnText:"")+' <i class="'+n+'caret"></i></button></div>'},postRender:function(){var t=this,e=t.settings.onclick;return t.on("click",function(t){var i=t.target;if(t.control==this)for(;i;){if(t.aria&&"down"!=t.aria.key||"BUTTON"==i.nodeName&&-1==i.className.indexOf("open"))return t.stopImmediatePropagation(),void(e&&e.call(this,t));i=i.parentNode}}),delete t.settings.onclick,t._super()}})}),/**
 * StackLayout.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/StackLayout",["tinymce/ui/FlowLayout"],function(t){return t.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}})}),/**
 * TabPanel.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/TabPanel",["tinymce/ui/Panel","tinymce/dom/DomQuery","tinymce/ui/DomUtils"],function(t,e,i){return t.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(t){var i;this.activeTabId&&(i=this.getEl(this.activeTabId),e(i).removeClass(this.classPrefix+"active"),i.setAttribute("aria-selected","false")),this.activeTabId="t"+t,i=this.getEl("t"+t),i.setAttribute("aria-selected","true"),e(i).addClass(this.classPrefix+"active"),this.items()[t].show().fire("showtab"),this.reflow(),this.items().each(function(e,i){t!=i&&e.hide()})},renderHtml:function(){var t=this,e=t._layout,i="",n=t.classPrefix;return t.preRender(),e.preRender(t),t.items().each(function(e,o){var r=t._id+"-t"+o;e.aria("role","tabpanel"),e.aria("labelledby",r),i+='<div id="'+r+'" class="'+n+'tab" unselectable="on" role="tab" aria-controls="'+e._id+'" aria-selected="false" tabIndex="-1">'+t.encode(e.settings.title)+"</div>"}),'<div id="'+t._id+'" class="'+t.classes+'" hidefocus="1" tabindex="-1"><div id="'+t._id+'-head" class="'+n+'tabs" role="tablist">'+i+'</div><div id="'+t._id+'-body" class="'+t.bodyClasses+'">'+e.renderHtml(t)+"</div></div>"},postRender:function(){var t=this;t._super(),t.settings.activeTab=t.settings.activeTab||0,t.activateTab(t.settings.activeTab),this.on("click",function(e){var i=e.target.parentNode;if(e.target.parentNode.id==t._id+"-head")for(var n=i.childNodes.length;n--;)i.childNodes[n]==e.target&&t.activateTab(n)})},initLayoutRect:function(){var t,e,n,o=this;e=i.getSize(o.getEl("head")).width,e=0>e?0:e,n=0,o.items().each(function(t){e=Math.max(e,t.layoutRect().minW),n=Math.max(n,t.layoutRect().minH)}),o.items().each(function(t){t.settings.x=0,t.settings.y=0,t.settings.w=e,t.settings.h=n,t.layoutRect({x:0,y:0,w:e,h:n})});var r=i.getSize(o.getEl("head")).height;return o.settings.minWidth=e,o.settings.minHeight=n+r,t=o._super(),t.deltaH+=r,t.innerH=t.h-t.deltaH,t}})}),/**
 * TextBox.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/TextBox",["tinymce/ui/Widget"],function(t){return t.extend({init:function(t){var e=this;e._super(t),e.classes.add("textbox"),t.multiline?e.classes.add("multiline"):(e.on("keydown",function(t){var i;13==t.keyCode&&(t.preventDefault(),e.parents().reverse().each(function(t){return t.toJSON?(i=t,!1):void 0}),e.fire("submit",{data:i.toJSON()}))}),e.on("keyup",function(t){e.state.set("value",t.target.value)}))},repaint:function(){var t,e,i,n,o,r=this,s=0;t=r.getEl().style,e=r._layoutRect,o=r._lastRepaintRect||{};var a=document;return!r.settings.multiline&&a.all&&(!a.documentMode||a.documentMode<=8)&&(t.lineHeight=e.h-s+"px"),i=r.borderBox,n=i.left+i.right+8,s=i.top+i.bottom+(r.settings.multiline?8:0),e.x!==o.x&&(t.left=e.x+"px",o.x=e.x),e.y!==o.y&&(t.top=e.y+"px",o.y=e.y),e.w!==o.w&&(t.width=e.w-n+"px",o.w=e.w),e.h!==o.h&&(t.height=e.h-s+"px",o.h=e.h),r._lastRepaintRect=o,r.fire("repaint",{},!1),r},renderHtml:function(){var t=this,e=t._id,i=t.settings,n=t.encode(t.state.get("value"),!1),o="";return"spellcheck"in i&&(o+=' spellcheck="'+i.spellcheck+'"'),i.maxLength&&(o+=' maxlength="'+i.maxLength+'"'),i.size&&(o+=' size="'+i.size+'"'),i.subtype&&(o+=' type="'+i.subtype+'"'),t.disabled()&&(o+=' disabled="disabled"'),i.multiline?'<textarea id="'+e+'" class="'+t.classes+'" '+(i.rows?' rows="'+i.rows+'"':"")+' hidefocus="1"'+o+">"+n+"</textarea>":'<input id="'+e+'" class="'+t.classes+'" value="'+n+'" hidefocus="1"'+o+" />"},value:function(t){return arguments.length?(this.state.set("value",t),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var t=this;t._super(),t.$el.on("change",function(e){t.state.set("value",e.target.value),t.fire("change",e)})},bindStates:function(){var t=this;return t.state.on("change:value",function(e){t.getEl().value!=e.value&&(t.getEl().value=e.value)}),t.state.on("change:disabled",function(e){t.getEl().disabled=e.value}),t._super()},remove:function(){this.$el.off(),this._super()}})}),/**
 * Throbber.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
n("tinymce/ui/Throbber",["tinymce/dom/DomQuery","tinymce/ui/Control","tinymce/util/Delay"],function(t,e,i){return function(n,o){var r,s=this,a=e.classPrefix;s.show=function(e,l){return s.hide(),r=!0,i.setTimeout(function(){r&&(t(n).append('<div class="'+a+"throbber"+(o?" "+a+"throbber-inline":"")+'"></div>'),l&&l())},e),s},s.hide=function(){var t=n.lastChild;return t&&-1!=t.className.indexOf("throbber")&&t.parentNode.removeChild(t),r=!1,s}}}),r(["tinymce/geom/Rect","tinymce/util/Promise","tinymce/util/Delay","tinymce/dom/EventUtils","tinymce/dom/Sizzle","tinymce/Env","tinymce/util/Tools","tinymce/dom/DomQuery","tinymce/html/Styles","tinymce/dom/TreeWalker","tinymce/html/Entities","tinymce/dom/DOMUtils","tinymce/dom/ScriptLoader","tinymce/AddOnManager","tinymce/dom/RangeUtils","tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/html/DomParser","tinymce/html/Writer","tinymce/html/Serializer","tinymce/dom/Serializer","tinymce/util/VK","tinymce/dom/ControlSelection","tinymce/dom/BookmarkManager","tinymce/dom/Selection","tinymce/Formatter","tinymce/UndoManager","tinymce/EditorCommands","tinymce/util/URI","tinymce/util/Class","tinymce/util/EventDispatcher","tinymce/util/Observable","tinymce/ui/Selector","tinymce/ui/Collection","tinymce/ui/ReflowQueue","tinymce/ui/Control","tinymce/ui/Factory","tinymce/ui/KeyboardNavigation","tinymce/ui/Container","tinymce/ui/DragHelper","tinymce/ui/Scrollable","tinymce/ui/Panel","tinymce/ui/Movable","tinymce/ui/Resizable","tinymce/ui/FloatPanel","tinymce/ui/Window","tinymce/ui/MessageBox","tinymce/WindowManager","tinymce/ui/Tooltip","tinymce/ui/Widget","tinymce/ui/Progress","tinymce/ui/Notification","tinymce/NotificationManager","tinymce/EditorObservable","tinymce/Shortcuts","tinymce/Editor","tinymce/util/I18n","tinymce/FocusManager","tinymce/EditorManager","tinymce/util/XHR","tinymce/util/JSON","tinymce/util/JSONRequest","tinymce/util/JSONP","tinymce/util/LocalStorage","tinymce/Compat","tinymce/ui/Layout","tinymce/ui/AbsoluteLayout","tinymce/ui/Button","tinymce/ui/ButtonGroup","tinymce/ui/Checkbox","tinymce/ui/ComboBox","tinymce/ui/ColorBox","tinymce/ui/PanelButton","tinymce/ui/ColorButton","tinymce/util/Color","tinymce/ui/ColorPicker","tinymce/ui/Path","tinymce/ui/ElementPath","tinymce/ui/FormItem","tinymce/ui/Form","tinymce/ui/FieldSet","tinymce/ui/FilePicker","tinymce/ui/FitLayout","tinymce/ui/FlexLayout","tinymce/ui/FlowLayout","tinymce/ui/FormatControls","tinymce/ui/GridLayout","tinymce/ui/Iframe","tinymce/ui/Label","tinymce/ui/Toolbar","tinymce/ui/MenuBar","tinymce/ui/MenuButton","tinymce/ui/MenuItem","tinymce/ui/Menu","tinymce/ui/ListBox","tinymce/ui/Radio","tinymce/ui/ResizeHandle","tinymce/ui/SelectBox","tinymce/ui/Slider","tinymce/ui/Spacer","tinymce/ui/SplitButton","tinymce/ui/StackLayout","tinymce/ui/TabPanel","tinymce/ui/TextBox","tinymce/ui/Throbber"])}(this),function(t,e){"use strict";t.ajaxPrefilter(function(t,e,i){return t.iframe?"iframe":void 0}),t.ajaxTransport("iframe",function(e,i,n){function o(){u.prop("disabled",!1),s.remove(),a.bind("load",function(){a.remove()}),a.attr("src","javascript:false;")}var r,s=null,a=null,l="iframe-"+t.now(),c=t(e.files).filter(":file:enabled"),u=null;return e.dataTypes.shift(),c.length?(s=t("<form enctype='multipart/form-data' method='post'></form>").hide().attr({action:e.url,target:l}),"string"==typeof e.data&&e.data.length>0&&t.error("data must not be serialized"),t.each(e.data||{},function(e,i){t.isPlainObject(i)&&(e=i.name,i=i.value),t("<input type='hidden' />").attr({name:e,value:i}).appendTo(s)}),t("<input type='hidden' value='IFrame' name='X-Requested-With' />").appendTo(s),r=e.dataTypes[0]&&e.accepts[e.dataTypes[0]]?e.accepts[e.dataTypes[0]]+("*"!==e.dataTypes[0]?", */*; q=0.01":""):e.accepts["*"],t("<input type='hidden' name='X-Http-Accept'>").attr("value",r).appendTo(s),u=c.after(function(e){return t(this).clone().prop("disabled",!0)}).next(),c.appendTo(s),{send:function(e,i){a=t("<iframe src='javascript:false;' name='"+l+"' id='"+l+"' style='display:none'></iframe>"),a.bind("load",function(){a.unbind("load").bind("load",function(){var t=this.contentWindow?this.contentWindow.document:this.contentDocument?this.contentDocument:this.document,e=t.documentElement?t.documentElement:t.body,r=e.getElementsByTagName("textarea")[0],s=r&&r.getAttribute("data-type")||null,a=r&&r.getAttribute("data-status")||200,l=r&&r.getAttribute("data-statusText")||"OK",c={html:e.innerHTML,text:s?r.value:e?e.textContent||e.innerText:null};o(),n.responseText||(n.responseText=c.text),i(a,l,c,s?"Content-Type: "+s:null)}),s[0].submit()}),t("body").append(s,a)},abort:function(){null!==a&&(a.unbind("load").attr("src","javascript:false;"),o())}}):void 0})}(jQuery),function(t){var e;t.remotipart=e={setup:function(i){var n=i.data("ujs:submit-button"),o=t('meta[name="csrf-param"]').attr("content"),r=t('meta[name="csrf-token"]').attr("content"),s=i.find('input[name="'+o+'"]').length;i.one("ajax:beforeSend.remotipart",function(a,l,c){return delete c.beforeSend,c.iframe=!0,c.files=t(t.rails.fileInputSelector,i),c.data=i.serializeArray(),n&&c.data.push(n),c.files.each(function(t,e){for(var i=c.data.length-1;i>=0;i--)c.data[i].name==e.name&&c.data.splice(i,1)}),c.processData=!1,void 0===c.dataType&&(c.dataType="script *"),c.data.push({name:"remotipart_submitted",value:!0}),r&&o&&!s&&c.data.push({name:o,value:r}),t.rails.fire(i,"ajax:remotipartSubmit",[l,c])&&(t.rails.ajax(c),setTimeout(function(){t.rails.disableFormElements(i)},20)),e.teardown(i),!1}).data("remotipartSubmitted",!0)},teardown:function(t){t.unbind("ajax:beforeSend.remotipart").removeData("remotipartSubmitted")}},t(document).on("ajax:aborted:file","form",function(){var i=t(this);return e.setup(i),t.rails.handleRemote(i),!1})}(jQuery),$(document).ready(function(){$("a.fbpopup").click(function(t){var e=600,i=400,n=screen.width/2-e/2,o=screen.height/2-2*i/3,r="menubar=no,toolbar=no,status=no,width="+e+",height="+i+",toolbar=no,left="+n+",top="+o,s=window.open($(this).attr("href"),"_blank",r);return s.focus(),t.preventDefault(),!1}),$("#write_review").live("click",function(){$("#articleReviewSubContainer").show(),$("#write_review_form").dialog({height:450,width:600,modal:!0})}),$("#add_info").live("click",function(){$("#popup_question_answer").dialog({height:350,width:500,modal:!0})}),$("#search_item").autocomplete({source:function(t,e){if("follower"==$("#follow_follow_type").val())var i="profile_follower";else i=$("#follow_follow_type").val();$.ajax({url:"/search/autocomplete_items?type="+i,data:{term:t.term,authenticity_token:window._token},type:"POST",dataType:"json",success:function(t){e($.map(t,function(t){return{id:t.id,value:t.value,type:t.type,url:t.url}}))}})},minLength:2,select:function(t,e){$("#follow_followable_id").val(e.item.id),$("#follow_followable_type").val(e.item.type),$(".follow_form").submit()}}),$("#search_apps").autocomplete({source:"/contents/search_autocomplete_list?sub_type=Apps",minLength:2,select:function(t,e){$("#follow_followable_id").val(e.item.id),$("#follow_followable_type").val(e.item.type),$(".follow_form").submit()}}),$("#search_accessories").autocomplete({source:"/contents/search_autocomplete_list?sub_type=Accessories",minLength:2,select:function(t,e){$("#follow_followable_id").val(e.item.id),$("#follow_followable_type").val(e.item.type),$(".follow_form").submit()}})}),function(t,e,i){"use strict";function n(t,e){var i,o;if("object"==typeof e){for(o=e.length;o--;)if(i="object"!=typeof e[o]?t.attr(e[o]):n(t,e[o]))return i;return""}return t.attr(e)||""}var o=window.console&&"function"==typeof console.log,r={autohide:!1,autoplay:!1,disablekb:!1,enablejsapi:!1,hd:!0,showinfo:!1,version:"4"},s=/span|a|div|td|li|ul|p/gi,a=["width","height","id","name"],l=["id","className"],c="youtube",u=function(e){return o&&t.youtube.debug&&console.log("string"==typeof e?"jQuery Youtube :: "+e:e),null};t.fn.youtube=function(e,i){"object"==typeof e&&(i=e,e=i.type),i=i||{};var n,o,r=this.length,s="string"==typeof e,a=s&&t.youtube.validType(e);for(!a&&s&&(o=e===t.youtube.IFRAME||e===t.youtube.OBJECT?{videoType:e,type:t.youtube.VIDEO}:e?{id:e}:!1)&&(i=t.extend(!0,{},i,o));r--;)n=t.youtube.get(this[r])||new t.youtube(this[r],i),i.reload===!0||n.is_new||a&&n.type!==e?n.init(!a&&n.is_new?t.youtube.VIDEO:e)&&(n.is_new||n.update(i),n.replace(r,this)):n.update(i);return this},t.youtube=function(e,i){return this instanceof t.youtube?(this.element=t(e),this.config=t.extend(!0,{},t.youtube.config,i||{}),void(this.is_new=!0)):new t.youtube(e,i)},t.youtube.prototype={init:function(e){var i,o,r,s=a.length,c=this.config,d=this.config.containers,h=this.element;if(!(i=t.youtube.getObjectFn(e))&&(this.is_new||!(i=t.youtube.getObjectFn(e=this.type))))return u(e+" is not defined");for(c.type=this.type=e;s--;)c[a[s]]=c[a[s]]||h.data(a[s])||n(h,d[a[s]]);if(!c.id)return c.id=this.id||"",u("no id, returns");if(!this.validDims()){if(o=n(h,d.data))try{t.extend(c,t.parseJSON(o))}catch(f){return u("Invalid JSON in "+d.data+"='"+o+"'")}if(!this.validDims())return u(" no dimentions, returns")}if(c.nodeName=h[0].nodeName,!(r=i.call(this,c)))return u("invalid object");for(s=l.length;s--;)h[0][l[s]]&&(r[l[s]]=h[0][l[s]]);t.data(r,h.data()),h.replaceWith(r),h[0]=r;for(s in t.youtube.bind)t.isFunction(t.youtube.bind[s])?h.bind(s,function(t,e){return function(){return t.call(this,e)}}(t.youtube.bind[s],this)):u("unable to bind "+s);return this.is_new=!1,this.id=c.id,this},update:function(e){for(var i in e)this.config[i]=e[i],t.isFunction(this.update[i])&&e[i]!=this.config[i]&&this.update[i].call(this);return this},replace:function(e,i){return t.data(this.element[0],c,this),t.data(i[e],c,this),i[e]=this.element[0],this},validDims:function(){return this.config.height&&this.config.width},isObject:function(){return this.type===t.youtube.VIDEO&&this.config.videoType===t.youtube.OBJECT}},t.extend(t.youtube.prototype.update,{id:function(){var e=this.type===t.youtube.VIDEO?t.youtube.video.url(this.config):t.youtube.image.url(this.config);this.element[0].src=e,this.isObject()&&this.element.find("param[name=movie]").val(e)}}),t.each(["width","height"],function(e,i){t.youtube.prototype.update[i]=function(){this.element[i](this.config[i]),this.isObject()&&this.element.find("embed")[i](this.config[i])}}),t.extend(t.youtube,{IMAGE:"image",VIDEO:"video",IFRAME:"iframe",OBJECT:"object",DATA_ID:c,url:"http://www.youtube.com/",img_url:"http://img.youtube.com/vi/",debug:o,config:function(e,n,o){var r,s=typeof e;if(null!=e)if("object"===s&&null!==e)for(r in e)t.youtube.config[r]=e[r];else if("string"===s){if(n===i)return t.youtube.config[e];t.youtube.config[e]=n}return t.extend(!o,{},t.youtube.config)},image:function(i){var n=e.createElement("img");return n.src=t.youtube.image.url(i),n.width=i.width,n.height=i.height,n},video:function(i){var n=t.youtube.video.url(i),o=i.videoType===t.youtube.IFRAME?t.youtube.video.iframe(i,n):t.youtube.video.object(i,n),r=e.createElement(s.test(i.nodeName)?i.nodeName:i.nodeName="span");return r.appendChild(o),o.width=i.width,o.height=i.height,r},bind:function(e,i){t.youtube.bind[e]=i},get:function(e){return"object"==typeof e&&null!==e?e instanceof t.youtube?e:t.data(e instanceof t&&e[0]?e[0]:e,c):"string"==typeof e?t.youtube.get(t(e)):i},validType:function(e){return-1!==t.inArray(e,[t.youtube.IMAGE,t.youtube.VIDEO])},is:function(e){return(e=t.youtube.get(e))&&e instanceof t.youtube},log:u,getObjectFn:function(e){return e===t.youtube.VIDEO?t.youtube.video:e===t.youtube.IMAGE?t.youtube.image:!1}}),t.youtube.image.url=function(e){return t.youtube.img_url+e.id+"/"+e.imageOffset+".jpg"},t.extend(t.youtube.video,{url:function(e){var i,n,o=e.id+"?";for(i in e)n=e[i],null!=r[i]&&(o+=i+"="+(n===!1?"0":n===!0?"1":n)+"&");return o=o.replace(/&$/,""),e.videoType===t.youtube.IFRAME?t.youtube.url+"embed/"+o:t.youtube.url+"v/"+o+"?fs=1&amp;hl=en_US&amp;rel=0"},iframe:function(t,i){var n=e.createElement("iframe");return n.title=t.name||t.title||"",n.type="text/html",n.src=i,n.frameborder=t.iframeBorder,n},object:function(i,n){var o,r=e.createElement("object");return t.each(["allowFullScreen","allowscriptaccess","movie"],function(t,i){o=e.createElement("param"),o.name=i,o.value="movie"!==i?"true":n,r.appendChild(o)}),o=e.createElement("embed"),o.src=n,o.type="application/x-shockwave-flash",o.allowscriptaccess="true",o.width=i.width,o.height=i.height,r.appendChild(o),r}}),t.extend(t.youtube.config,{iframeBorder:"0",imageOffset:"0",videoType:t.youtube.OBJECT,containers:{name:["title","name"],id:["href","src"],data:"alt",width:"width",height:"height"}},r)}(jQuery,document),function(t){t.widget("ui.dropdownchecklist",{version:function(){alert("DropDownCheckList v1.4")},_appendDropContainer:function(e){var i=t("<div/>");i.addClass("ui-dropdownchecklist ui-dropdownchecklist-dropcontainer-wrapper"),i.addClass("ui-widget"),i.attr("id",e.attr("id")+"-ddw"),i.css({position:"absolute",left:"-33000px",top:"-33000px"});var n=t("<div/>");return n.addClass("ui-dropdownchecklist-dropcontainer ui-widget-content"),n.css("overflow-y","auto"),i.append(n),i.insertAfter(e),i.isOpen=!1,i},_isDropDownKeyShortcut:function(e,i){return e.altKey&&t.ui.keyCode.DOWN==i},_isDropDownCloseKey:function(e,i){return t.ui.keyCode.ESCAPE==i||t.ui.keyCode.ENTER==i},_keyFocusChange:function(e,i,n){var o=t(":focusable"),r=o.index(e);if(r>=0){if(r+=i,n){var s=this.dropWrapper.find("input:not([disabled])"),a=o.index(s.get(0)),l=o.index(s.get(s.length-1));a>r?r=l:r>l&&(r=a)}o.get(r).focus()}},_handleKeyboard:function(e){var i=this,n=e.keyCode||e.which;!i.dropWrapper.isOpen&&i._isDropDownKeyShortcut(e,n)?(e.stopImmediatePropagation(),i._toggleDropContainer(!0)):i.dropWrapper.isOpen&&i._isDropDownCloseKey(e,n)?(e.stopImmediatePropagation(),i._toggleDropContainer(!1),i.controlSelector.focus()):!i.dropWrapper.isOpen||"checkbox"!=e.target.type||n!=t.ui.keyCode.DOWN&&n!=t.ui.keyCode.UP?i.dropWrapper.isOpen&&n==t.ui.keyCode.TAB:(e.stopImmediatePropagation(),i._keyFocusChange(e.target,n==t.ui.keyCode.DOWN?1:-1,!0))},_handleFocus:function(e,i,n){var o=this;n&&!o.dropWrapper.isOpen?(e.stopImmediatePropagation(),i?(o.controlSelector.addClass("ui-state-hover"),null!=t.ui.dropdownchecklist.gLastOpened&&t.ui.dropdownchecklist.gLastOpened._toggleDropContainer(!1)):o.controlSelector.removeClass("ui-state-hover")):n||i||(null!=e&&e.stopImmediatePropagation(),o.controlSelector.removeClass("ui-state-hover"),o._toggleDropContainer(!1))},_cancelBlur:function(t){var e=this;null!=e.blurringItem&&(clearTimeout(e.blurringItem),e.blurringItem=null)},_appendControl:function(){var e=this,i=this.sourceSelect,n=this.options,o=t("<span/>");o.addClass("ui-dropdownchecklist ui-dropdownchecklist-selector-wrapper ui-widget"),o.css({display:"inline-block",cursor:"default",overflow:"hidden"});var r=i.attr("id");r=null==r||""==r?"ddcl-"+t.ui.dropdownchecklist.gIDCounter++:"ddcl-"+r,o.attr("id",r);var s=t("<span/>");s.addClass("ui-dropdownchecklist-selector ui-state-default"),s.css({display:"inline-block",overflow:"hidden","white-space":"nowrap"});var a=i.attr("tabIndex");if(null==a?a=0:(a=parseInt(a),0>a&&(a=0)),s.attr("tabIndex",a),s.keyup(function(t){e._handleKeyboard(t)}),s.focus(function(t){e._handleFocus(t,!0,!0)}),s.blur(function(t){e._handleFocus(t,!1,!0)}),o.append(s),null!=n.icon){var l=null==n.icon.placement?"left":n.icon.placement,c=t("<div/>");c.addClass("ui-icon"),c.addClass(null!=n.icon.toOpen?n.icon.toOpen:"ui-icon-triangle-1-e"),c.css({"float":l}),s.append(c)}var u=t("<span/>");return u.addClass("ui-dropdownchecklist-text"),u.css({display:"inline-block","white-space":"nowrap",overflow:"hidden"}),s.append(u),o.hover(function(){e.disabled||s.addClass("ui-state-hover")},function(){e.disabled||s.removeClass("ui-state-hover")}),o.click(function(t){e.disabled||(t.stopImmediatePropagation(),e._toggleDropContainer(!e.dropWrapper.isOpen))}),o.insertAfter(i),t(window).resize(function(){!e.disabled&&e.dropWrapper.isOpen&&e._toggleDropContainer(!0)}),o},_createDropItem:function(e,i,n,o,r,s,a,l){var c=this,u=this.options,d=this.sourceSelect,h=this.controlWrapper,f=t("<div/>");f.addClass("ui-dropdownchecklist-item"),f.css({"white-space":"nowrap"});var p,m=s?' checked="checked"':"",g=a?' class="inactive"':' class="active"',v=h.attr("id"),y=v+"-i"+e;p=t(c.isMultiple?'<input disabled type="checkbox" id="'+y+'"'+m+g+' tabindex="'+i+'" />':'<input disabled type="radio" id="'+y+'" name="'+v+'"'+m+g+' tabindex="'+i+'" />'),p=p.attr("index",e).val(n),f.append(p);var b=t("<label for="+y+"/>");return b.addClass("ui-dropdownchecklist-text"),null!=r&&b.attr("style",r),b.css({cursor:"default"}),b.html(o),l&&f.addClass("ui-dropdownchecklist-indent"),f.addClass("ui-state-default"),a&&f.addClass("ui-state-disabled"),b.click(function(t){t.stopImmediatePropagation()}),f.append(b),f.hover(function(e){var i=t(this);i.hasClass("ui-state-disabled")||i.addClass("ui-state-hover")},function(e){var i=t(this);i.removeClass("ui-state-hover")}),p.click(function(e){var i=t(this);if(e.stopImmediatePropagation(),i.hasClass("active")){var n=c.options.onItemClick;if(t.isFunction(n))try{n.call(c,i,d.get(0))}catch(o){return i.prop("checked",!i.prop("checked")),void c._syncSelected(i)}c._syncSelected(i),c.sourceSelect.trigger("change","ddcl_internal"),!c.isMultiple&&u.closeRadioOnClick&&c._toggleDropContainer(!1)}}),f.click(function(e){var i=t(this);if(e.stopImmediatePropagation(),i.hasClass("ui-state-disabled"))i.focus(),c._cancelBlur();else{var n=i.find("input"),o=n.prop("checked");n.prop("checked",!o);var r=c.options.onItemClick;if(t.isFunction(r))try{r.call(c,n,d.get(0))}catch(s){return n.prop("checked",o),void c._syncSelected(n)}c._syncSelected(n),c.sourceSelect.trigger("change","ddcl_internal"),o||c.isMultiple||!u.closeRadioOnClick||c._toggleDropContainer(!1)}}),f.focus(function(e){t(this);e.stopImmediatePropagation()}),f.keyup(function(t){c._handleKeyboard(t)}),f},_createGroupItem:function(e,i){var n=this,o=t("<div />");o.addClass("ui-dropdownchecklist-group ui-widget-header"),i&&o.addClass("ui-state-disabled"),o.css({"white-space":"nowrap"});var r=t("<span/>");return r.addClass("ui-dropdownchecklist-text"),r.css({cursor:"default"}),r.text(e),o.append(r),o.click(function(e){var i=t(this);e.stopImmediatePropagation(),i.focus(),n._cancelBlur()}),o.focus(function(e){t(this);e.stopImmediatePropagation()}),o},_createCloseItem:function(e){var i=this,n=t("<div />");n.addClass("ui-state-default ui-dropdownchecklist-close ui-dropdownchecklist-item"),n.css({"white-space":"nowrap","text-align":"right"});var o=t("<span/>");return o.addClass("ui-dropdownchecklist-text"),o.css({cursor:"default"}),o.html(e),n.append(o),n.click(function(e){var n=t(this);e.stopImmediatePropagation(),n.focus(),i._toggleDropContainer(!1)}),n.hover(function(e){t(this).addClass("ui-state-hover")},function(e){t(this).removeClass("ui-state-hover")}),n.focus(function(e){t(this);e.stopImmediatePropagation()}),n},_appendItems:function(){var e=this,i=this.options,n=this.sourceSelect,o=this.dropWrapper,r=o.find(".ui-dropdownchecklist-dropcontainer");if(n.children().each(function(i){var n=t(this);if(n.is("option"))e._appendOption(n,r,i,!1,!1);else if(n.is("optgroup")){var o=n.prop("disabled"),s=n.attr("label");if(""!=s){var a=e._createGroupItem(s,o);r.append(a)}e._appendOptions(n,r,i,!0,o)}}),null!=i.explicitClose){var s=e._createCloseItem(i.explicitClose);r.append(s)}var a=r.outerWidth(),l=r.outerHeight();return{width:a,height:l}},_appendOptions:function(e,i,n,o,r){var s=this;e.children("option").each(function(e){var a=t(this),l=n+"."+e;s._appendOption(a,i,l,o,r)})},_appendOption:function(t,e,i,n,o){var r=this,s=t.html();if(null!=s&&""!=s){var a=t.val(),l=t.attr("style"),c=t.prop("selected"),u=o||t.prop("disabled"),d=r.controlSelector.attr("tabindex"),h=r._createDropItem(i,d,a,s,l,c,u,n);e.append(h)}},_syncSelected:function(e){var i=this,n=this.options,o=this.sourceSelect,r=this.dropWrapper,s=o.get(0).options,a=r.find("input.active");if("exclusive"==n.firstItemChecksAll)if(null==e&&t(s[0]).prop("selected"))a.prop("checked",!1),t(a[0]).prop("checked",!0);else if(null!=e&&0==e.attr("index")){var l=e.prop("checked");a.prop("checked",!1),t(a[0]).prop("checked",l)}else{var c=!0,u=null;a.each(function(e){if(e>0){var i=t(this).prop("checked");i||(c=!1)}else u=t(this)}),null!=u&&(c&&a.prop("checked",!1),u.prop("checked",c))}else if(n.firstItemChecksAll)if(null==e&&t(s[0]).prop("selected"))a.prop("checked",!0);else if(null!=e&&0==e.attr("index"))a.prop("checked",e.prop("checked"));else{var c=!0,u=null;a.each(function(e){if(e>0){var i=t(this).prop("checked");i||(c=!1)}else u=t(this)}),null!=u&&u.prop("checked",c)}var d=0;a=r.find("input"),a.each(function(e){var i=t(s[e+d]),n=i.html();(null==n||""==n)&&(d+=1,i=t(s[e+d])),i.prop("selected",t(this).prop("checked"))}),i._updateControlText(),null!=e&&e.focus()},_sourceSelectChangeHandler:function(t){var e=this,i=this.dropWrapper;i.find("input").val(e.sourceSelect.val()),e._updateControlText()},_updateControlText:function(){var t=this,e=this.sourceSelect,i=this.options,n=this.controlWrapper,o=e.find("option:first"),r=e.find("option"),s=t._formatText(r,i.firstItemChecksAll,o),a=n.find(".ui-dropdownchecklist-text");a.html(s),a.attr("title",a.text())},_formatText:function(e,i,n){var o;if(t.isFunction(this.options.textFormatFunction))try{o=this.options.textFormatFunction(e)}catch(r){alert("textFormatFunction failed: "+r)}else i&&null!=n&&n.prop("selected")?o=n.html():(o="",e.each(function(){if(t(this).prop("selected")){""!=o&&(o+=", ");var e=t(this).attr("style"),i=t("<span/>");i.html(t(this).html()),null==e?o+=i.html():(i.attr("style",e),o+=t("<span/>").append(i).html())}}),""==o&&(o=null!=this.options.emptyText?this.options.emptyText:"&nbsp;"));return o},_toggleDropContainer:function(e){var i=this,n=function(e){if(null!=e&&e.dropWrapper.isOpen){e.dropWrapper.isOpen=!1,t.ui.dropdownchecklist.gLastOpened=null;var i=e.options;e.dropWrapper.css({top:"-33000px",left:"-33000px"});var o=e.controlSelector;o.removeClass("ui-state-active"),o.removeClass("ui-state-hover");var r=e.controlWrapper.find(".ui-icon");if(r.length>0&&(r.removeClass(null!=i.icon.toClose?i.icon.toClose:"ui-icon-triangle-1-s"),r.addClass(null!=i.icon.toOpen?i.icon.toOpen:"ui-icon-triangle-1-e")),t(document).unbind("click",n),e.dropWrapper.find("input.active").prop("disabled",!0),t.isFunction(i.onComplete))try{i.onComplete.call(e,e.sourceSelect.get(0))}catch(s){alert("callback failed: "+s)}}},o=function(e){if(!e.dropWrapper.isOpen){e.dropWrapper.isOpen=!0,t.ui.dropdownchecklist.gLastOpened=e;var i=e.options;null==i.positionHow||"absolute"==i.positionHow?e.dropWrapper.css({position:"absolute",top:e.controlWrapper.position().top+e.controlWrapper.outerHeight()+"px",left:e.controlWrapper.position().left+"px"}):"relative"==i.positionHow&&e.dropWrapper.css({position:"relative",top:"0px",left:"0px"});var o=0;if(null==i.zIndex){var r=e.controlWrapper.parents().map(function(){var e=t(this).css("z-index");return isNaN(e)?0:e}).get(),s=Math.max.apply(Math,r);s>=0&&(o=s+1)}else o=parseInt(i.zIndex);o>0&&e.dropWrapper.css({"z-index":o});var a=e.controlSelector;a.addClass("ui-state-active"),a.removeClass("ui-state-hover");var l=e.controlWrapper.find(".ui-icon");l.length>0&&(l.removeClass(null!=i.icon.toOpen?i.icon.toOpen:"ui-icon-triangle-1-e"),l.addClass(null!=i.icon.toClose?i.icon.toClose:"ui-icon-triangle-1-s")),t(document).bind("click",function(t){n(e)});var c=e.dropWrapper.find("input.active");c.prop("disabled",!1);var u=c.get(0);null!=u&&u.focus()}};e?(n(t.ui.dropdownchecklist.gLastOpened),o(i)):n(i)},_setSize:function(e){var i=this.options,n=this.dropWrapper,o=this.controlWrapper,r=e.width;if(null!=i.width)r=parseInt(i.width);else if(null!=i.minWidth){var s=parseInt(i.minWidth);s>r&&(r=s)}var a=this.controlSelector;a.css({width:r+"px"});var l=a.find(".ui-dropdownchecklist-text"),c=a.find(".ui-icon");null!=c&&(r-=c.outerWidth()+4,l.css({width:r+"px"})),r=o.outerWidth();var u=null!=i.maxDropHeight?parseInt(i.maxDropHeight):-1,d=u>0&&e.height>u?u:e.height,h=e.width<r?r:e.width;t(n).css({height:d+"px",width:h+"px"}),n.find(".ui-dropdownchecklist-dropcontainer").css({height:d+"px"})},_init:function(){var e=this,i=this.options;null==t.ui.dropdownchecklist.gIDCounter&&(t.ui.dropdownchecklist.gIDCounter=1),e.blurringItem=null;var n=e.element;e.initialDisplay=n.css("display"),n.css("display","none"),e.initialMultiple=n.prop("multiple"),e.isMultiple=e.initialMultiple,null!=i.forceMultiple&&(e.isMultiple=i.forceMultiple),n.prop("multiple",!0),e.sourceSelect=n;var o=e._appendControl();e.controlWrapper=o,e.controlSelector=o.find(".ui-dropdownchecklist-selector");var r=e._appendDropContainer(o);e.dropWrapper=r;var s=e._appendItems();e._updateControlText(o,r,n),e._setSize(s),i.firstItemChecksAll&&e._syncSelected(null),i.bgiframe&&"function"==typeof e.dropWrapper.bgiframe&&e.dropWrapper.bgiframe(),e.sourceSelect.change(function(t,i){"ddcl_internal"!=i&&e._sourceSelectChangeHandler(t)})},_refreshOption:function(t,e,i){var n=t.parent();e?(t.prop("disabled",!0),t.removeClass("active"),t.addClass("inactive"),n.addClass("ui-state-disabled")):(t.prop("disabled",!1),t.removeClass("inactive"),t.addClass("active"),n.removeClass("ui-state-disabled")),t.prop("checked",i)},_refreshGroup:function(t,e){e?t.addClass("ui-state-disabled"):t.removeClass("ui-state-disabled")},close:function(){this._toggleDropContainer(!1)},refresh:function(){var e=this,i=this.sourceSelect,n=this.dropWrapper,o=n.find("input"),r=n.find(".ui-dropdownchecklist-group"),s=0,a=0;i.children().each(function(i){var n=t(this),l=n.prop("disabled");if(n.is("option")){var c=n.prop("selected"),u=t(o[a]);e._refreshOption(u,l,c),a+=1}else if(n.is("optgroup")){var d=n.attr("label");if(""!=d){var h=t(r[s]);e._refreshGroup(h,l),s+=1}n.children("option").each(function(){var i=t(this),n=l||i.prop("disabled"),r=i.prop("selected"),s=t(o[a]);e._refreshOption(s,n,r),a+=1})}}),e._syncSelected(null)},enable:function(){this.controlSelector.removeClass("ui-state-disabled"),this.disabled=!1},disable:function(){this.controlSelector.addClass("ui-state-disabled"),this.disabled=!0},destroy:function(){t.Widget.prototype.destroy.apply(this,arguments),this.sourceSelect.css("display",this.initialDisplay),this.sourceSelect.prop("multiple",this.initialMultiple),this.controlWrapper.unbind().remove(),this.dropWrapper.remove()}}),t.extend(t.ui.dropdownchecklist,{defaults:{width:null,maxDropHeight:null,firstItemChecksAll:!1,closeRadioOnClick:!1,minWidth:50,positionHow:"absolute",bgiframe:!1,explicitClose:null}})}(jQuery),/*  5/19/2012
        PikaChoose
    Jquery plugin for photo galleries
    Copyright (C) 2011 Jeremy Fry

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see <http://www.gnu.org/licenses/>.
*/
function(t){var e={autoPlay:!0,speed:5e3,text:{play:"",stop:"",previous:"Previous",next:"Next",loading:"Loading"},transition:[1],showCaption:!0,IESafe:!1,showTooltips:!1,carousel:!1,carouselVertical:!1,animationFinished:null,buildFinished:null,bindsFinished:null,startOn:0,thumbOpacity:.4,hoverPause:!1,animationSpeed:600,fadeThumbsIn:!1,carouselOptions:{},thumbChangeEvent:"click.pikachoose",stopOnClick:!1};t.fn.PikaChoose=function(e){return this.each(function(){t(this).data("pikachoose",new i(this,e))})},t.PikaChoose=function(i,n){if(this.options=t.extend({},e,n||{}),this.list=null,this.image=null,this.anchor=null,this.caption=null,this.imgNav=null,this.imgPlay=null,this.imgPrev=null,this.imgNext=null,this.textNext=null,this.textPrev=null,this.previous=null,this.next=null,this.aniWrap=null,this.aniDiv=null,this.aniImg=null,this.thumbs=null,this.transition=null,this.active=null,this.tooltip=null,this.animating=!1,this.stillOut=null,this.counter=null,this.timeOut=null,this.pikaStage=null,"undefined"!=typeof this.options.data&&(i=t("<ul></ul>").addClass("jcarousel-skin-pika").appendTo(i),t.each(this.options.data,function(){if("undefined"!=typeof this.link){var e=t("<li><a href='"+this.link+"'><img></a></li>").appendTo(i);"undefined"!=typeof this.title&&e.find("a").attr("title",this.title)}else var e=t("<li><img></li>").appendTo(i);"undefined"!=typeof this.caption&&e.append("<span>"+this.caption+"</span>"),"undefined"!=typeof this.thumbnail?(e.find("img").attr("ref",this.image),e.find("img").attr("src",this.thumbnail)):e.find("img").attr("src",this.image)})),i instanceof jQuery||"UL"==i.nodeName.toUpperCase()||"OL"==i.nodeName.toUpperCase()){this.list=t(i),this.build(),this.bindEvents();for(var o=0,r=0,s=0;25>s;s++){var a='<div col="'+o+'" row="'+r+'"></div>';this.aniDiv.append(a),o++,5==o&&(r++,o=0)}}};var i=t.PikaChoose;i.fn=i.prototype={pikachoose:"4.4.8"},t.fn.pikachoose=t.fn.PikaChoose,i.fn.extend=i.extend=t.extend,i.fn.extend({build:function(){this.step=0,this.options.pikaStage?(this.wrap=this.options.pikaStage,this.wrap.addClass("pika-stage")):this.wrap=t("<div class='pika-stage'></div>").insertBefore(this.list),this.image=t("<img>").appendTo(this.wrap),this.imgNav=t("<div class='pika-imgnav'></div>").insertAfter(this.image),this.imgPlay=t("<a></a>").appendTo(this.imgNav),this.counter=t("<span class='pika-counter'></span>").appendTo(this.imgNav),this.options.autoPlay?this.imgPlay.addClass("pause"):this.imgPlay.addClass("play"),this.imgPrev=t("<a class='previous'></a>").insertAfter(this.imgPlay),this.imgNext=t("<a class='next'></a>").insertAfter(this.imgPrev),this.caption=t("<div class='caption'></div>").insertAfter(this.imgNav).hide(),this.tooltip=t("<div class='pika-tooltip'></div>").insertAfter(this.list).hide(),this.aniWrap=t("<div class='pika-aniwrap'></div>").insertAfter(this.caption),this.aniImg=t("<img>").appendTo(this.aniWrap).hide(),this.aniDiv=t("<div class='pika-ani'></div>").appendTo(this.aniWrap),this.textNav=t("<div class='pika-textnav'></div>").insertAfter(this.aniWrap),this.textPrev=t("<a class='previous'>"+this.options.text.previous+"</a>").appendTo(this.textNav),this.textNext=t("<a class='next'>"+this.options.text.next+"</a>").appendTo(this.textNav),this.list.addClass("pika-thumbs"),this.thumbs=this.list.find("img"),this.loader=t("<div class='pika-loader'></div>").appendTo(this.wrap).hide().html(this.options.text.loading),this.active=this.thumbs.eq(this.options.startOn),this.finishAnimating({index:this.options.startOn,source:this.active.attr("ref")||this.active.attr("src"),caption:this.active.parents("li:first").find("span:first").html(),clickThrough:this.active.parent().attr("href")||"",clickThroughTarget:this.active.parent().attr("target")||"",clickThroughTitle:this.active.parent().attr("title")||""}),this.aniDiv.css({position:"relative"});var e=this;if(this.updateThumbs(),this.options.fadeThumbsIn&&this.list.fadeIn(),this.options.carousel){var i={vertical:this.options.carouselVertical,initCallback:function(t){jQuery(t.list).find("img").click(function(i,n){if("undefined"!=typeof n&&"auto"==n.how&&0==e.options.autoPlay)return!1;var o=parseInt(jQuery(this).parents(".jcarousel-item").attr("jcarouselindex")),r=jQuery(this).parents("ul").find("li:last").attr("jcarouselindex")==o-1?!0:!1;r||(o=0>=o-2?0:o-2),o++,t.scroll(o)})}},n=t.extend({},i,this.options.carouselOptions||{});this.list.jcarousel(n)}"function"==typeof this.options.buildFinished&&this.options.buildFinished(this)},createThumb:function(e){var i=e,n=this;if(this.thumbs=this.list.find("img"),"undefined"==typeof t.data(e[0],"source")){e.parents("li:first").wrapInner("<div class='clip' />"),i.hide(),t.data(e[0],"clickThrough",i.parent("a").attr("href")||""),t.data(e[0],"clickThroughTarget",i.parent("a").attr("target")||""),t.data(e[0],"clickThroughTitle",i.parent("a").attr("title")||""),i.parent("a").length>0&&i.unwrap(),t.data(e[0],"caption",i.next("span").html()||""),i.next("span").remove(),t.data(e[0],"source",i.attr("ref")||i.attr("src")),t.data(e[0],"imageTitle",i.attr("title")||""),t.data(e[0],"imageAlt",i.attr("alt")||""),t.data(e[0],"index",this.thumbs.index(e)),t.data(e[0],"order",i.closest("ul").find("li").index(i.parents("li")));var o=t.data(e[0]);t("<img />").bind("load",{data:o},function(){"function"==typeof n.options.buildThumbStart&&n.options.buildThumbStart(n);var e=t(this),r=this.width,s=this.height;0===r&&(r=e.attr("width")),0===s&&(s=e.attr("height"));var a=parseInt(i.parents(".clip").css("height").slice(0,-2)),l=parseInt(i.parents(".clip").css("width").slice(0,-2));0==l&&(l=i.parents("li:first").outerWidth()),0==a&&(a=i.parents("li:first").outerHeight());var c=l/r,u=a/s;u>c?i.css({height:"100%"}):i.css({width:"100%"}),i.hover(function(e){clearTimeout(n.stillOut),t(this).stop(!0,!0).fadeTo(250,1),n.options.showTooltips&&n.tooltip.show().stop(!0,!0).html(o.caption).animate({top:t(this).parent().position().top,left:t(this).parent().position().left,opacity:1},"fast")},function(e){t(this).hasClass("active")||(t(this).stop(!0,!0).fadeTo(250,n.options.thumbOpacity),n.stillOut=setTimeout(n.hideTooltip,700))}),o.order==n.options.startOn?(i.fadeTo(250,1),i.addClass("active"),i.parents("li").eq(0).addClass("active")):i.fadeTo(250,n.options.thumbOpacity),"function"==typeof n.options.buildThumbFinish&&n.options.buildThumbFinish(n)}).attr("src",i.attr("src"))}},bindEvents:function(){this.thumbs.bind(this.options.thumbChangeEvent,{self:this},this.imgClick),this.imgNext.bind("click.pikachoose",{self:this},this.nextClick),this.textNext.bind("click.pikachoose",{self:this},this.nextClick),this.imgPrev.bind("click.pikachoose",{self:this},this.prevClick),this.textPrev.bind("click.pikachoose",{self:this},this.prevClick),this.imgPlay.unbind("click.pikachoose").bind("click.pikachoose",{self:this},this.playClick),this.wrap.unbind("mouseenter.pikachoose").bind("mouseenter.pikachoose",{self:this},function(t){t.data.self.imgNav.stop(!0,!0).fadeTo("slow",1),1==t.data.self.options.hoverPause&&clearTimeout(t.data.self.timeOut)}),this.wrap.unbind("mouseleave.pikachoose").bind("mouseleave.pikachoose",{self:this},function(t){t.data.self.imgNav.stop(!0,!0).fadeTo("slow",0),1==t.data.self.options.autoPlay&&t.data.self.options.hoverPause&&(t.data.self.timeOut=setTimeout(function(t){return function(){t.nextClick()}}(t.data.self),t.data.self.options.speed))}),this.tooltip.unbind("mouseenter.pikachoose").bind("mouseenter.pikachoose",{self:this},function(t){clearTimeout(t.data.self.stillOut)}),this.tooltip.unbind("mouseleave.pikachoose").bind("mouseleave.pikachoose",{self:this},function(t){t.data.self.stillOut=setTimeout(t.data.self.hideTooltip,700)}),"function"==typeof this.options.bindsFinished&&this.options.bindsFinished(this)},hideTooltip:function(e){t(".pika-tooltip").animate({opacity:.01})},imgClick:function(e,i){var n=e.data.self,o=t.data(this);if(!n.animating){if("undefined"==typeof i||"auto"!=i.how)n.options.autoPlay&&n.options.stopOnClick?n.imgPlay.trigger("click"):clearTimeout(n.timeOut);else if(0==n.options.autoPlay)return!1;t(this).attr("src")!==t.data(this).source&&n.loader.fadeIn("fast"),n.caption.fadeOut("slow"),n.animating=!0,n.active.fadeTo(300,n.options.thumbOpacity).removeClass("active"),n.active.parents(".active").eq(0).removeClass("active"),n.active=t(this),n.active.addClass("active").fadeTo(200,1),n.active.parents("li").eq(0).addClass("active"),t("<img />").bind("load",{self:n,data:o},function(){n.loader.fadeOut("fast"),n.aniDiv.css({height:n.image.height(),width:n.image.width()}).show(),n.aniDiv.children("div").css({width:"20%",height:"20%","float":"left"});var e=0;-1==n.options.transition[0]?e=Math.floor(7*Math.random())+1:(e=n.options.transition[n.step],n.step++,n.step>=n.options.transition.length&&(n.step=0)),n.options.IESafe&&t.browser.msie&&(e=1),n.doAnimation(e,o)}).attr("src",t.data(this).source)}},doAnimation:function(e,i){this.aniWrap.css({position:"absolute",top:this.wrap.css("padding-top"),left:this.wrap.css("padding-left"),width:this.wrap.width()});var n=this;n.image.stop(!0,!1),n.caption.stop().fadeOut();var o=n.aniDiv.children("div").eq(0).width(),r=n.aniDiv.children("div").eq(0).height(),s=new Image;switch(t(s).attr("src",i.source),s.height!=n.image.height()||s.width!=n.image.width(),n.aniDiv.css({height:n.image.height(),width:n.image.width()}),n.aniDiv.children().each(function(){var e=t(this),n=Math.floor(e.parent().width()/5)*e.attr("col"),o=Math.floor(e.parent().height()/5)*e.attr("row");e.css({background:"url("+i.source+") -"+n+"px -"+o+"px","background-size":e.parent().width()+"px "+e.parent().height()+"px",width:"0px",height:"0px",position:"absolute",top:o+"px",left:n+"px","float":"none"})}),n.aniDiv.hide(),n.aniImg.hide(),e){case 0:n.image.stop(!0,!0).fadeOut(n.options.animationSpeed,function(){n.image.attr("src",i.source).fadeIn(n.options.animationSpeed,function(){n.finishAnimating(i)})});break;case 1:n.aniDiv.hide(),n.aniImg.height(n.image.height()).hide().attr("src",i.source),n.wrap.css({height:n.image.height()}),t.when(n.image.fadeOut(n.options.animationSpeed),n.aniImg.eq(0).fadeIn(n.options.animationSpeed)).done(function(){n.finishAnimating(i)});break;case 2:n.aniDiv.show().children().hide().each(function(e){var s=30*e;t(this).css({opacity:.1}).show().delay(s).animate({opacity:1,width:o,height:r},200,"linear",function(){24==n.aniDiv.find("div").index(this)&&n.finishAnimating(i)})});break;case 3:n.aniDiv.show().children("div:lt(5)").hide().each(function(e){var r=100*t(this).attr("col");t(this).css({opacity:.1,width:o}).show().delay(r).animate({opacity:1,height:n.image.height()},n.options.animationSpeed,"linear",function(){4==n.aniDiv.find(" div").index(this)&&n.finishAnimating(i)})});break;case 4:n.aniDiv.show().children().hide().each(function(e){if(!(e>4)){var s=30*t(this).attr("col"),a=n.gapper(t(this),r,o),l=.7*n.options.animationSpeed;t(this).css({opacity:.1,height:"100%"}).show().delay(s).animate({opacity:1,width:a.width},l,"linear",function(){4==n.aniDiv.find(" div").index(this)&&n.finishAnimating(i)})}});break;case 5:n.aniDiv.show().children().show().each(function(e){var s=e*Math.floor(5*Math.random())*7,a=n.gapper(t(this),r,o);24==t(".animation div").index(this)&&(s=700),t(this).css({height:a.height,width:a.width,opacity:.01}).delay(s).animate({opacity:1},n.options.animationSpeed,function(){24==n.aniDiv.find(" div").index(this)&&n.finishAnimating(i)})});break;case 6:n.aniDiv.height(n.image.height()).hide().css({background:"url("+i.source+") top left no-repeat"}),n.aniDiv.children("div").hide(),n.aniDiv.css({width:0}).show().animate({width:n.image.width()},n.options.animationSpeed,function(){n.finishAnimating(i),n.aniDiv.css({background:"transparent"})});break;case 7:n.wrap.css({overflow:"hidden"}),n.aniImg.height(n.image.height()).hide().attr("src",i.source),n.aniDiv.hide(),n.image.css({position:"relative"}).animate({left:"-"+n.wrap.outerWidth()+"px"}),n.aniImg.show(),n.aniWrap.css({left:n.wrap.outerWidth()}).show().animate({left:"0px"},n.options.animationSpeed,function(){n.finishAnimating(i)})}},finishAnimating:function(e){this.animating=!1,this.image.attr("src",e.source),this.image.attr("alt",e.imageAlt),this.image.attr("title",e.imageTitle),this.image.css({left:"0"}),this.image.show();var i=this;t("<img />").bind("load",function(){i.aniImg.fadeOut("fast"),i.aniDiv.fadeOut("fast")}).attr("src",e.source);var n=e.index+1,o=this.thumbs.length;if(this.counter.html(n+"/"+o),""!=e.clickThrough?(null==this.anchor&&(this.anchor=this.image.wrap("<a>").parent()),this.anchor.attr("href",e.clickThrough),this.anchor.attr("title",e.clickThroughTitle),this.anchor.attr("target",e.clickThroughTarget)):(this.image.parent("a").length>0&&this.image.unwrap(),this.anchor=null),this.options.showCaption&&""!=e.caption&&null!=e.caption&&this.caption.html(e.caption).fadeTo("slow",1),1==this.options.autoPlay){var i=this;this.timeOut=setTimeout(function(t){return function(){t.nextClick()}}(this),this.options.speed,this.timeOut)}"function"==typeof this.options.animationFinished&&this.options.animationFinished(this)},gapper:function(t,e,i){var n;return 4==t.attr("row")&&(n=this.aniDiv.height()-5*e+e,e=n),4==t.attr("col")&&(n=this.aniDiv.width()-5*i+i,i=n),{height:e,width:i}},nextClick:function(t){var e="natural";try{var i=t.data.self;"function"==typeof t.data.self.options.next&&t.data.self.options.next(this)}catch(n){var i=this;e="auto"}var o=i.active.parents("li:first").next().find("img");0==o.length&&(o=i.list.find("img").eq(0)),o.trigger("click",{how:e})},prevClick:function(t){"function"==typeof t.data.self.options.previous&&t.data.self.options.previous(this);var e=t.data.self,i=e.active.parents("li:first").prev().find("img");0==i.length&&(i=e.list.find("img:last")),i.trigger("click")},playClick:function(t){var e=t.data.self;e.options.autoPlay=!e.options.autoPlay,e.imgPlay.toggleClass("play").toggleClass("pause"),e.options.autoPlay&&e.nextClick()},Next:function(){var t={data:{self:this}};this.nextClick(t)},Prev:function(){var t={data:{self:this}};this.prevClick(t)},Play:function(){if(!this.options.autoPlay){var t={data:{self:this}};this.playClick(t)}},Pause:function(){if(this.options.autoPlay){var t={data:{self:this}};this.playClick(t)}},updateThumbs:function(){var e=this;this.thumbs=this.list.find("img"),this.thumbs.each(function(){e.createThumb(t(this),e)})}})}(jQuery),/*!
 * jCarousel - Riding carousels with jQuery
 *   http://sorgalla.com/jcarousel/
 *
 * Copyright (c) 2006 Jan Sorgalla (http://sorgalla.com)
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 *
 * Built on top of the jQuery library
 *   http://jquery.com
 *
 * Inspired by the "Carousel Component" by Bill Scott
 *   http://billwscott.com/carousel/
 */
function(t){var e={vertical:!1,rtl:!1,start:1,offset:1,size:null,scroll:3,visible:null,animation:"normal",easing:"swing",auto:0,wrap:null,initCallback:null,setupCallback:null,reloadCallback:null,itemLoadCallback:null,itemFirstInCallback:null,itemFirstOutCallback:null,itemLastInCallback:null,itemLastOutCallback:null,itemVisibleInCallback:null,itemVisibleOutCallback:null,animationStepCallback:null,buttonNextHTML:"<div></div>",buttonPrevHTML:"<div></div>",buttonNextEvent:"click",buttonPrevEvent:"click",buttonNextCallback:null,buttonPrevCallback:null,itemFallbackDimension:null},i=!1;t(window).bind("load.jcarousel",function(){i=!0}),t.jcarousel=function(n,o){this.options=t.extend({},e,o||{}),this.autoStopped=this.locked=!1,this.buttonPrevState=this.buttonNextState=this.buttonPrev=this.buttonNext=this.list=this.clip=this.container=null,o&&void 0!==o.rtl||(this.options.rtl="rtl"==(t(n).attr("dir")||t("html").attr("dir")||"").toLowerCase()),this.wh=this.options.vertical?"height":"width",this.lt=this.options.vertical?"top":this.options.rtl?"right":"left";for(var r="",s=n.className.split(" "),a=0;a<s.length;a++)if(-1!=s[a].indexOf("jcarousel-skin")){t(n).removeClass(s[a]),r=s[a];break}"UL"==n.nodeName.toUpperCase()||"OL"==n.nodeName.toUpperCase()?(this.list=t(n),this.clip=this.list.parents(".jcarousel-clip"),this.container=this.list.parents(".jcarousel-container")):(this.container=t(n),this.list=this.container.find("ul,ol").eq(0),this.clip=this.container.find(".jcarousel-clip")),0===this.clip.size()&&(this.clip=this.list.wrap("<div></div>").parent()),0===this.container.size()&&(this.container=this.clip.wrap("<div></div>").parent()),""!==r&&-1==this.container.parent()[0].className.indexOf("jcarousel-skin")&&this.container.wrap('<div class=" '+r+'"></div>'),this.buttonPrev=t(".jcarousel-prev",this.container),0===this.buttonPrev.size()&&null!==this.options.buttonPrevHTML&&(this.buttonPrev=t(this.options.buttonPrevHTML).appendTo(this.container)),this.buttonPrev.addClass(this.className("jcarousel-prev")),this.buttonNext=t(".jcarousel-next",this.container),0===this.buttonNext.size()&&null!==this.options.buttonNextHTML&&(this.buttonNext=t(this.options.buttonNextHTML).appendTo(this.container)),this.buttonNext.addClass(this.className("jcarousel-next")),this.clip.addClass(this.className("jcarousel-clip")).css({position:"relative"}),this.list.addClass(this.className("jcarousel-list")).css({overflow:"hidden",position:"relative",top:0,margin:0,padding:0}).css(this.options.rtl?"right":"left",0),this.container.addClass(this.className("jcarousel-container")).css({position:"relative"}),!this.options.vertical&&this.options.rtl&&this.container.addClass("jcarousel-direction-rtl").attr("dir","rtl");var l=null!==this.options.visible?Math.ceil(this.clipping()/this.options.visible):null,r=this.list.children("li"),c=this;if(r.size()>0){var u=0,d=this.options.offset;r.each(function(){c.format(this,d++),u+=c.dimension(this,l)}),this.list.css(this.wh,u+100+"px"),o&&void 0!==o.size||(this.options.size=r.size())}this.container.css("display","block"),this.buttonNext.css("display","block"),this.buttonPrev.css("display","block"),this.funcNext=function(){c.next()},this.funcPrev=function(){c.prev()},this.funcResize=function(){c.resizeTimer&&clearTimeout(c.resizeTimer),c.resizeTimer=setTimeout(function(){c.reload()},100)},null!==this.options.initCallback&&this.options.initCallback(this,"init"),!i&&t.browser.safari?(this.buttons(!1,!1),t(window).bind("load.jcarousel",function(){c.setup()})):this.setup()};var n=t.jcarousel;n.fn=n.prototype={jcarousel:"0.2.8"},n.fn.extend=n.extend=t.extend,n.fn.extend({setup:function(){if(this.prevLast=this.prevFirst=this.last=this.first=null,this.animating=!1,this.tail=this.resizeTimer=this.timer=null,this.inTail=!1,!this.locked){this.list.css(this.lt,this.pos(this.options.offset)+"px");var e=this.pos(this.options.start,!0);this.prevFirst=this.prevLast=null,this.animate(e,!1),t(window).unbind("resize.jcarousel",this.funcResize).bind("resize.jcarousel",this.funcResize),null!==this.options.setupCallback&&this.options.setupCallback(this)}},reset:function(){this.list.empty(),this.list.css(this.lt,"0px"),this.list.css(this.wh,"10px"),null!==this.options.initCallback&&this.options.initCallback(this,"reset"),this.setup()},reload:function(){if(null!==this.tail&&this.inTail&&this.list.css(this.lt,n.intval(this.list.css(this.lt))+this.tail),this.tail=null,this.inTail=!1,null!==this.options.reloadCallback&&this.options.reloadCallback(this),null!==this.options.visible){var t=this,e=Math.ceil(this.clipping()/this.options.visible),i=0,o=0;this.list.children("li").each(function(n){i+=t.dimension(this,e),n+1<t.first&&(o=i)}),this.list.css(this.wh,i+"px"),this.list.css(this.lt,-o+"px")}this.scroll(this.first,!1)},lock:function(){this.locked=!0,this.buttons()},unlock:function(){this.locked=!1,this.buttons()},size:function(t){return void 0!==t&&(this.options.size=t,this.locked||this.buttons()),this.options.size},has:function(t,e){void 0!==e&&e||(e=t),null!==this.options.size&&e>this.options.size&&(e=this.options.size);for(var i=t;e>=i;i++){var n=this.get(i);if(!n.length||n.hasClass("jcarousel-item-placeholder"))return!1}return!0},get:function(e){return t(">.jcarousel-item-"+e,this.list)},add:function(e,i){var o=this.get(e),r=0,s=t(i);if(0===o.length){for(var a,l=n.intval(e),o=this.create(e);;)if(a=this.get(--l),0>=l||a.length){0>=l?this.list.prepend(o):a.after(o);break}}else r=this.dimension(o);return"LI"==s.get(0).nodeName.toUpperCase()?(o.replaceWith(s),o=s):o.empty().append(i),this.format(o.removeClass(this.className("jcarousel-item-placeholder")),e),s=null!==this.options.visible?Math.ceil(this.clipping()/this.options.visible):null,r=this.dimension(o,s)-r,e>0&&e<this.first&&this.list.css(this.lt,n.intval(this.list.css(this.lt))-r+"px"),this.list.css(this.wh,n.intval(this.list.css(this.wh))+r+"px"),o},remove:function(t){var e=this.get(t);if(e.length&&!(t>=this.first&&t<=this.last)){var i=this.dimension(e);t<this.first&&this.list.css(this.lt,n.intval(this.list.css(this.lt))+i+"px"),e.remove(),this.list.css(this.wh,n.intval(this.list.css(this.wh))-i+"px")}},next:function(){null===this.tail||this.inTail?this.scroll("both"!=this.options.wrap&&"last"!=this.options.wrap||null===this.options.size||this.last!=this.options.size?this.first+this.options.scroll:1):this.scrollTail(!1)},prev:function(){null!==this.tail&&this.inTail?this.scrollTail(!0):this.scroll("both"!=this.options.wrap&&"first"!=this.options.wrap||null===this.options.size||1!=this.first?this.first-this.options.scroll:this.options.size)},scrollTail:function(t){if(!this.locked&&!this.animating&&this.tail){this.pauseAuto();var e=n.intval(this.list.css(this.lt)),e=t?e+this.tail:e-this.tail;this.inTail=!t,this.prevFirst=this.first,this.prevLast=this.last,this.animate(e)}},scroll:function(t,e){!this.locked&&!this.animating&&(this.pauseAuto(),this.animate(this.pos(t),e))},pos:function(t,e){var i=n.intval(this.list.css(this.lt));if(this.locked||this.animating)return i;"circular"!=this.options.wrap&&(t=1>t?1:this.options.size&&t>this.options.size?this.options.size:t);for(var o=this.first>t,r="circular"!=this.options.wrap&&this.first<=1?1:this.first,s=o?this.get(r):this.get(this.last),a=o?r:r-1,l=null,c=0,u=!1,d=0;o?--a>=t:++a<t;)l=this.get(a),u=!l.length,0===l.length&&(l=this.create(a).addClass(this.className("jcarousel-item-placeholder")),s[o?"before":"after"](l),null!==this.first&&"circular"==this.options.wrap&&null!==this.options.size&&(0>=a||a>this.options.size))&&(s=this.get(this.index(a)),s.length&&(l=this.add(a,s.clone(!0)))),s=l,d=this.dimension(l),u&&(c+=d),null!==this.first&&("circular"==this.options.wrap||a>=1&&(null===this.options.size||a<=this.options.size))&&(i=o?i+d:i-d);for(var r=this.clipping(),h=[],f=0,p=0,s=this.get(t-1),a=t;++f;){if(l=this.get(a),u=!l.length,0===l.length&&(l=this.create(a).addClass(this.className("jcarousel-item-placeholder")),0===s.length?this.list.prepend(l):s[o?"before":"after"](l),null!==this.first&&"circular"==this.options.wrap&&null!==this.options.size&&(0>=a||a>this.options.size)&&(s=this.get(this.index(a)),s.length&&(l=this.add(a,s.clone(!0))))),s=l,d=this.dimension(l),0===d)throw Error("jCarousel: No width/height set for items. This will cause an infinite loop. Aborting...");if("circular"!=this.options.wrap&&null!==this.options.size&&a>this.options.size?h.push(l):u&&(c+=d),p+=d,p>=r)break;a++}for(l=0;l<h.length;l++)h[l].remove();if(c>0&&(this.list.css(this.wh,this.dimension(this.list)+c+"px"),o&&(i-=c,this.list.css(this.lt,n.intval(this.list.css(this.lt))-c+"px"))),c=t+f-1,"circular"!=this.options.wrap&&this.options.size&&c>this.options.size&&(c=this.options.size),a>c)for(f=0,a=c,p=0;++f&&(l=this.get(a--),l.length)&&(p+=this.dimension(l),!(p>=r)););for(a=c-f+1,"circular"!=this.options.wrap&&1>a&&(a=1),this.inTail&&o&&(i+=this.tail,this.inTail=!1),this.tail=null,"circular"!=this.options.wrap&&c==this.options.size&&c-f+1>=1&&(o=n.intval(this.get(c).css(this.options.vertical?"marginBottom":"marginRight")),p-o>r)&&(this.tail=p-r-o),e&&t===this.options.size&&this.tail&&(i-=this.tail,this.inTail=!0);t-->a;)i+=this.dimension(this.get(t));return this.prevFirst=this.first,this.prevLast=this.last,this.first=a,this.last=c,i},animate:function(e,i){if(!this.locked&&!this.animating){this.animating=!0;var n=this,o=function(){if(n.animating=!1,0===e&&n.list.css(n.lt,0),!n.autoStopped&&("circular"==n.options.wrap||"both"==n.options.wrap||"last"==n.options.wrap||null===n.options.size||n.last<n.options.size||n.last==n.options.size&&null!==n.tail&&!n.inTail)&&n.startAuto(),n.buttons(),n.notify("onAfterAnimation"),"circular"==n.options.wrap&&null!==n.options.size)for(var t=n.prevFirst;t<=n.prevLast;t++)null!==t&&!(t>=n.first&&t<=n.last)&&(1>t||t>n.options.size)&&n.remove(t)};if(this.notify("onBeforeAnimation"),this.options.animation&&i!==!1){var r=this.options.vertical?{top:e}:this.options.rtl?{right:e}:{left:e},o={duration:this.options.animation,easing:this.options.easing,complete:o};t.isFunction(this.options.animationStepCallback)&&(o.step=this.options.animationStepCallback),this.list.animate(r,o)}else this.list.css(this.lt,e+"px"),o()}},startAuto:function(t){if(void 0!==t&&(this.options.auto=t),0===this.options.auto)return this.stopAuto();if(null===this.timer){this.autoStopped=!1;var e=this;this.timer=window.setTimeout(function(){e.next()},1e3*this.options.auto)}},stopAuto:function(){this.pauseAuto(),this.autoStopped=!0},pauseAuto:function(){null!==this.timer&&(window.clearTimeout(this.timer),this.timer=null)},buttons:function(t,e){null!=t||(t=!this.locked&&0!==this.options.size&&(this.options.wrap&&"first"!=this.options.wrap||null===this.options.size||this.last<this.options.size),this.locked||this.options.wrap&&"first"!=this.options.wrap||null===this.options.size||!(this.last>=this.options.size))||(t=null!==this.tail&&!this.inTail),null!=e||(e=!this.locked&&0!==this.options.size&&(this.options.wrap&&"last"!=this.options.wrap||this.first>1),this.locked||this.options.wrap&&"last"!=this.options.wrap||null===this.options.size||1!=this.first)||(e=null!==this.tail&&this.inTail);var i=this;this.buttonNext.size()>0?(this.buttonNext.unbind(this.options.buttonNextEvent+".jcarousel",this.funcNext),t&&this.buttonNext.bind(this.options.buttonNextEvent+".jcarousel",this.funcNext),this.buttonNext[t?"removeClass":"addClass"](this.className("jcarousel-next-disabled")).attr("disabled",t?!1:!0),null!==this.options.buttonNextCallback&&this.buttonNext.data("jcarouselstate")!=t&&this.buttonNext.each(function(){i.options.buttonNextCallback(i,this,t)}).data("jcarouselstate",t)):null!==this.options.buttonNextCallback&&this.buttonNextState!=t&&this.options.buttonNextCallback(i,null,t),this.buttonPrev.size()>0?(this.buttonPrev.unbind(this.options.buttonPrevEvent+".jcarousel",this.funcPrev),e&&this.buttonPrev.bind(this.options.buttonPrevEvent+".jcarousel",this.funcPrev),this.buttonPrev[e?"removeClass":"addClass"](this.className("jcarousel-prev-disabled")).attr("disabled",e?!1:!0),null!==this.options.buttonPrevCallback&&this.buttonPrev.data("jcarouselstate")!=e&&this.buttonPrev.each(function(){i.options.buttonPrevCallback(i,this,e)}).data("jcarouselstate",e)):null!==this.options.buttonPrevCallback&&this.buttonPrevState!=e&&this.options.buttonPrevCallback(i,null,e),this.buttonNextState=t,this.buttonPrevState=e},notify:function(t){var e=null===this.prevFirst?"init":this.prevFirst<this.first?"next":"prev";this.callback("itemLoadCallback",t,e),this.prevFirst!==this.first&&(this.callback("itemFirstInCallback",t,e,this.first),this.callback("itemFirstOutCallback",t,e,this.prevFirst)),this.prevLast!==this.last&&(this.callback("itemLastInCallback",t,e,this.last),this.callback("itemLastOutCallback",t,e,this.prevLast)),this.callback("itemVisibleInCallback",t,e,this.first,this.last,this.prevFirst,this.prevLast),this.callback("itemVisibleOutCallback",t,e,this.prevFirst,this.prevLast,this.first,this.last)},callback:function(e,i,n,o,r,s,a){if(null!=this.options[e]&&("object"==typeof this.options[e]||"onAfterAnimation"==i)){var l="object"==typeof this.options[e]?this.options[e][i]:this.options[e];if(t.isFunction(l)){var c=this;if(void 0===o)l(c,n,i);else if(void 0===r)this.get(o).each(function(){l(c,this,o,n,i)});else for(var e=function(t){c.get(t).each(function(){l(c,this,t,n,i)})},u=o;r>=u;u++)null!==u&&!(u>=s&&a>=u)&&e(u)}}},create:function(t){return this.format("<li></li>",t)},format:function(e,i){for(var e=t(e),n=e.get(0).className.split(" "),o=0;o<n.length;o++)-1!=n[o].indexOf("jcarousel-")&&e.removeClass(n[o]);return e.addClass(this.className("jcarousel-item")).addClass(this.className("jcarousel-item-"+i)).css({"float":this.options.rtl?"right":"left","list-style":"none"}).attr("jcarouselindex",i),e},className:function(t){return t+" "+t+(this.options.vertical?"-vertical":"-horizontal")},dimension:function(e,i){var o=t(e);if(null==i)return this.options.vertical?o.outerHeight(!0)||n.intval(this.options.itemFallbackDimension):o.outerWidth(!0)||n.intval(this.options.itemFallbackDimension);var r=this.options.vertical?i-n.intval(o.css("marginTop"))-n.intval(o.css("marginBottom")):i-n.intval(o.css("marginLeft"))-n.intval(o.css("marginRight"));return t(o).css(this.wh,r+"px"),this.dimension(o)},clipping:function(){return this.options.vertical?this.clip[0].offsetHeight-n.intval(this.clip.css("borderTopWidth"))-n.intval(this.clip.css("borderBottomWidth")):this.clip[0].offsetWidth-n.intval(this.clip.css("borderLeftWidth"))-n.intval(this.clip.css("borderRightWidth"))},index:function(t,e){return null==e&&(e=this.options.size),Math.round(((t-1)/e-Math.floor((t-1)/e))*e)+1}}),n.extend({defaults:function(i){return t.extend(e,i||{})},intval:function(t){return t=parseInt(t,10),isNaN(t)?0:t},windowLoaded:function(){i=!0}}),t.fn.jcarousel=function(e){if("string"==typeof e){var i=t(this).data("jcarousel"),o=Array.prototype.slice.call(arguments,1);return i[e].apply(i,o)}return this.each(function(){var i=t(this).data("jcarousel");i?(e&&t.extend(i.options,e),i.reload()):t(this).data("jcarousel",new n(this,e))})}}(jQuery),function(){function t(t,e){var i;t||(t={});for(i in e)t[i]=e[i];return t}function e(){var t,e,i=arguments,n={},o=function(t,e){var i,n;"object"!=typeof t&&(t={});for(n in e)e.hasOwnProperty(n)&&(i=e[n],i&&"object"==typeof i&&"[object Array]"!==Object.prototype.toString.call(i)&&"renderTo"!==n&&"number"!=typeof i.nodeType?t[n]=o(t[n]||{},i):t[n]=e[n]);return t};for(i[0]===!0&&(n=i[1],i=Array.prototype.slice.call(i,2)),e=i.length,t=0;e>t;t++)n=o(n,i[t]);return n}function i(){for(var t=0,e=arguments,i=e.length,n={};i>t;t++)n[e[t++]]=e[t];return n}function n(t,e){return parseInt(t,e||10)}function o(t){return"string"==typeof t}function r(t){return"object"==typeof t}function s(t){return"[object Array]"===Object.prototype.toString.call(t)}function a(t){return"number"==typeof t}function l(t){return ft.log(t)/ft.LN10}function c(t){return ft.pow(10,t)}function u(t,e){for(var i=t.length;i--;)if(t[i]===e){t.splice(i,1);break}}function d(t){return t!==W&&null!==t}function h(t,e,i){var n,s,a="setAttribute";if(o(e))d(i)?t[a](e,i):t&&t.getAttribute&&(s=t.getAttribute(e));else if(d(e)&&r(e))for(n in e)t[a](n,e[n]);return s}function f(t){return s(t)?t:[t]}function p(){var t,e,i=arguments,n=i.length;for(t=0;n>t;t++)if(e=i[t],"undefined"!=typeof e&&null!==e)return e}function m(e,i){St&&!Mt&&i&&i.opacity!==W&&(i.filter="alpha(opacity="+100*i.opacity+")"),t(e.style,i)}function g(e,i,n,o,r){var s=dt.createElement(e);return i&&t(s,i),r&&m(s,{padding:0,border:Xt,margin:0}),n&&m(s,n),o&&o.appendChild(s),s}function v(e,i){var n=function(){};return n.prototype=new e,t(n.prototype,i),n}function y(t,e,i,o){var r=q.lang,s=+t||0,a=-1===e?(s.toString().split(".")[1]||"").length:isNaN(e=bt(e))?2:e,l=void 0===i?r.decimalPoint:i,c=void 0===o?r.thousandsSep:o,u=0>s?"-":"",d=String(n(s=bt(s).toFixed(a))),h=d.length>3?d.length%3:0;return u+(h?d.substr(0,h)+c:"")+d.substr(h).replace(/(\d{3})(?=\d)/g,"$1"+c)+(a?l+bt(s-d).toFixed(a).slice(2):"")}function b(t,e){return new Array((e||2)+1-String(t).length).join(0)+t}function x(t,e,i){var n=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(n),i.apply(this,t)}}function _(t,e){var i,n=/f$/,o=/\.([0-9])/,r=q.lang;return n.test(t)?(i=t.match(o),i=i?i[1]:-1,e=y(e,i,r.decimalPoint,t.indexOf(",")>-1?r.thousandsSep:"")):e=Y(t,e),e}function w(t,e){for(var i,n,o,r,s,a,l,c="{",u=!1,d=[];-1!==(l=t.indexOf(c));){if(i=t.slice(0,l),u){for(n=i.split(":"),o=n.shift().split("."),s=o.length,a=e,r=0;s>r;r++)a=a[o[r]];n.length&&(a=_(n.join(":"),a)),d.push(a)}else d.push(i);t=t.slice(l+1),u=!u,c=u?"}":"{"}return d.push(t),d.join("")}function C(t){return ft.pow(10,mt(ft.log(t)/ft.LN10))}function k(t,e,i,n){var o,r;for(i=p(i,1),o=t/i,e||(e=[1,2,2.5,5,10],n&&n.allowDecimals===!1&&(1===i?e=[1,2,5,10]:.1>=i&&(e=[1/i]))),r=0;r<e.length&&(t=e[r],!(o<=(e[r]+(e[r+1]||e[r]))/2));r++);return t*=i}function T(){this.color=0,this.symbol=0}function S(t,e){var i,n,o=t.length;for(n=0;o>n;n++)t[n].ss_i=n;for(t.sort(function(t,n){return i=e(t,n),0===i?t.ss_i-n.ss_i:i}),n=0;o>n;n++)delete t[n].ss_i}function N(t){for(var e=t.length,i=t[0];e--;)t[e]<i&&(i=t[e]);return i}function D(t){for(var e=t.length,i=t[0];e--;)t[e]>i&&(i=t[e]);return i}function E(t,e){var i;for(i in t)t[i]&&t[i]!==e&&t[i].destroy&&t[i].destroy(),delete t[i]}function P(t){U||(U=g(zt)),t&&U.appendChild(t),U.innerHTML=""}function A(t,e){var i="Highcharts error #"+t+": www.highcharts.com/errors/"+t;if(e)throw i;ht.console&&console.log(i)}function M(t){return parseFloat(t.toPrecision(14))}function I(t,e){X=p(t,e.animation)}function $(){var t=q.global.useUTC,e=t?"getUTC":"get",i=t?"setUTC":"set";Z=6e4*(t&&q.global.timezoneOffset||0),J=t?Date.UTC:function(t,e,i,n,o,r){return new Date(t,e,p(i,1),p(n,0),p(o,0),p(r,0)).getTime()},tt=e+"Minutes",et=e+"Hours",it=e+"Day",nt=e+"Date",ot=e+"Month",rt=e+"FullYear",st=i+"Minutes",at=i+"Hours",lt=i+"Date",ct=i+"Month",ut=i+"FullYear"}function R(t){return q=e(!0,q,t),$(),q}function O(){return q}function L(){}function F(t,e,i,n){this.axis=t,this.pos=e,this.type=i||"",this.isNew=!0,i||n||this.addLabel()}function H(){this.init.apply(this,arguments)}function B(){this.init.apply(this,arguments)}function z(t,e,i,n,o,r){var s=t.chart.inverted;this.axis=t,this.isNegative=i,this.options=e,this.x=n,this.total=null,this.points={},this.stack=o,this.percent="percent"===r,this.alignOptions={align:e.align||(s?i?"left":"right":"center"),verticalAlign:e.verticalAlign||(s?"middle":i?"bottom":"top"),y:p(e.y,s?4:i?14:-6),x:p(e.x,s?i?-6:6:0)},this.textAlign=e.textAlign||(s?i?"right":"left":"center")}var W,j,V,U,q,Y,X,G,K,Q,J,Z,tt,et,it,nt,ot,rt,st,at,lt,ct,ut,dt=document,ht=window,ft=Math,pt=ft.round,mt=ft.floor,gt=ft.ceil,vt=ft.max,yt=ft.min,bt=ft.abs,xt=ft.cos,_t=ft.sin,wt=ft.PI,Ct=2*wt/360,kt=navigator.userAgent,Tt=ht.opera,St=/msie/i.test(kt)&&!Tt,Nt=8===dt.documentMode,Dt=/AppleWebKit/.test(kt),Et=/Firefox/.test(kt),Pt=/(Mobile|Android|Windows Phone)/.test(kt),At="http://www.w3.org/2000/svg",Mt=!!dt.createElementNS&&!!dt.createElementNS(At,"svg").createSVGRect,It=Et&&parseInt(kt.split("Firefox/")[1],10)<4,$t=!Mt&&!St&&!!dt.createElement("canvas").getContext,Rt={},Ot=0,Lt=function(){},Ft=[],Ht="Highcharts",Bt="3.0.10",zt="div",Wt="absolute",jt="relative",Vt="hidden",Ut="highcharts-",qt="visible",Yt="px",Xt="none",Gt="M",Kt="L",Qt=/^[0-9]+$/,Jt="",Zt="hover",te="select",ee="millisecond",ie="second",ne="minute",oe="hour",re="day",se="week",ae="month",le="year",ce="stroke-width",ue={},de=ht.Highcharts=ht.Highcharts?A(16,!0):{};Y=function(e,i,n){if(!d(i)||isNaN(i))return"Invalid date";e=p(e,"%Y-%m-%d %H:%M:%S");var o,r=new Date(i-Z),s=r[et](),a=r[it](),l=r[nt](),c=r[ot](),u=r[rt](),h=q.lang,f=h.weekdays,m=t({a:f[a].substr(0,3),A:f[a],d:b(l),e:l,b:h.shortMonths[c],B:h.months[c],m:b(c+1),y:u.toString().substr(2,2),Y:u,H:b(s),I:b(s%12||12),l:s%12||12,M:b(r[tt]()),p:12>s?"AM":"PM",P:12>s?"am":"pm",S:b(r.getSeconds()),L:b(pt(i%1e3),3)},de.dateFormats);for(o in m)for(;-1!==e.indexOf("%"+o);)e=e.replace("%"+o,"function"==typeof m[o]?m[o](i):m[o]);return n?e.substr(0,1).toUpperCase()+e.substr(1):e},T.prototype={wrapColor:function(t){this.color>=t&&(this.color=0)},wrapSymbol:function(t){this.symbol>=t&&(this.symbol=0)}},K=i(ee,1,ie,1e3,ne,6e4,oe,36e5,re,864e5,se,6048e5,ae,26784e5,le,31556952e3),G={init:function(t,e,i){e=e||"";var n,o,r,s,a,l=t.shift,c=e.indexOf("C")>-1,u=c?7:3,d=e.split(" "),h=[].concat(i),f=function(t){for(r=t.length;r--;)t[r]===Gt&&t.splice(r+1,0,t[r+1],t[r+2],t[r+1],t[r+2])};if(c&&(f(d),f(h)),t.isArea&&(s=d.splice(d.length-6,6),a=h.splice(h.length-6,6)),l<=h.length/u&&d.length===h.length)for(;l--;)h=[].concat(h).splice(0,u).concat(h);if(t.shift=0,d.length)for(n=h.length;d.length<n;)o=[].concat(d).splice(d.length-u,u),c&&(o[u-6]=o[u-2],o[u-5]=o[u-1]),d=d.concat(o);return s&&(d=d.concat(s),h=h.concat(a)),[d,h]},step:function(t,e,i,n){var o,r=[],s=t.length;if(1===i)r=n;else if(s===e.length&&1>i)for(;s--;)o=parseFloat(t[s]),r[s]=isNaN(o)?t[s]:i*parseFloat(e[s]-o)+o;else r=e;return r}},function(e){ht.HighchartsAdapter=ht.HighchartsAdapter||e&&{init:function(t){var i,n=e.fx,r=n.step,s=e.Tween,a=s&&s.propHooks,l=e.cssHooks.opacity;e.extend(e.easing,{easeOutQuad:function(t,e,i,n,o){return-n*(e/=o)*(e-2)+i}}),e.each(["cur","_default","width","height","opacity"],function(t,e){var i,o=r;"cur"===e?o=n.prototype:"_default"===e&&s&&(o=a[e],e="set"),i=o[e],i&&(o[e]=function(n){var o;return n=t?n:this,"align"!==n.prop?(o=n.elem,o.attr?o.attr(n.prop,"cur"===e?W:n.now):i.apply(this,arguments)):void 0})}),x(l,"get",function(t,e,i){return e.attr?e.opacity||0:t.call(this,e,i)}),i=function(e){var i,n=e.elem;e.started||(i=t.init(n,n.d,n.toD),e.start=i[0],e.end=i[1],e.started=!0),n.attr("d",t.step(e.start,e.end,e.pos,n.toD))},s?a.d={set:i}:r.d=i,this.each=Array.prototype.forEach?function(t,e){return Array.prototype.forEach.call(t,e)}:function(t,e){for(var i=0,n=t.length;n>i;i++)if(e.call(t[i],t[i],i,t)===!1)return i},e.fn.highcharts=function(){var t,e,i,n="Chart",r=arguments;return o(r[0])&&(n=r[0],r=Array.prototype.slice.call(r,1)),t=r[0],t!==W&&(t.chart=t.chart||{},t.chart.renderTo=this[0],i=new de[n](t,r[1]),e=this),t===W&&(e=Ft[h(this[0],"data-highcharts-chart")]),e}},getScript:e.getScript,inArray:e.inArray,adapterRun:function(t,i){return e(t)[i]()},grep:e.grep,map:function(t,e){for(var i=[],n=0,o=t.length;o>n;n++)i[n]=e.call(t[n],t[n],n,t);return i},offset:function(t){return e(t).offset()},addEvent:function(t,i,n){e(t).bind(i,n)},removeEvent:function(t,i,n){var o=dt.removeEventListener?"removeEventListener":"detachEvent";dt[o]&&t&&!t[o]&&(t[o]=function(){}),e(t).unbind(i,n)},fireEvent:function(i,n,o,r){var s,a=e.Event(n),l="detached"+n;!St&&o&&(delete o.layerX,delete o.layerY),t(a,o),i[n]&&(i[l]=i[n],i[n]=null),e.each(["preventDefault","stopPropagation"],function(t,e){var i=a[e];a[e]=function(){try{i.call(a)}catch(t){"preventDefault"===e&&(s=!0)}}}),e(i).trigger(a),i[l]&&(i[n]=i[l],i[l]=null),!r||a.isDefaultPrevented()||s||r(a)},washMouseEvent:function(t){var e=t.originalEvent||t;return e.pageX===W&&(e.pageX=t.pageX,e.pageY=t.pageY),e},animate:function(t,i,n){var o=e(t);t.style||(t.style={}),i.d&&(t.toD=i.d,i.d=1),o.stop(),i.opacity!==W&&t.attr&&(i.opacity+="px"),o.animate(i,n)},stop:function(t){e(t).stop()}}}(ht.jQuery);var he=ht.HighchartsAdapter,fe=he||{};he&&he.init.call(he,G);var pe=fe.adapterRun,me=fe.getScript,ge=fe.inArray,ve=fe.each,ye=fe.grep,be=fe.offset,xe=fe.map,_e=fe.addEvent,we=fe.removeEvent,Ce=fe.fireEvent,ke=fe.washMouseEvent,Te=fe.animate,Se=fe.stop,Ne={enabled:!0,x:0,y:15,style:{color:"#666",cursor:"default",fontSize:"11px"}};q={colors:["#2f7ed8","#0d233a","#8bbc21","#910000","#1aadce","#492970","#f28f43","#77a1e5","#c42525","#a6c96a"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/3.0.10/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/3.0.10/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#274b6d",fontSize:"16px"}},subtitle:{text:"",align:"center",style:{color:"#4d759e"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:e(Ne,{align:"center",enabled:!1,formatter:function(){return null===this.y?"":y(this.y,-1)},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:Wt,color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#274b6d",fontSize:"12px"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:Wt,width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:jt,top:"1em"},style:{position:Wt,backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:Mt,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',shadow:!0,snap:Pt?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var De=q.plotOptions,Ee=De.line;$();var Pe=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,Ae=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,Me=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,Ie=function(t){function i(t){t&&t.stops?c=xe(t.stops,function(t){return Ie(t[1])}):(l=Pe.exec(t),l?u=[n(l[1]),n(l[2]),n(l[3]),parseFloat(l[4],10)]:(l=Ae.exec(t),l?u=[n(l[1],16),n(l[2],16),n(l[3],16),1]:(l=Me.exec(t),l&&(u=[n(l[1]),n(l[2]),n(l[3]),1]))))}function o(i){var n;return c?(n=e(t),n.stops=[].concat(n.stops),ve(c,function(t,e){n.stops[e]=[n.stops[e][0],t.get(i)]})):n=u&&!isNaN(u[0])?"rgb"===i?"rgb("+u[0]+","+u[1]+","+u[2]+")":"a"===i?u[3]:"rgba("+u.join(",")+")":t,n}function r(t){if(c)ve(c,function(e){e.brighten(t)});else if(a(t)&&0!==t){var e;for(e=0;3>e;e++)u[e]+=n(255*t),u[e]<0&&(u[e]=0),u[e]>255&&(u[e]=255)}return this}function s(t){return u[3]=t,this}var l,c,u=[];return i(t),{get:o,brighten:r,rgba:u,setOpacity:s}};L.prototype={init:function(t,e){var i=this;i.element="span"===e?g(e):dt.createElementNS(At,e),i.renderer=t,i.attrSetters={}},opacity:1,animate:function(t,i,n){var o=p(i,X,!0);Se(this),o?(o=e(o,{}),n&&(o.complete=n),Te(this,t,o)):(this.attr(t),n&&n())},attr:function(t,e){var i,r,s,a,l,c,u,f,m,g=this,v=g.element,y=v.nodeName.toLowerCase(),b=g.renderer,x=g.attrSetters,_=g.shadows,w=g;if(o(t)&&d(e)&&(i=t,t={},t[i]=e),o(t))i=t,"circle"===y?i={x:"cx",y:"cy"}[i]||i:"strokeWidth"===i&&(i="stroke-width"),w=h(v,i)||g[i]||0,"d"!==i&&"visibility"!==i&&"fill"!==i&&(w=parseFloat(w));else{for(i in t)if(c=!1,r=t[i],s=x[i]&&x[i].call(g,r,i),s!==!1){if(s!==W&&(r=s),"d"===i)r&&r.join&&(r=r.join(" ")),/(NaN| {2}|^$)/.test(r)&&(r="M 0 0");else if("x"===i&&"text"===y)for(a=0;a<v.childNodes.length;a++)l=v.childNodes[a],h(l,"x")===h(v,"x")&&h(l,"x",r);else if(!g.rotation||"x"!==i&&"y"!==i)if("fill"===i)r=b.color(r,v,i);else if("circle"!==y||"x"!==i&&"y"!==i)if("rect"===y&&"r"===i)h(v,{rx:r,ry:r}),c=!0;else if("translateX"===i||"translateY"===i||"rotation"===i||"verticalAlign"===i||"scaleX"===i||"scaleY"===i)m=!0,c=!0;else if("stroke"===i)r=b.color(r,v,i);else if("dashstyle"===i){if(i="stroke-dasharray",r=r&&r.toLowerCase(),"solid"===r)r=Xt;else if(r){for(r=r.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),a=r.length;a--;)r[a]=n(r[a])*p(t["stroke-width"],g["stroke-width"]);r=r.join(",")}}else"width"===i?r=n(r):"align"===i?(i="text-anchor",r={left:"start",center:"middle",right:"end"}[r]):"title"===i&&(u=v.getElementsByTagName("title")[0],u||(u=dt.createElementNS(At,"title"),v.appendChild(u)),u.textContent=r);else i={x:"cx",y:"cy"}[i]||i;else m=!0;if("strokeWidth"===i&&(i="stroke-width"),("stroke-width"===i||"stroke"===i)&&(g[i]=r,g.stroke&&g["stroke-width"]?(h(v,"stroke",g.stroke),h(v,"stroke-width",g["stroke-width"]),g.hasStroke=!0):"stroke-width"===i&&0===r&&g.hasStroke&&(v.removeAttribute("stroke"),g.hasStroke=!1),c=!0),g.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(i)&&(f||(g.symbolAttr(t),f=!0),c=!0),_&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(i))for(a=_.length;a--;)h(_[a],i,"height"===i?vt(r-(_[a].cutHeight||0),0):r);("width"===i||"height"===i)&&"rect"===y&&0>r&&(r=0),g[i]=r,"text"===i?r!==g.textStr&&(delete g.bBox,g.textStr=r,g.added&&b.buildText(g)):c||void 0!==r&&v.setAttribute(i,r)}m&&g.updateTransform()}return w},addClass:function(t){var e=this.element,i=h(e,"class")||"";return-1===i.indexOf(t)&&h(e,"class",i+" "+t),this},symbolAttr:function(t){var e=this;ve(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(i){e[i]=p(t[i],e[i])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":Xt)},crisp:function(t){var e,i,n=this,o={},r=t.strokeWidth||n.strokeWidth||n.attr&&n.attr("stroke-width")||0;i=pt(r)%2/2,t.x=mt(t.x||n.x||0)+i,t.y=mt(t.y||n.y||0)+i,t.width=mt((t.width||n.width||0)-2*i),t.height=mt((t.height||n.height||0)-2*i),t.strokeWidth=r;for(e in t)n[e]!==t[e]&&(n[e]=o[e]=t[e]);return o},css:function(e){var i,o,r,s=this,a=s.styles,l={},c=s.element,u="",d=!a;if(e&&e.color&&(e.fill=e.color),a)for(o in e)e[o]!==a[o]&&(l[o]=e[o],d=!0);if(d){if(i=s.textWidth=e&&e.width&&"text"===c.nodeName.toLowerCase()&&n(e.width),a&&(e=t(a,l)),s.styles=e,i&&($t||!Mt&&s.renderer.forExport)&&delete e.width,St&&!Mt)m(s.element,e);else{r=function(t,e){return"-"+e.toLowerCase()};for(o in e)u+=o.replace(/([A-Z])/g,r)+":"+e[o]+";";h(c,"style",u)}i&&s.added&&s.renderer.buildText(s)}return s},on:function(t,e){var i=this,n=i.element;return V&&"click"===t?(n.ontouchstart=function(t){i.touchEventFired=Date.now(),t.preventDefault(),e.call(n,t)},n.onclick=function(t){
(-1===kt.indexOf("Android")||Date.now()-(i.touchEventFired||0)>1100)&&e.call(n,t)}):n["on"+t]=e,this},setRadialReference:function(t){return this.element.radialReference=t,this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(){var t=this;return t.inverted=!0,t.updateTransform(),t},updateTransform:function(){var t,e=this,i=e.translateX||0,n=e.translateY||0,o=e.scaleX,r=e.scaleY,s=e.inverted,a=e.rotation;s&&(i+=e.attr("width"),n+=e.attr("height")),t=["translate("+i+","+n+")"],s?t.push("rotate(90) scale(-1,1)"):a&&t.push("rotate("+a+" "+(e.x||0)+" "+(e.y||0)+")"),(d(o)||d(r))&&t.push("scale("+p(o,1)+" "+p(r,1)+")"),t.length&&h(e.element,"transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,i){var n,r,s,a,l,c={},d=this.renderer,h=d.alignedObjects;return t?(this.alignOptions=t,this.alignByTranslate=e,(!i||o(i))&&(this.alignTo=l=i||"renderer",u(h,this),h.push(this),i=null)):(t=this.alignOptions,e=this.alignByTranslate,l=this.alignTo),i=p(i,d[l],d),n=t.align,r=t.verticalAlign,s=(i.x||0)+(t.x||0),a=(i.y||0)+(t.y||0),("right"===n||"center"===n)&&(s+=(i.width-(t.width||0))/{right:1,center:2}[n]),c[e?"translateX":"x"]=pt(s),("bottom"===r||"middle"===r)&&(a+=(i.height-(t.height||0))/({bottom:1,middle:2}[r]||1)),c[e?"translateY":"y"]=pt(a),this[this.placed?"animate":"attr"](c),this.placed=!0,this.alignAttr=c,this},getBBox:function(){var e,i,n,o=this,r=o.bBox,s=o.renderer,a=o.rotation,l=o.element,c=o.styles,u=a*Ct,d=o.textStr;if((""===d||Qt.test(d))&&(n=d.toString().length+(c?"|"+c.fontSize+"|"+c.fontFamily:""),r=s.cache[n]),!r){if(l.namespaceURI===At||s.forExport){try{r=l.getBBox?t({},l.getBBox()):{width:l.offsetWidth,height:l.offsetHeight}}catch(h){}(!r||r.width<0)&&(r={width:0,height:0})}else r=o.htmlGetBBox();s.isSVG&&(e=r.width,i=r.height,St&&c&&"11px"===c.fontSize&&"16.9"===i.toPrecision(3)&&(r.height=i=14),a&&(r.width=bt(i*_t(u))+bt(e*xt(u)),r.height=bt(i*xt(u))+bt(e*_t(u)))),o.bBox=r,n&&(s.cache[n]=r)}return r},show:function(t){return this.attr({visibility:t?"inherit":qt})},hide:function(){return this.attr({visibility:Vt})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.hide()}})},add:function(t){var e,i,o,r,s,a=this.renderer,l=t||a,c=l.element||a.box,u=this.element,f=this.zIndex;if(t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&a.buildText(this),f&&(l.handleZ=!0,f=n(f)),l.handleZ)for(e=c.childNodes,r=0;r<e.length;r++)if(i=e[r],o=h(i,"zIndex"),i!==u&&(n(o)>f||!d(f)&&d(o))){c.insertBefore(u,i),s=!0;break}return s||c.appendChild(u),this.added=!0,this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t,e,i,n=this,o=n.element||{},r=n.shadows,s=n.renderer.isSVG&&"SPAN"===o.nodeName&&n.parentGroup;if(o.onclick=o.onmouseout=o.onmouseover=o.onmousemove=o.point=null,Se(n),n.clipPath&&(n.clipPath=n.clipPath.destroy()),n.stops){for(i=0;i<n.stops.length;i++)n.stops[i]=n.stops[i].destroy();n.stops=null}for(n.safeRemoveChild(o),r&&ve(r,function(t){n.safeRemoveChild(t)});s&&0===s.div.childNodes.length;)t=s.parentGroup,n.safeRemoveChild(s.div),delete s.div,s=t;n.alignTo&&u(n.renderer.alignedObjects,n);for(e in n)delete n[e];return null},shadow:function(t,e,i){var n,o,r,s,a,l,c=[],u=this.element;if(t){for(s=p(t.width,3),a=(t.opacity||.15)/s,l=this.parentInverted?"(-1,-1)":"("+p(t.offsetX,1)+", "+p(t.offsetY,1)+")",n=1;s>=n;n++)o=u.cloneNode(0),r=2*s+1-2*n,h(o,{isShadow:"true",stroke:t.color||"black","stroke-opacity":a*n,"stroke-width":r,transform:"translate"+l,fill:Xt}),i&&(h(o,"height",vt(h(o,"height")-r,0)),o.cutHeight=r),e?e.element.appendChild(o):u.parentNode.insertBefore(o,u),c.push(o);this.shadows=c}return this}};var $e=function(){this.init.apply(this,arguments)};$e.prototype={Element:L,init:function(t,e,i,n,o){var r,s,a,l=this,c=location;r=l.createElement("svg").attr({version:"1.1"}).css(this.getStyle(n)),s=r.element,t.appendChild(s),-1===t.innerHTML.indexOf("xmlns")&&h(s,"xmlns",At),l.isSVG=!0,l.box=s,l.boxWrapper=r,l.alignedObjects=[],l.url=(Et||Dt)&&dt.getElementsByTagName("base").length?c.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",a=this.createElement("desc").add(),a.element.appendChild(dt.createTextNode("Created with "+Ht+" "+Bt)),l.defs=this.createElement("defs").add(),l.forExport=o,l.gradients={},l.cache={},l.setSize(e,i,!1);var u,d;Et&&t.getBoundingClientRect&&(l.subPixelFix=u=function(){m(t,{left:0,top:0}),d=t.getBoundingClientRect(),m(t,{left:gt(d.left)-d.left+Yt,top:gt(d.top)-d.top+Yt})},u(),_e(ht,"resize",u))},getStyle:function(e){return this.style=t({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},e)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this,e=t.defs;return t.box=null,t.boxWrapper=t.boxWrapper.destroy(),E(t.gradients||{}),t.gradients=null,e&&(t.defs=e.destroy()),t.subPixelFix&&we(ht,"resize",t.subPixelFix),t.alignedObjects=null,null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:function(){},buildText:function(t){for(var e=t.element,i=this,o=i.forExport,r=p(t.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),s=e.childNodes,a=/<.*style="([^"]+)".*>/,l=/<.*href="(http[^"]+)".*>/,c=h(e,"x"),u=t.styles,d=t.textWidth,f=u&&u.lineHeight,g=s.length,v=function(t){return f?n(f):i.fontMetrics(/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:u.fontSize||11).h};g--;)e.removeChild(s[g]);d&&!t.added&&this.box.appendChild(e),""===r[r.length-1]&&r.pop(),ve(r,function(n,r){var s,f=0;n=n.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),s=n.split("|||"),ve(s,function(n){if(""!==n||1===s.length){var p,g={},y=dt.createElementNS(At,"tspan");if(a.test(n)&&(p=n.match(a)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),h(y,"style",p)),l.test(n)&&!o&&(h(y,"onclick",'location.href="'+n.match(l)[1]+'"'),m(y,{cursor:"pointer"})),n=(n.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">")," "!==n&&(y.appendChild(dt.createTextNode(n)),f?g.dx=0:g.x=c,h(y,g),!f&&r&&(!Mt&&o&&m(y,{display:"block"}),h(y,"dy",v(y),Dt&&y.offsetHeight)),e.appendChild(y),f++,d))for(var b,x,_,w=n.replace(/([^\^])-/g,"$1- ").split(" "),C=w.length>1&&"nowrap"!==u.whiteSpace,k=t._clipHeight,T=[],S=v(),N=1;C&&(w.length||T.length);)delete t.bBox,_=t.getBBox(),x=_.width,!Mt&&i.forExport&&(x=i.measureSpanWidth(y.firstChild.data,t.styles)),b=x>d,b&&1!==w.length?(y.removeChild(y.firstChild),T.unshift(w.pop())):(w=T,T=[],w.length&&(N++,k&&N*S>k?(w=["..."],t.attr("title",t.textStr)):(y=dt.createElementNS(At,"tspan"),h(y,{dy:S,x:c}),p&&h(y,"style",p),e.appendChild(y),x>d&&(d=x)))),w.length&&y.appendChild(dt.createTextNode(w.join(" ").replace(/- /g,"-")))}})})},button:function(i,n,o,r,s,a,l,c,u){var d,h,f,p,m,g,v=this.label(i,n,o,u,null,null,null,null,"button"),y=0,b="style",x={x1:0,y1:0,x2:0,y2:1};return s=e({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:x,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},s),f=s[b],delete s[b],a=e(s,{stroke:"#68A",fill:{linearGradient:x,stops:[[0,"#FFF"],[1,"#ACF"]]}},a),p=a[b],delete a[b],l=e(s,{stroke:"#68A",fill:{linearGradient:x,stops:[[0,"#9BD"],[1,"#CDF"]]}},l),m=l[b],delete l[b],c=e(s,{style:{color:"#CCC"}},c),g=c[b],delete c[b],_e(v.element,St?"mouseover":"mouseenter",function(){3!==y&&v.attr(a).css(p)}),_e(v.element,St?"mouseout":"mouseleave",function(){3!==y&&(d=[s,a,l][y],h=[f,p,m][y],v.attr(d).css(h))}),v.setState=function(t){v.state=y=t,t?2===t?v.attr(l).css(m):3===t&&v.attr(c).css(g):v.attr(s).css(f)},v.on("click",function(){3!==y&&r.call(v)}).attr(s).css(t({cursor:"default"},f))},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=pt(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=pt(t[2])+e%2/2),t},path:function(e){var i={fill:Xt};return s(e)?i.d=e:r(e)&&t(i,e),this.createElement("path").attr(i)},circle:function(t,e,i){var n=r(t)?t:{x:t,y:e,r:i};return this.createElement("circle").attr(n)},arc:function(t,e,i,n,o,s){var a;return r(t)&&(e=t.y,i=t.r,n=t.innerR,o=t.start,s=t.end,t=t.x),a=this.symbol("arc",t||0,e||0,i||0,i||0,{innerR:n||0,start:o||0,end:s||0}),a.r=i,a},rect:function(t,e,i,n,o,s){o=r(t)?t.r:o;var a=this.createElement("rect"),l=r(t)?t:t===W?{}:{x:t,y:e,width:vt(i,0),height:vt(n,0)};return s!==W&&(l.strokeWidth=s,l=a.crisp(l)),o&&(l.r=o),a.attr(l)},setSize:function(t,e,i){var n=this,o=n.alignedObjects,r=o.length;for(n.width=t,n.height=e,n.boxWrapper[p(i,!0)?"animate":"attr"]({width:t,height:e});r--;)o[r].align()},g:function(t){var e=this.createElement("g");return d(t)?e.attr({"class":Ut+t}):e},image:function(e,i,n,o,r){var s,a={preserveAspectRatio:Xt};return arguments.length>1&&t(a,{x:i,y:n,width:o,height:r}),s=this.createElement("image").attr(a),s.element.setAttributeNS?s.element.setAttributeNS("http://www.w3.org/1999/xlink","href",e):s.element.setAttribute("hc-svg-href",e),s},symbol:function(e,i,n,o,r,s){var a,l,c,u,d,h=this.symbols[e],f=h&&h(pt(i),pt(n),o,r,s),p=/^url\((.*?)\)$/;return f?(a=this.path(f),t(a,{symbolName:e,x:i,y:n,width:o,height:r}),s&&t(a,s)):p.test(e)&&(d=function(t,e){t.element&&(t.attr({width:e[0],height:e[1]}),t.alignByTranslate||t.translate(pt((o-e[0])/2),pt((r-e[1])/2)))},c=e.match(p)[1],u=Rt[c],a=this.image(c).attr({x:i,y:n}),a.isImg=!0,u?d(a,u):(a.attr({width:0,height:0}),l=g("img",{onload:function(){d(a,Rt[c]=[this.width,this.height])},src:c}))),a},symbols:{circle:function(t,e,i,n){var o=.166*i;return[Gt,t+i/2,e,"C",t+i+o,e,t+i+o,e+n,t+i/2,e+n,"C",t-o,e+n,t-o,e,t+i/2,e,"Z"]},square:function(t,e,i,n){return[Gt,t,e,Kt,t+i,e,t+i,e+n,t,e+n,"Z"]},triangle:function(t,e,i,n){return[Gt,t+i/2,e,Kt,t+i,e+n,t,e+n,"Z"]},"triangle-down":function(t,e,i,n){return[Gt,t,e,Kt,t+i,e,t+i/2,e+n,"Z"]},diamond:function(t,e,i,n){return[Gt,t+i/2,e,Kt,t+i,e+n/2,t+i/2,e+n,t,e+n/2,"Z"]},arc:function(t,e,i,n,o){var r=o.start,s=o.r||i||n,a=o.end-.001,l=o.innerR,c=o.open,u=xt(r),d=_t(r),h=xt(a),f=_t(a),p=o.end-r<wt?0:1;return[Gt,t+s*u,e+s*d,"A",s,s,0,p,1,t+s*h,e+s*f,c?Gt:Kt,t+l*h,e+l*f,"A",l,l,0,p,0,t+l*u,e+l*d,c?"":"Z"]}},clipRect:function(t,e,i,n){var o,r=Ut+Ot++,s=this.createElement("clipPath").attr({id:r}).add(this.defs);return o=this.rect(t,e,i,n,0).add(s),o.id=r,o.clipPath=s,o},color:function(t,i,n){var o,r,a,l,c,u,f,p,m,g,v,y=this,b=/^rgba/,x=[];if(t&&t.linearGradient?r="linearGradient":t&&t.radialGradient&&(r="radialGradient"),r){a=t[r],l=y.gradients,u=t.stops,m=i.radialReference,s(a)&&(t[r]=a={x1:a[0],y1:a[1],x2:a[2],y2:a[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===r&&m&&!d(a.gradientUnits)&&(a=e(a,{cx:m[0]-m[2]/2+a.cx*m[2],cy:m[1]-m[2]/2+a.cy*m[2],r:a.r*m[2],gradientUnits:"userSpaceOnUse"}));for(g in a)"id"!==g&&x.push(g,a[g]);for(g in u)x.push(u[g]);return x=x.join(","),l[x]?v=l[x].id:(a.id=v=Ut+Ot++,l[x]=c=y.createElement(r).attr(a).add(y.defs),c.stops=[],ve(u,function(t){var e;b.test(t[1])?(o=Ie(t[1]),f=o.get("rgb"),p=o.get("a")):(f=t[1],p=1),e=y.createElement("stop").attr({offset:t[0],"stop-color":f,"stop-opacity":p}).add(c),c.stops.push(e)})),"url("+y.url+"#"+v+")"}return b.test(t)?(o=Ie(t),h(i,n+"-opacity",o.get("a")),o.get("rgb")):(i.removeAttribute(n+"-opacity"),t)},text:function(t,e,i,n){var o,r=this,s=$t||!Mt&&r.forExport;return n&&!r.forExport?r.html(t,e,i):(e=pt(p(e,0)),i=pt(p(i,0)),o=r.createElement("text").attr({x:e,y:i,text:t}),s&&o.css({position:Wt}),o.x=e,o.y=i,o)},fontMetrics:function(t){t=t||this.style.fontSize,t=/px/.test(t)?n(t):/em/.test(t)?12*parseFloat(t):12;var e=24>t?t+4:pt(1.2*t),i=pt(.8*e);return{h:e,b:i}},label:function(i,n,o,r,s,a,l,c,u){function h(){var t,i,n=T.element.style;g=(void 0===v||void 0===y||k.styles.textAlign)&&T.textStr&&T.getBBox(),k.width=(v||g.width||0)+2*N+D,k.height=(y||g.height||0)+2*N,_=N+C.fontMetrics(n&&n.fontSize).b,w&&(m||(t=pt(-S*N),i=c?-_:0,k.box=m=r?C.symbol(r,t,i,k.width,k.height,P):C.rect(t,i,k.width,k.height,0,P[ce]),m.attr("fill",Xt).add(k)),m.isImg||m.attr(e({width:k.width,height:k.height},P)),P=null)}function f(){var t,e=k.styles,i=e&&e.textAlign,n=D+N*(1-S);t=c?0:_,d(v)&&g&&("center"===i||"right"===i)&&(n+={center:.5,right:1}[i]*(v-g.width)),(n!==T.x||t!==T.y)&&T.attr({x:n,y:t}),T.x=n,T.y=t}function p(t,e){m?m.attr(t,e):P[t]=e}var m,g,v,y,b,x,_,w,C=this,k=C.g(u),T=C.text("",0,0,l).attr({zIndex:1}),S=0,N=3,D=0,E=0,P={},A=k.attrSetters;k.onAdd=function(){T.add(k),k.attr({text:i,x:n,y:o}),m&&d(s)&&k.attr({anchorX:s,anchorY:a})},A.width=function(t){return v=t,!1},A.height=function(t){return y=t,!1},A.padding=function(t){return d(t)&&t!==N&&(N=t,f()),!1},A.paddingLeft=function(t){return d(t)&&t!==D&&(D=t,f()),!1},A.align=function(t){return S={left:0,center:.5,right:1}[t],!1},A.text=function(t,e){return T.attr(e,t),h(),f(),!1},A[ce]=function(t,e){return t&&(w=!0),E=t%2/2,p(e,t),!1},A.stroke=A.fill=A.r=function(t,e){return"fill"===e&&t&&(w=!0),p(e,t),!1},A.anchorX=function(t,e){return s=t,p(e,t+E-b),!1},A.anchorY=function(t,e){return a=t,p(e,t-x),!1},A.x=function(t){return k.x=t,t-=S*((v||g.width)+N),b=pt(t),k.attr("translateX",b),!1},A.y=function(t){return x=k.y=pt(t),k.attr("translateY",x),!1};var M=k.css;return t(k,{css:function(t){if(t){var i={};t=e(t),ve(["fontSize","fontWeight","fontFamily","color","lineHeight","width","textDecoration","textShadow"],function(e){t[e]!==W&&(i[e]=t[e],delete t[e])}),T.css(i)}return M.call(k,t)},getBBox:function(){return{width:g.width+2*N,height:g.height+2*N,x:g.x-N,y:g.y-N}},shadow:function(t){return m&&m.shadow(t),k},destroy:function(){we(k.element,"mouseenter"),we(k.element,"mouseleave"),T&&(T=T.destroy()),m&&(m=m.destroy()),L.prototype.destroy.call(k),k=C=h=f=p=null}})}},j=$e,t(L.prototype,{htmlCss:function(e){var i=this,n=i.element,o=e&&"SPAN"===n.tagName&&e.width;return o&&(delete e.width,i.textWidth=o,i.updateTransform()),i.styles=t(i.styles,e),m(i.element,e),i},htmlGetBBox:function(){var t=this,e=t.element,i=t.bBox;return i||("text"===e.nodeName&&(e.style.position=Wt),i=t.bBox={x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}),i},htmlUpdateTransform:function(){if(!this.added)return void(this.alignOnAdd=!0);var t=this,e=t.renderer,i=t.element,o=t.translateX||0,r=t.translateY||0,s=t.x||0,a=t.y||0,l=t.textAlign||"left",c={left:0,center:.5,right:1}[l],u=t.shadows;if(m(i,{marginLeft:o,marginTop:r}),u&&ve(u,function(t){m(t,{marginLeft:o+1,marginTop:r+1})}),t.inverted&&ve(i.childNodes,function(t){e.invertChild(t,i)}),"SPAN"===i.tagName){var h,f,g=t.rotation,v=n(t.textWidth),y=[g,l,i.innerHTML,t.textWidth].join(",");y!==t.cTT&&(f=e.fontMetrics(i.style.fontSize).b,d(g)&&t.setSpanRotation(g,c,f),h=p(t.elemWidth,i.offsetWidth),h>v&&/[ \-]/.test(i.textContent||i.innerText)&&(m(i,{width:v+Yt,display:"block",whiteSpace:"normal"}),h=v),t.getSpanCorrection(h,f,c,g,l)),m(i,{left:s+(t.xCorr||0)+Yt,top:a+(t.yCorr||0)+Yt}),Dt&&(f=i.offsetHeight),t.cTT=y}},setSpanRotation:function(t,e,i){var n={},o=St?"-ms-transform":Dt?"-webkit-transform":Et?"MozTransform":Tt?"-o-transform":"";n[o]=n.transform="rotate("+t+"deg)",n[o+(Et?"Origin":"-origin")]=n.transformOrigin=100*e+"% "+i+"px",m(this.element,n)},getSpanCorrection:function(t,e,i){this.xCorr=-t*i,this.yCorr=-e}}),t($e.prototype,{html:function(e,i,n){var o=this.createElement("span"),r=o.attrSetters,s=o.element,a=o.renderer;return r.text=function(t){return t!==s.innerHTML&&delete this.bBox,s.innerHTML=this.textStr=t,!1},r.x=r.y=r.align=r.rotation=function(t,e){return"align"===e&&(e="textAlign"),o[e]=t,o.htmlUpdateTransform(),!1},o.attr({text:e,x:pt(i),y:pt(n)}).css({position:Wt,whiteSpace:"nowrap",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),o.css=o.htmlCss,a.isSVG&&(o.add=function(e){var i,n,r=a.box.parentNode,l=[];if(this.parentGroup=e,e){if(i=e.div,!i){for(n=e;n;)l.push(n),n=n.parentGroup;ve(l.reverse(),function(e){var n;i=e.div=e.div||g(zt,{className:h(e.element,"class")},{position:Wt,left:(e.translateX||0)+Yt,top:(e.translateY||0)+Yt},i||r),n=i.style,t(e.attrSetters,{translateX:function(t){n.left=t+Yt},translateY:function(t){n.top=t+Yt},visibility:function(t,e){n[e]=t}})})}}else i=r;return i.appendChild(s),o.added=!0,o.alignOnAdd&&o.htmlUpdateTransform(),o}),o}});var Re,Oe;if(!Mt&&!$t){de.VMLElement=Oe={init:function(t,e){var i=this,n=["<",e,' filled="f" stroked="f"'],o=["position: ",Wt,";"],r=e===zt;("shape"===e||r)&&o.push("left:0;top:0;width:1px;height:1px;"),o.push("visibility: ",r?Vt:qt),n.push(' style="',o.join(""),'"/>'),e&&(n=r||"span"===e||"img"===e?n.join(""):t.prepVML(n),i.element=g(n)),i.renderer=t,i.attrSetters={}},add:function(t){var e=this,i=e.renderer,n=e.element,o=i.box,r=t&&t.inverted,s=t?t.element||t:o;return r&&i.invertChild(n,s),s.appendChild(n),e.added=!0,e.alignOnAdd&&!e.deferUpdateTransform&&e.updateTransform(),e.onAdd&&e.onAdd(),e},updateTransform:L.prototype.htmlUpdateTransform,setSpanRotation:function(){var t=this.rotation,e=xt(t*Ct),i=_t(t*Ct);m(this.element,{filter:t?["progid:DXImageTransform.Microsoft.Matrix(M11=",e,", M12=",-i,", M21=",i,", M22=",e,", sizingMethod='auto expand')"].join(""):Xt})},getSpanCorrection:function(t,e,i,n,o){var r,s=n?xt(n*Ct):1,a=n?_t(n*Ct):0,l=p(this.elemHeight,this.element.offsetHeight),c=o&&"left"!==o;this.xCorr=0>s&&-t,this.yCorr=0>a&&-l,r=0>s*a,this.xCorr+=a*e*(r?1-i:i),this.yCorr-=s*e*(n?r?i:1-i:1),c&&(this.xCorr-=t*i*(0>s?-1:1),n&&(this.yCorr-=l*i*(0>a?-1:1)),m(this.element,{textAlign:o}))},pathToVML:function(t){for(var e=t.length,i=[];e--;)a(t[e])?i[e]=pt(10*t[e])-5:"Z"===t[e]?i[e]="x":(i[e]=t[e],!t.isArc||"wa"!==t[e]&&"at"!==t[e]||(i[e+5]===i[e+7]&&(i[e+7]+=t[e+7]>t[e+5]?1:-1),i[e+6]===i[e+8]&&(i[e+8]+=t[e+8]>t[e+6]?1:-1)));return i.join(" ")||"x"},attr:function(t,e){var i,n,r,s,l,c,u=this,f=u.element||{},p=f.style,m=f.nodeName,v=u.renderer,y=u.symbolName,b=u.shadows,x=u.attrSetters,_=u;if(o(t)&&d(e)&&(i=t,t={},t[i]=e),o(t))i=t,_="strokeWidth"===i||"stroke-width"===i?u.strokeweight:u[i];else for(i in t)if(n=t[i],c=!1,s=x[i]&&x[i].call(u,n,i),s!==!1&&null!==n){if(s!==W&&(n=s),y&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(i))l||(u.symbolAttr(t),l=!0),c=!0;else if("d"===i){if(n=n||[],u.d=n.join(" "),f.path=n=u.pathToVML(n),b)for(r=b.length;r--;)b[r].path=b[r].cutOff?this.cutOffPath(n,b[r].cutOff):n;c=!0}else if("visibility"===i){if("inherit"===n&&(n=qt),b)for(r=b.length;r--;)b[r].style[i]=n;"DIV"===m&&(n=n===Vt?"-999em":0,Nt||(p[i]=n?qt:Vt),i="top"),p[i]=n,c=!0}else if("zIndex"===i)n&&(p[i]=n),c=!0;else if(-1!==ge(i,["x","y","width","height"]))u[i]=n,"x"===i||"y"===i?i={x:"left",y:"top"}[i]:n=vt(0,n),u.updateClipping?(u[i]=n,u.updateClipping()):p[i]=n,c=!0;else if("class"===i&&"DIV"===m)f.className=n;else if("stroke"===i)n=v.color(n,f,i),i="strokecolor";else if("stroke-width"===i||"strokeWidth"===i)f.stroked=n?!0:!1,i="strokeweight",u[i]=n,a(n)&&(n+=Yt);else if("dashstyle"===i){var w=f.getElementsByTagName("stroke")[0]||g(v.prepVML(["<stroke/>"]),null,null,f);w[i]=n||"solid",u.dashstyle=n,c=!0}else"fill"===i?"SPAN"===m?p.color=n:"IMG"!==m&&(f.filled=n!==Xt?!0:!1,n=v.color(n,f,i,u),i="fillcolor"):"opacity"===i?c=!0:"shape"===m&&"rotation"===i?(u[i]=f.style[i]=n,f.style.left=-pt(_t(n*Ct)+1)+Yt,f.style.top=pt(xt(n*Ct))+Yt):("translateX"===i||"translateY"===i||"rotation"===i)&&(u[i]=n,u.updateTransform(),c=!0);c||(Nt?f[i]=n:h(f,i,n))}return _},clip:function(t){var e,i,n=this;return t?(e=t.members,u(e,n),e.push(n),n.destroyClip=function(){u(e,n)},i=t.getCSS(n)):(n.destroyClip&&n.destroyClip(),i={clip:Nt?"inherit":"rect(auto)"}),n.css(i)},css:L.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&P(t)},destroy:function(){return this.destroyClip&&this.destroyClip(),L.prototype.destroy.apply(this)},on:function(t,e){return this.element["on"+t]=function(){var t=ht.event;t.target=t.srcElement,e(t)},this},cutOffPath:function(t,e){var i;return t=t.split(/[ ,]/),i=t.length,(9===i||11===i)&&(t[i-4]=t[i-2]=n(t[i-2])-10*e),t.join(" ")},shadow:function(t,e,i){var o,r,s,a,l,c,u,d=[],h=this.element,f=this.renderer,m=h.style,v=h.path;if(v&&"string"!=typeof v.value&&(v="x"),l=v,t){for(c=p(t.width,3),u=(t.opacity||.15)/c,o=1;3>=o;o++)a=2*c+1-2*o,i&&(l=this.cutOffPath(v.value,a+.5)),s=['<shape isShadow="true" strokeweight="',a,'" filled="false" path="',l,'" coordsize="10 10" style="',h.style.cssText,'" />'],r=g(f.prepVML(s),null,{left:n(m.left)+p(t.offsetX,1),top:n(m.top)+p(t.offsetY,1)}),i&&(r.cutOff=a+1),s=['<stroke color="',t.color||"black",'" opacity="',u*o,'"/>'],g(f.prepVML(s),null,null,r),e?e.element.appendChild(r):h.parentNode.insertBefore(r,h),d.push(r);this.shadows=d}return this}},Oe=v(L,Oe);var Le={Element:Oe,isIE8:kt.indexOf("MSIE 8.0")>-1,init:function(e,i,n,o){var r,s,a,l=this;if(l.alignedObjects=[],r=l.createElement(zt).css(t(this.getStyle(o),{position:jt})),s=r.element,e.appendChild(r.element),l.isVML=!0,l.box=s,l.boxWrapper=r,l.cache={},l.setSize(i,n,!1),!dt.namespaces.hcv){dt.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),a="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ";try{dt.createStyleSheet().cssText=a}catch(c){dt.styleSheets[0].cssText+=a}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(e,i,n,o){var s=this.createElement(),a=r(e);return t(s,{members:[],left:(a?e.x:e)+1,top:(a?e.y:i)+1,width:(a?e.width:n)-1,height:(a?e.height:o)-1,getCSS:function(e){var i=e.element,n=i.nodeName,o="shape"===n,r=e.inverted,s=this,a=s.top-(o?i.offsetTop:0),l=s.left,c=l+s.width,u=a+s.height,d={clip:"rect("+pt(r?l:a)+"px,"+pt(r?u:c)+"px,"+pt(r?c:u)+"px,"+pt(r?a:l)+"px)"};return!r&&Nt&&"DIV"===n&&t(d,{width:c+Yt,height:u+Yt}),d},updateClipping:function(){ve(s.members,function(t){t.css(s.getCSS(t))})}})},color:function(t,e,i,n){var o,r,s,a=this,l=/^rgba/,c=Xt;if(t&&t.linearGradient?s="gradient":t&&t.radialGradient&&(s="pattern"),s){var u,d,h,f,p,m,v,y,b,x,_,w,C=t.linearGradient||t.radialGradient,k="",T=t.stops,S=[],N=function(){r=['<fill colors="'+S.join(",")+'" opacity="',y,'" o:opacity2="',v,'" type="',s,'" ',k,'focus="100%" method="any" />'],g(a.prepVML(r),null,null,e)};if(_=T[0],w=T[T.length-1],_[0]>0&&T.unshift([0,_[1]]),w[0]<1&&T.push([1,w[1]]),ve(T,function(t,e){l.test(t[1])?(o=Ie(t[1]),u=o.get("rgb"),d=o.get("a")):(u=t[1],d=1),S.push(100*t[0]+"% "+u),e?(y=d,b=u):(v=d,x=u)}),"fill"===i)if("gradient"===s)h=C.x1||C[0]||0,f=C.y1||C[1]||0,p=C.x2||C[2]||0,m=C.y2||C[3]||0,k='angle="'+(90-180*ft.atan((m-f)/(p-h))/wt)+'"',N();else{var D,E=C.r,P=2*E,A=2*E,M=C.cx,I=C.cy,$=e.radialReference,R=function(){$&&(D=n.getBBox(),M+=($[0]-D.x)/D.width-.5,I+=($[1]-D.y)/D.height-.5,P*=$[2]/D.width,A*=$[2]/D.height),k='src="'+q.global.VMLRadialGradientURL+'" size="'+P+","+A+'" origin="0.5,0.5" position="'+M+","+I+'" color2="'+x+'" ',N()};n.added?R():n.onAdd=R,c=b}else c=u}else if(l.test(t)&&"IMG"!==e.tagName)o=Ie(t),r=["<",i,' opacity="',o.get("a"),'"/>'],g(this.prepVML(r),null,null,e),c=o.get("rgb");else{var O=e.getElementsByTagName(i);O.length&&(O[0].opacity=1,O[0].type="solid"),c=t}return c},prepVML:function(t){var e="display:inline-block;behavior:url(#default#VML);",i=this.isIE8;return t=t.join(""),i?(t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),t=-1===t.indexOf('style="')?t.replace("/>",' style="'+e+'" />'):t.replace('style="','style="'+e)):t=t.replace("<","<hcv:"),t},text:$e.prototype.html,path:function(e){var i={coordsize:"10 10"};return s(e)?i.d=e:r(e)&&t(i,e),this.createElement("shape").attr(i)},circle:function(t,e,i){var n=this.symbol("circle");return r(t)&&(i=t.r,e=t.y,t=t.x),n.isCircle=!0,n.r=i,n.attr({x:t,y:e})},g:function(t){var e,i;return t&&(i={className:Ut+t,"class":Ut+t}),e=this.createElement(zt).attr(i)},image:function(t,e,i,n,o){var r=this.createElement("img").attr({src:t});return arguments.length>1&&r.attr({x:e,y:i,width:n,height:o}),r},createElement:function(t){return"rect"===t?this.symbol(t):$e.prototype.createElement.call(this,t)},invertChild:function(t,e){var i=this,o=e.style,r="IMG"===t.tagName&&t.style;m(t,{flip:"x",left:n(o.width)-(r?n(r.top):1),top:n(o.height)-(r?n(r.left):1),rotation:-90}),ve(t.childNodes,function(e){i.invertChild(e,t)})},symbols:{arc:function(t,e,i,n,o){var r,s=o.start,a=o.end,l=o.r||i||n,c=o.innerR,u=xt(s),d=_t(s),h=xt(a),f=_t(a);return a-s===0?["x"]:(r=["wa",t-l,e-l,t+l,e+l,t+l*u,e+l*d,t+l*h,e+l*f],o.open&&!c&&r.push("e",Gt,t,e),r.push("at",t-c,e-c,t+c,e+c,t+c*h,e+c*f,t+c*u,e+c*d,"x","e"),r.isArc=!0,r)},circle:function(t,e,i,n,o){return o&&(i=n=2*o.r),o&&o.isCircle&&(t-=i/2,e-=n/2),["wa",t,e,t+i,e+n,t+i,e+n/2,t+i,e+n/2,"e"]},rect:function(t,e,i,n,o){var r,s,a=t+i,l=e+n;return d(o)&&o.r?(s=yt(o.r,i,n),r=[Gt,t+s,e,Kt,a-s,e,"wa",a-2*s,e,a,e+2*s,a-s,e,a,e+s,Kt,a,l-s,"wa",a-2*s,l-2*s,a,l,a,l-s,a-s,l,Kt,t+s,l,"wa",t,l-2*s,t+2*s,l,t+s,l,t,l-s,Kt,t,e+s,"wa",t,e,t+2*s,e+2*s,t,e+s,t+s,e,"x","e"]):r=$e.prototype.symbols.square.apply(0,arguments),r}}};de.VMLRenderer=Re=function(){this.init.apply(this,arguments)},Re.prototype=e($e.prototype,Le),j=Re}$e.prototype.measureSpanWidth=function(t,e){var i,n=dt.createElement("span"),o=dt.createTextNode(t);return n.appendChild(o),m(n,e),this.box.appendChild(n),i=n.offsetWidth,P(n),i};var Fe,He;$t&&(de.CanVGRenderer=Fe=function(){At="http://www.w3.org/1999/xhtml"},Fe.prototype.symbols={},He=function(){function t(){var t,i=e.length;for(t=0;i>t;t++)e[t]();e=[]}var e=[];return{push:function(i,n){0===e.length&&me(n,t),e.push(i)}}}(),j=Fe),F.prototype={addLabel:function(){var e,i,n,o,r=this,s=r.axis,l=s.options,u=s.chart,h=s.horiz,f=s.categories,m=s.names,g=r.pos,v=l.labels,y=s.tickPositions,b=h&&f&&!v.step&&!v.staggerLines&&!v.rotation&&u.plotWidth/y.length||!h&&(u.margin[3]||.33*u.chartWidth),x=g===y[0],_=g===y[y.length-1],w=f?p(f[g],m[g],g):g,C=r.label,k=y.info;s.isDatetimeAxis&&k&&(o=l.dateTimeLabelFormats[k.higherRanks[g]||k.unitName]),r.isFirst=x,r.isLast=_,e=s.labelFormatter.call({axis:s,chart:u,isFirst:x,isLast:_,dateTimeLabelFormat:o,value:s.isLog?M(c(w)):w}),i=b&&{width:vt(1,pt(b-2*(v.padding||10)))+Yt},i=t(i,v.style),d(C)?C&&C.attr({text:e}).css(i):(n={align:s.labelAlign},a(v.rotation)&&(n.rotation=v.rotation),b&&v.ellipsis&&(n._clipHeight=s.len/y.length),r.label=d(e)&&v.enabled?u.renderer.text(e,0,0,v.useHTML).attr(n).css(i).add(s.labelGroup):null)},getLabelSize:function(){var t=this.label,e=this.axis;return t?t.getBBox()[e.horiz?"height":"width"]:0},getLabelSides:function(){var t=this.label.getBBox(),e=this.axis,i=e.horiz,n=e.options,o=n.labels,r=i?t.width:t.height,s=i?o.x-r*{left:0,center:.5,right:1}[e.labelAlign]:0,a=i?r+s:r;return[s,a]},handleOverflow:function(t,e){var i,n,o,r,s,a=!0,l=this.axis,c=this.isFirst,u=this.isLast,d=l.horiz,h=d?e.x:e.y,f=l.reversed,p=l.tickPositions,m=this.getLabelSides(),g=m[0],v=m[1],y=this.label.line||0,b=l.labelEdge,x=l.justifyLabels&&(c||u);if(b[y]===W||h+g>b[y]?b[y]=h+v:x||(a=!1),x){s=l.justifyToPlot,i=s?l.pos:0,n=s?i+l.len:l.chart.chartWidth;do t+=c?1:-1,o=l.ticks[p[t]];while(p[t]&&(!o||o.label.line!==y));r=o&&o.label.xy&&o.label.xy.x+o.getLabelSides()[c?0:1],c&&!f||u&&f?i>h+g&&(h=i-g,o&&h+v>r&&(a=!1)):h+v>n&&(h=n-v,o&&r>h+g&&(a=!1)),e.x=h}return a},getPosition:function(t,e,i,n){var o=this.axis,r=o.chart,s=n&&r.oldChartHeight||r.chartHeight;return{x:t?o.translate(e+i,null,null,n)+o.transB:o.left+o.offset+(o.opposite?(n&&r.oldChartWidth||r.chartWidth)-o.right-o.left:0),y:t?s-o.bottom+o.offset-(o.opposite?o.height:0):s-o.translate(e+i,null,null,n)-o.transB}},getLabelPosition:function(t,e,i,n,o,r,s,a){var l=this.axis,c=l.transA,u=l.reversed,h=l.staggerLines,f=l.chart.renderer.fontMetrics(o.style.fontSize).b,p=o.rotation;return t=t+o.x-(r&&n?r*c*(u?-1:1):0),e=e+o.y-(r&&!n?r*c*(u?1:-1):0),p&&2===l.side&&(e-=f-f*xt(p*Ct)),d(o.y)||p||(e+=f-i.getBBox().height/2),h&&(i.line=s/(a||1)%h,e+=i.line*(l.labelOffset/h)),{x:t,y:e}},getMarkPath:function(t,e,i,n,o,r){return r.crispLine([Gt,t,e,Kt,t+(o?0:-i),e+(o?i:0)],n)},render:function(t,e,i){var n,o,r,s=this,a=s.axis,l=a.options,c=a.chart,u=c.renderer,d=a.horiz,h=s.type,f=s.label,m=s.pos,g=l.labels,v=s.gridLine,y=h?h+"Grid":"grid",b=h?h+"Tick":"tick",x=l[y+"LineWidth"],_=l[y+"LineColor"],w=l[y+"LineDashStyle"],C=l[b+"Length"],k=l[b+"Width"]||0,T=l[b+"Color"],S=l[b+"Position"],N=s.mark,D=g.step,E=!0,P=a.tickmarkOffset,A=s.getPosition(d,m,P,e),M=A.x,I=A.y,$=d&&M===a.pos+a.len||!d&&I===a.pos?-1:1;this.isActive=!0,x&&(n=a.getPlotLinePath(m+P,x*$,e,!0),v===W&&(r={stroke:_,"stroke-width":x},w&&(r.dashstyle=w),h||(r.zIndex=1),e&&(r.opacity=0),s.gridLine=v=x?u.path(n).attr(r).add(a.gridGroup):null),!e&&v&&n&&v[s.isNew?"attr":"animate"]({d:n,opacity:i})),k&&C&&("inside"===S&&(C=-C),a.opposite&&(C=-C),o=s.getMarkPath(M,I,C,k*$,d,u),N?N.animate({d:o,opacity:i}):s.mark=u.path(o).attr({stroke:T,"stroke-width":k,opacity:i}).add(a.axisGroup)),f&&!isNaN(M)&&(f.xy=A=s.getLabelPosition(M,I,f,d,g,P,t,D),s.isFirst&&!s.isLast&&!p(l.showFirstLabel,1)||s.isLast&&!s.isFirst&&!p(l.showLastLabel,1)?E=!1:a.isRadial||g.step||g.rotation||e||0===i||(E=s.handleOverflow(t,A)),D&&t%D&&(E=!1),E&&!isNaN(A.y)?(A.opacity=i,f[s.isNew?"attr":"animate"](A),s.isNew=!1):f.attr("y",-9999))},destroy:function(){E(this,this.axis)}},de.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},de.PlotLineOrBand.prototype={render:function(){var t,i,n,o,r,s,a,c=this,u=c.axis,h=u.horiz,f=(u.pointRange||0)/2,m=c.options,g=m.label,v=c.label,y=m.width,b=m.to,x=m.from,_=d(x)&&d(b),w=m.value,C=m.dashStyle,k=c.svgElem,T=[],S=m.color,E=m.zIndex,P=m.events,A=u.chart.renderer;if(u.isLog&&(x=l(x),b=l(b),w=l(w)),y)T=u.getPlotLinePath(w,y),a={stroke:S,"stroke-width":y},C&&(a.dashstyle=C);else{if(!_)return;x=vt(x,u.min-f),b=yt(b,u.max+f),T=u.getPlotBandPath(x,b,m),a={fill:S},m.borderWidth&&(a.stroke=m.borderColor,a["stroke-width"]=m.borderWidth)}if(d(E)&&(a.zIndex=E),k)T?k.animate({d:T},null,k.onGetPath):(k.hide(),k.onGetPath=function(){k.show()},v&&(c.label=v=v.destroy()));else if(T&&T.length&&(c.svgElem=k=A.path(T).attr(a).add(),P)){t=function(t){k.on(t,function(e){P[t].apply(c,[e])})};for(i in P)t(i)}return g&&d(g.text)&&T&&T.length&&u.width>0&&u.height>0?(g=e({align:h&&_&&"center",x:h?!_&&4:10,verticalAlign:!h&&_&&"middle",y:h?_?16:10:_?6:-4,rotation:h&&!_&&90},g),v||(c.label=v=A.text(g.text,0,0,g.useHTML).attr({align:g.textAlign||g.align,rotation:g.rotation,zIndex:E}).css(g.style).add()),n=[T[1],T[4],p(T[6],T[1])],o=[T[2],T[5],p(T[7],T[2])],r=N(n),s=N(o),v.align(g,!1,{x:r,y:s,width:D(n)-r,height:D(o)-s}),v.show()):v&&v.hide(),c},destroy:function(){u(this.axis.plotLinesAndBands,this),delete this.axis,E(this)}},Q={getPlotBandPath:function(t,e){var i=this.getPlotLinePath(e),n=this.getPlotLinePath(t);return n&&i?n.push(i[4],i[5],i[1],i[2]):n=null,n},addPlotBand:function(t){this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(t,e){var i=new de.PlotLineOrBand(this,t).render(),n=this.userOptions;return i&&(e&&(n[e]=n[e]||[],n[e].push(t)),this.plotLinesAndBands.push(i)),i},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,i=this.options,n=this.userOptions,o=e.length;o--;)e[o].id===t&&e[o].destroy();ve([i.plotLines||[],n.plotLines||[],i.plotBands||[],n.plotBands||[]],function(e){for(o=e.length;o--;)e[o].id===t&&u(e,e[o])})}},H.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:Ne,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#4d759e",fontWeight:"bold"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return y(this.total,-1)},style:Ne.style}},defaultLeftAxisOptions:{labels:{x:-8,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:8,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{x:0,y:14},title:{rotation:0}},defaultTopAxisOptions:{labels:{x:0,y:-5},title:{rotation:0}},init:function(t,e){var i=e.isX,n=this;n.horiz=t.inverted?!i:i,n.isXAxis=i,n.coll=i?"xAxis":"yAxis",n.opposite=e.opposite,n.side=e.side||(n.horiz?n.opposite?0:2:n.opposite?1:3),n.setOptions(e);
var o=this.options,r=o.type,s="datetime"===r;n.labelFormatter=o.labels.formatter||n.defaultLabelFormatter,n.userOptions=e,n.minPixelPadding=0,n.chart=t,n.reversed=o.reversed,n.zoomEnabled=o.zoomEnabled!==!1,n.categories=o.categories||"category"===r,n.names=[],n.isLog="logarithmic"===r,n.isDatetimeAxis=s,n.isLinked=d(o.linkedTo),n.tickmarkOffset=n.categories&&"between"===o.tickmarkPlacement?.5:0,n.ticks={},n.labelEdge=[],n.minorTicks={},n.plotLinesAndBands=[],n.alternateBands={},n.len=0,n.minRange=n.userMinRange=o.minRange||o.maxZoom,n.range=o.range,n.offset=o.offset||0,n.stacks={},n.oldStacks={},n.max=null,n.min=null,n.crosshair=p(o.crosshair,f(t.options.tooltip.crosshairs)[i?0:1],!1);var a,u=n.options.events;-1===ge(n,t.axes)&&(i&&!this.isColorAxis?t.axes.splice(t.xAxis.length,0,n):t.axes.push(n),t[n.coll].push(n)),n.series=n.series||[],t.inverted&&i&&n.reversed===W&&(n.reversed=!0),n.removePlotBand=n.removePlotBandOrLine,n.removePlotLine=n.removePlotBandOrLine;for(a in u)_e(n,a,u[a]);n.isLog&&(n.val2lin=l,n.lin2val=c)},setOptions:function(t){this.options=e(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],e(q[this.coll],t))},defaultLabelFormatter:function(){var t,e,i=this.axis,n=this.value,o=i.categories,r=this.dateTimeLabelFormat,s=q.lang.numericSymbols,a=s&&s.length,l=i.options.labels.format,c=i.isLog?n:i.tickInterval;if(l)e=w(l,this);else if(o)e=n;else if(r)e=Y(r,n);else if(a&&c>=1e3)for(;a--&&e===W;)t=Math.pow(1e3,a+1),c>=t&&null!==s[a]&&(e=y(n/t,-1)+s[a]);return e===W&&(e=n>=1e4?y(n,0):y(n,-1,W,"")),e},getSeriesExtremes:function(){var t=this,e=t.chart;t.hasVisibleSeries=!1,t.dataMin=t.dataMax=null,t.buildStacks&&t.buildStacks(),ve(t.series,function(i){if(i.visible||!e.options.chart.ignoreHiddenSeries){var n,o,r,s=i.options,a=s.threshold;t.hasVisibleSeries=!0,t.isLog&&0>=a&&(a=null),t.isXAxis?(n=i.xData,n.length&&(t.dataMin=yt(p(t.dataMin,n[0]),N(n)),t.dataMax=vt(p(t.dataMax,n[0]),D(n)))):(i.getExtremes(),r=i.dataMax,o=i.dataMin,d(o)&&d(r)&&(t.dataMin=yt(p(t.dataMin,o),o),t.dataMax=vt(p(t.dataMax,r),r)),d(a)&&(t.dataMin>=a?(t.dataMin=a,t.ignoreMinPadding=!0):t.dataMax<a&&(t.dataMax=a,t.ignoreMaxPadding=!0)))}})},translate:function(t,e,i,n,o,r){var s,l=this,c=1,u=0,d=n?l.oldTransA:l.transA,h=n?l.oldMin:l.min,f=l.minPixelPadding,p=(l.options.ordinal||l.isLog&&o)&&l.lin2val;return d||(d=l.transA),i&&(c*=-1,u=l.len),l.reversed&&(c*=-1,u-=c*(l.sector||l.len)),e?(t=t*c+u,t-=f,s=t/d+h,p&&(s=l.lin2val(s))):(p&&(t=l.val2lin(t)),"between"===r&&(r=.5),s=c*(t-h)*d+u+c*f+(a(r)?d*r*l.pointRange:0)),s},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,i,n,o){var r,s,a,l,c,u=this,d=u.chart,h=u.left,f=u.top,m=i&&d.oldChartHeight||d.chartHeight,g=i&&d.oldChartWidth||d.chartWidth,v=u.transB;return o=p(o,u.translate(t,null,null,i)),r=a=pt(o+v),s=l=pt(m-o-v),isNaN(o)?c=!0:u.horiz?(s=f,l=m-u.bottom,(h>r||r>h+u.width)&&(c=!0)):(r=h,a=g-u.right,(f>s||s>f+u.height)&&(c=!0)),c&&!n?null:d.renderer.crispLine([Gt,r,s,Kt,a,l],e||1)},getLinearTickPositions:function(t,e,i){var n,o,r=M(mt(e/t)*t),s=M(gt(i/t)*t),a=[];for(n=r;s>=n&&(a.push(n),n=M(n+t),n!==o);)o=n;return a},getMinorTickPositions:function(){var t,e,i,n=this,o=n.options,r=n.tickPositions,s=n.minorTickInterval,a=[];if(n.isLog)for(i=r.length,e=1;i>e;e++)a=a.concat(n.getLogTickPositions(s,r[e-1],r[e],!0));else if(n.isDatetimeAxis&&"auto"===o.minorTickInterval)a=a.concat(n.getTimeTicks(n.normalizeTimeTickInterval(s),n.min,n.max,o.startOfWeek)),a[0]<n.min&&a.shift();else for(t=n.min+(r[0]-n.min)%s;t<=n.max;t+=s)a.push(t);return a},adjustForMinRange:function(){var t,e,i,n,o,r,s,a,l=this,c=l.options,u=l.min,h=l.max,f=l.dataMax-l.dataMin>=l.minRange;if(l.isXAxis&&l.minRange===W&&!l.isLog&&(d(c.min)||d(c.max)?l.minRange=null:(ve(l.series,function(t){for(o=t.xData,r=t.xIncrement?1:o.length-1,i=r;i>0;i--)n=o[i]-o[i-1],(e===W||e>n)&&(e=n)}),l.minRange=yt(5*e,l.dataMax-l.dataMin))),h-u<l.minRange){var m=l.minRange;t=(m-h+u)/2,s=[u-t,p(c.min,u-t)],f&&(s[2]=l.dataMin),u=D(s),a=[u+m,p(c.max,u+m)],f&&(a[2]=l.dataMax),h=N(a),m>h-u&&(s[0]=h-m,s[1]=p(c.min,h-m),u=D(s))}l.min=u,l.max=h},setAxisTranslation:function(t){var e,i,n=this,r=n.max-n.min,s=n.axisPointRange||0,a=0,l=0,c=n.linkedParent,u=!!n.categories,h=n.transA;(n.isXAxis||u||s)&&(c?(a=c.minPointOffset,l=c.pointRangePadding):ve(n.series,function(t){var i=vt(n.isXAxis?t.pointRange:n.axisPointRange||0,+u),c=t.options.pointPlacement,h=t.closestPointRange;i>r&&(i=0),s=vt(s,i),a=vt(a,o(c)?0:i/2),l=vt(l,"on"===c?0:i),!t.noSharedTooltip&&d(h)&&(e=d(e)?yt(e,h):h)}),i=n.ordinalSlope&&e?n.ordinalSlope/e:1,n.minPointOffset=a*=i,n.pointRangePadding=l*=i,n.pointRange=yt(s,r),n.closestPointRange=e),t&&(n.oldTransA=h),n.translationSlope=n.transA=h=n.len/(r+l||1),n.transB=n.horiz?n.left:n.bottom,n.minPixelPadding=h*a},setTickPositions:function(t){var e,i,n,o,r=this,s=r.chart,a=r.options,c=r.isLog,u=r.isDatetimeAxis,h=r.isXAxis,f=r.isLinked,m=r.options.tickPositioner,g=a.maxPadding,v=a.minPadding,y=a.tickInterval,b=a.minTickInterval,x=a.tickPixelInterval,_=r.categories;if(f?(r.linkedParent=s[r.coll][a.linkedTo],i=r.linkedParent.getExtremes(),r.min=p(i.min,i.dataMin),r.max=p(i.max,i.dataMax),a.type!==r.linkedParent.options.type&&A(11,1)):(r.min=p(r.userMin,a.min,r.dataMin),r.max=p(r.userMax,a.max,r.dataMax)),c&&(!t&&yt(r.min,p(r.dataMin,r.min))<=0&&A(10,1),r.min=M(l(r.min)),r.max=M(l(r.max))),r.range&&d(r.max)&&(r.userMin=r.min=vt(r.min,r.max-r.range),r.userMax=r.max,r.range=null),r.beforePadding&&r.beforePadding(),r.adjustForMinRange(),_||r.axisPointRange||r.usePercentage||f||!d(r.min)||!d(r.max)||(e=r.max-r.min,e&&(d(a.min)||d(r.userMin)||!v||!(r.dataMin<0)&&r.ignoreMinPadding||(r.min-=e*v),d(a.max)||d(r.userMax)||!g||!(r.dataMax>0)&&r.ignoreMaxPadding||(r.max+=e*g))),r.min===r.max||void 0===r.min||void 0===r.max?r.tickInterval=1:f&&!y&&x===r.linkedParent.options.tickPixelInterval?r.tickInterval=r.linkedParent.tickInterval:(r.tickInterval=p(y,_?1:(r.max-r.min)*x/vt(r.len,x)),!d(y)&&r.len<x&&!this.isRadial&&!this.isLog&&!_&&a.startOnTick&&a.endOnTick&&(o=!0,r.tickInterval/=4)),h&&!t&&ve(r.series,function(t){t.processData(r.min!==r.oldMin||r.max!==r.oldMax)}),r.setAxisTranslation(!0),r.beforeSetTickPositions&&r.beforeSetTickPositions(),r.postProcessTickInterval&&(r.tickInterval=r.postProcessTickInterval(r.tickInterval)),r.pointRange&&(r.tickInterval=vt(r.pointRange,r.tickInterval)),!y&&r.tickInterval<b&&(r.tickInterval=b),u||c||y||(r.tickInterval=k(r.tickInterval,null,C(r.tickInterval),a)),r.minorTickInterval="auto"===a.minorTickInterval&&r.tickInterval?r.tickInterval/5:a.minorTickInterval,r.tickPositions=n=a.tickPositions?[].concat(a.tickPositions):m&&m.apply(r,[r.min,r.max]),n||(!r.ordinalPositions&&(r.max-r.min)/r.tickInterval>vt(2*r.len,200)&&A(19,!0),n=u?r.getTimeTicks(r.normalizeTimeTickInterval(r.tickInterval,a.units),r.min,r.max,a.startOfWeek,r.ordinalPositions,r.closestPointRange,!0):c?r.getLogTickPositions(r.tickInterval,r.min,r.max):r.getLinearTickPositions(r.tickInterval,r.min,r.max),o&&n.splice(1,n.length-2),r.tickPositions=n),!f){var w,T=n[0],S=n[n.length-1],N=r.minPointOffset||0;a.startOnTick?r.min=T:r.min-N>T&&n.shift(),a.endOnTick?r.max=S:r.max+N<S&&n.pop(),1===n.length&&(w=.001*bt(r.max||1),r.min-=w,r.max+=w)}},setMaxTicks:function(){var t=this.chart,e=t.maxTicks||{},i=this.tickPositions,n=this._maxTicksKey=[this.coll,this.pos,this.len].join("-");!this.isLinked&&!this.isDatetimeAxis&&i&&i.length>(e[n]||0)&&this.options.alignTicks!==!1&&(e[n]=i.length),t.maxTicks=e},adjustTickAmount:function(){var t=this,e=t.chart,i=t._maxTicksKey,n=t.tickPositions,o=e.maxTicks;if(o&&o[i]&&!t.isDatetimeAxis&&!t.categories&&!t.isLinked&&t.options.alignTicks!==!1&&this.min!==W){var r,s=t.tickAmount,a=n.length;if(t.tickAmount=r=o[i],r>a){for(;n.length<r;)n.push(M(n[n.length-1]+t.tickInterval));t.transA*=(a-1)/(r-1),t.max=n[n.length-1]}d(s)&&r!==s&&(t.isDirty=!0)}},setScale:function(){var t,e,i,n,o=this,r=o.stacks;if(o.oldMin=o.min,o.oldMax=o.max,o.oldAxisLength=o.len,o.setAxisSize(),n=o.len!==o.oldAxisLength,ve(o.series,function(t){(t.isDirtyData||t.isDirty||t.xAxis.isDirty)&&(i=!0)}),n||i||o.isLinked||o.forceRedraw||o.userMin!==o.oldUserMin||o.userMax!==o.oldUserMax){if(!o.isXAxis)for(t in r)for(e in r[t])r[t][e].total=null,r[t][e].cum=0;o.forceRedraw=!1,o.getSeriesExtremes(),o.setTickPositions(),o.oldUserMin=o.userMin,o.oldUserMax=o.userMax,o.isDirty||(o.isDirty=n||o.min!==o.oldMin||o.max!==o.oldMax)}else if(!o.isXAxis){o.oldStacks&&(r=o.stacks=o.oldStacks);for(t in r)for(e in r[t])r[t][e].cum=r[t][e].total}o.setMaxTicks()},setExtremes:function(e,i,n,o,r){var s=this,a=s.chart;n=p(n,!0),r=t(r,{min:e,max:i}),Ce(s,"setExtremes",r,function(){s.userMin=e,s.userMax=i,s.eventArgs=r,s.isDirtyExtremes=!0,n&&a.redraw(o)})},zoom:function(t,e){var i=this.dataMin,n=this.dataMax,o=this.options;return this.allowZoomOutside||(d(i)&&t<=yt(i,p(o.min,i))&&(t=W),d(n)&&e>=vt(n,p(o.max,n))&&(e=W)),this.displayBtn=t!==W||e!==W,this.setExtremes(t,e,!1,W,{trigger:"zoom"}),!0},setAxisSize:function(){var t,e,i,n,o=this.chart,r=this.options,s=r.offsetLeft||0,a=r.offsetRight||0,l=this.horiz;this.left=n=p(r.left,o.plotLeft+s),this.top=i=p(r.top,o.plotTop),this.width=t=p(r.width,o.plotWidth-s+a),this.height=e=p(r.height,o.plotHeight),this.bottom=o.chartHeight-e-i,this.right=o.chartWidth-t-n,this.len=vt(l?t:e,0),this.pos=l?n:i},getExtremes:function(){var t=this,e=t.isLog;return{min:e?M(c(t.min)):t.min,max:e?M(c(t.max)):t.max,dataMin:t.dataMin,dataMax:t.dataMax,userMin:t.userMin,userMax:t.userMax}},getThreshold:function(t){var e=this,i=e.isLog,n=i?c(e.min):e.min,o=i?c(e.max):e.max;return n>t||null===t?t=n:t>o&&(t=o),e.translate(t,0,1,0,1)},autoLabelAlign:function(t){var e,i=(p(t,0)-90*this.side+720)%360;return e=i>15&&165>i?"right":i>195&&345>i?"left":"center"},getOffset:function(){var t,e,i,n,o,r,s,a,l,c,u,h,f,m=this,g=m.chart,v=g.renderer,y=m.options,b=m.tickPositions,x=m.ticks,_=m.horiz,w=m.side,C=g.inverted?[1,0,3,2][w]:w,k=0,T=0,S=y.title,N=y.labels,D=0,E=g.axisOffset,P=g.clipOffset,A=[-1,1,1,-1][w],M=1,I=p(N.maxStaggerLines,5);if(m.hasData=t=m.hasVisibleSeries||d(m.min)&&d(m.max)&&!!b,m.showAxis=e=t||p(y.showEmpty,!0),m.staggerLines=m.horiz&&N.staggerLines,m.axisGroup||(m.gridGroup=v.g("grid").attr({zIndex:y.gridZIndex||1}).add(),m.axisGroup=v.g("axis").attr({zIndex:y.zIndex||2}).add(),m.labelGroup=v.g("axis-labels").attr({zIndex:N.zIndex||7}).addClass(Ut+m.coll.toLowerCase()+"-labels").add()),t||m.isLinked){if(m.labelAlign=p(N.align||m.autoLabelAlign(N.rotation)),ve(b,function(t){x[t]?x[t].addLabel():x[t]=new F(m,t)}),m.horiz&&!m.staggerLines&&I&&!N.rotation){for(r=m.reversed?[].concat(b).reverse():b;I>M;){for(s=[],a=!1,o=0;o<r.length;o++)l=r[o],c=x[l].label&&x[l].label.getBBox(),h=c?c.width:0,f=o%M,h&&(u=m.translate(l),s[f]!==W&&u<s[f]&&(a=!0),s[f]=u+h);if(!a)break;M++}M>1&&(m.staggerLines=M)}ve(b,function(t){(0===w||2===w||{1:"left",3:"right"}[w]===m.labelAlign)&&(D=vt(x[t].getLabelSize(),D))}),m.staggerLines&&(D*=m.staggerLines,m.labelOffset=D)}else for(n in x)x[n].destroy(),delete x[n];S&&S.text&&S.enabled!==!1&&(m.axisTitle||(m.axisTitle=v.text(S.text,0,0,S.useHTML).attr({zIndex:7,rotation:S.rotation||0,align:S.textAlign||{low:"left",middle:"center",high:"right"}[S.align]}).addClass(Ut+this.coll.toLowerCase()+"-title").css(S.style).add(m.axisGroup),m.axisTitle.isNew=!0),e&&(k=m.axisTitle.getBBox()[_?"height":"width"],T=p(S.margin,_?5:10),i=S.offset),m.axisTitle[e?"show":"hide"]()),m.offset=A*p(y.offset,E[w]),m.axisTitleMargin=p(i,D+T+(2!==w&&D&&A*y.labels[_?"y":"x"])),E[w]=vt(E[w],m.axisTitleMargin+k+A*m.offset),P[C]=vt(P[C],2*mt(y.lineWidth/2))},getLinePath:function(t){var e=this.chart,i=this.opposite,n=this.offset,o=this.horiz,r=this.left+(i?this.width:0)+n,s=e.chartHeight-this.bottom-(i?this.height:0)+n;return i&&(t*=-1),e.renderer.crispLine([Gt,o?this.left:r,o?s:this.top,Kt,o?e.chartWidth-this.right:r,o?s:e.chartHeight-this.bottom],t)},getTitlePosition:function(){var t=this.horiz,e=this.left,i=this.top,o=this.len,r=this.options.title,s=t?e:i,a=this.opposite,l=this.offset,c=n(r.style.fontSize||12),u={low:s+(t?0:o),middle:s+o/2,high:s+(t?o:0)}[r.align],d=(t?i+this.height:e)+(t?1:-1)*(a?-1:1)*this.axisTitleMargin+(2===this.side?c:0);return{x:t?u:d+(a?this.width:0)+l+(r.x||0),y:t?d-(a?this.height:0)+l:u+(r.y||0)}},render:function(){var t,e,i,n,o=this,r=o.horiz,s=o.reversed,a=o.chart,l=a.renderer,u=o.options,h=o.isLog,f=o.isLinked,p=o.tickPositions,m=o.axisTitle,g=o.ticks,v=o.minorTicks,y=o.alternateBands,b=u.stackLabels,x=u.alternateGridColor,_=o.tickmarkOffset,w=u.lineWidth,C=a.hasRendered,k=C&&d(o.oldMin)&&!isNaN(o.oldMin),T=o.hasData,S=o.showAxis,N=u.labels.overflow,D=o.justifyLabels=r&&N!==!1;o.labelEdge.length=0,o.justifyToPlot="justify"===N,ve([g,v,y],function(t){var e;for(e in t)t[e].isActive=!1}),(T||f)&&(o.minorTickInterval&&!o.categories&&ve(o.getMinorTickPositions(),function(t){v[t]||(v[t]=new F(o,t,"minor")),k&&v[t].isNew&&v[t].render(null,!0),v[t].render(null,!1,1)}),p.length&&(t=p.slice(),(r&&s||!r&&!s)&&t.reverse(),D&&(t=t.slice(1).concat([t[0]])),ve(t,function(e,i){D&&(i=i===t.length-1?0:i+1),(!f||e>=o.min&&e<=o.max)&&(g[e]||(g[e]=new F(o,e)),k&&g[e].isNew&&g[e].render(i,!0,.1),g[e].render(i,!1,1))}),_&&0===o.min&&(g[-1]||(g[-1]=new F(o,-1,null,!0)),g[-1].render(-1))),x&&ve(p,function(t,e){e%2===0&&t<o.max&&(y[t]||(y[t]=new de.PlotLineOrBand(o)),i=t+_,n=p[e+1]!==W?p[e+1]+_:o.max,y[t].options={from:h?c(i):i,to:h?c(n):n,color:x},y[t].render(),y[t].isActive=!0)}),o._addedPlotLB||(ve((u.plotLines||[]).concat(u.plotBands||[]),function(t){o.addPlotBandOrLine(t)}),o._addedPlotLB=!0)),ve([g,v,y],function(t){var e,i,n=[],o=X?X.duration||500:0,r=function(){for(i=n.length;i--;)t[n[i]]&&!t[n[i]].isActive&&(t[n[i]].destroy(),delete t[n[i]])};for(e in t)t[e].isActive||(t[e].render(e,!1,0),t[e].isActive=!1,n.push(e));t!==y&&a.hasRendered&&o?o&&setTimeout(r,o):r()}),w&&(e=o.getLinePath(w),o.axisLine?o.axisLine.animate({d:e}):o.axisLine=l.path(e).attr({stroke:u.lineColor,"stroke-width":w,zIndex:7}).add(o.axisGroup),o.axisLine[S?"show":"hide"]()),m&&S&&(m[m.isNew?"attr":"animate"](o.getTitlePosition()),m.isNew=!1),b&&b.enabled&&o.renderStackTotals(),o.isDirty=!1},redraw:function(){var t=this,e=t.chart,i=e.pointer;i&&i.reset(!0),t.render(),ve(t.plotLinesAndBands,function(t){t.render()}),ve(t.series,function(t){t.isDirty=!0})},destroy:function(t){var e,i,n=this,o=n.stacks,r=n.plotLinesAndBands;t||we(n);for(e in o)E(o[e]),o[e]=null;for(ve([n.ticks,n.minorTicks,n.alternateBands],function(t){E(t)}),i=r.length;i--;)r[i].destroy();ve(["stackTotalGroup","axisLine","axisTitle","axisGroup","cross","gridGroup","labelGroup"],function(t){n[t]&&(n[t]=n[t].destroy())}),this.cross&&this.cross.destroy()},drawCrosshair:function(t,e){if(this.crosshair){if((d(e)||!p(this.crosshair.snap,!0))===!1)return void this.hideCrosshair();var i,n,o=this.crosshair,r=o.animation;if(p(o.snap,!0)?d(e)&&(n=this.chart.inverted!=this.horiz?e.plotX:this.len-e.plotY):n=this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos,i=this.isRadial?this.getPlotLinePath(this.isXAxis?e.x:p(e.stackY,e.y)):this.getPlotLinePath(null,null,null,null,n),null===i)return void this.hideCrosshair();if(this.cross)this.cross.attr({visibility:qt})[r?"animate":"attr"]({d:i},r);else{var s={"stroke-width":o.width||1,stroke:o.color||"#C0C0C0",zIndex:o.zIndex||2};o.dashStyle&&(s.dashstyle=o.dashStyle),this.cross=this.chart.renderer.path(i).attr(s).add()}}},hideCrosshair:function(){this.cross&&this.cross.hide()}},t(H.prototype,Q),H.prototype.getTimeTicks=function(e,i,n,o){var r,s,a=[],l={},c=q.global.useUTC,u=new Date(i-Z),h=e.unitRange,f=e.count;if(d(i)){h>=K[ie]&&(u.setMilliseconds(0),u.setSeconds(h>=K[ne]?0:f*mt(u.getSeconds()/f))),h>=K[ne]&&u[st](h>=K[oe]?0:f*mt(u[tt]()/f)),h>=K[oe]&&u[at](h>=K[re]?0:f*mt(u[et]()/f)),h>=K[re]&&u[lt](h>=K[ae]?1:f*mt(u[nt]()/f)),h>=K[ae]&&(u[ct](h>=K[le]?0:f*mt(u[ot]()/f)),s=u[rt]()),h>=K[le]&&(s-=s%f,u[ut](s)),h===K[se]&&u[lt](u[nt]()-u[it]()+p(o,1)),r=1,Z&&(u=new Date(u.getTime()+Z)),s=u[rt]();for(var m=u.getTime(),g=u[ot](),v=u[nt](),y=c?Z:(864e5+60*u.getTimezoneOffset()*1e3)%864e5;n>m;)a.push(m),h===K[le]?m=J(s+r*f,0):h===K[ae]?m=J(s,g+r*f):c||h!==K[re]&&h!==K[se]?m+=h*f:m=J(s,g,v+r*f*(h===K[re]?1:7)),r++;a.push(m),ve(ye(a,function(t){return h<=K[oe]&&t%K[re]===y}),function(t){l[t]=re})}return a.info=t(e,{higherRanks:l,totalRange:h*f}),a},H.prototype.normalizeTimeTickInterval=function(t,e){var i,n,o=e||[[ee,[1,2,5,10,20,25,50,100,200,500]],[ie,[1,2,5,10,15,30]],[ne,[1,2,5,10,15,30]],[oe,[1,2,3,4,6,8,12]],[re,[1,2]],[se,[1,2]],[ae,[1,2,3,4,6]],[le,null]],r=o[o.length-1],s=K[r[0]],a=r[1];for(n=0;n<o.length;n++)if(r=o[n],s=K[r[0]],a=r[1],o[n+1]){var l=(s*a[a.length-1]+K[o[n+1][0]])/2;if(l>=t)break}return s===K[le]&&5*s>t&&(a=[1,2,5]),i=k(t/s,a,r[0]===le?vt(C(t/s),1):1),{unitRange:s,count:i,unitName:r[0]}},H.prototype.getLogTickPositions=function(t,e,i,n){var o=this,r=o.options,s=o.len,a=[];if(n||(o._minorAutoInterval=null),t>=.5)t=pt(t),a=o.getLinearTickPositions(t,e,i);else if(t>=.08){var u,d,h,f,m,g,v,y=mt(e);for(u=t>.3?[1,2,4]:t>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],d=y;i+1>d&&!v;d++)for(f=u.length,h=0;f>h&&!v;h++)m=l(c(d)*u[h]),m>e&&(!n||i>=g)&&a.push(g),g>i&&(v=!0),g=m}else{var b=c(e),x=c(i),_=r[n?"minorTickInterval":"tickInterval"],w="auto"===_?null:_,T=r.tickPixelInterval/(n?5:1),S=n?s/o.tickPositions.length:s;t=p(w,o._minorAutoInterval,(x-b)*T/(S||1)),t=k(t,null,C(t)),a=xe(o.getLinearTickPositions(t,b,x),l),n||(o._minorAutoInterval=t/5)}return n||(o.tickInterval=t),a};var Be=de.Tooltip=function(){this.init.apply(this,arguments)};Be.prototype={init:function(t,e){var i=e.borderWidth,o=e.style,r=n(o.padding);this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=t.renderer.label("",0,0,e.shape,null,null,e.useHTML,null,"tooltip").attr({padding:r,fill:e.backgroundColor,"stroke-width":i,r:e.borderRadius,zIndex:8}).css(o).css({padding:0}).add().attr({y:-9999}),$t||this.label.shadow(e.shadow),this.shared=e.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(e,i,n,o){var r=this,s=r.now,a=r.options.animation!==!1&&!r.isHidden;t(s,{x:a?(2*s.x+e)/3:e,y:a?(s.y+i)/2:i,anchorX:a?(2*s.anchorX+n)/3:n,anchorY:a?(s.anchorY+o)/2:o}),r.label.attr(s),a&&(bt(e-s.x)>1||bt(i-s.y)>1)&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){r&&r.move(e,i,n,o)},32))},hide:function(){var t,e=this;clearTimeout(this.hideTimer),this.isHidden||(t=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){e.label.fadeOut(),e.isHidden=!0},p(this.options.hideDelay,500)),t&&ve(t,function(t){t.setState()}),this.chart.hoverPoints=null)},getAnchor:function(t,e){var i,n,o=this.chart,r=o.inverted,s=o.plotTop,a=0,l=0;return t=f(t),i=t[0].tooltipPos,this.followPointer&&e&&(e.chartX===W&&(e=o.pointer.normalize(e)),i=[e.chartX-o.plotLeft,e.chartY-s]),i||(ve(t,function(t){n=t.series.yAxis,a+=t.plotX,l+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!r&&n?n.top-s:0)}),a/=t.length,l/=t.length,i=[r?o.plotWidth-l:a,this.shared&&!r&&t.length>1&&e?e.chartY-s:r?o.plotHeight-a:l]),xe(i,pt)},getPosition:function(t,e,i){var n,o=this.chart,r=o.plotLeft,s=o.plotTop,a=o.plotWidth,l=o.plotHeight,c=p(this.options.distance,12),u=isNaN(i.plotX)?0:i.plotX,d=i.plotY,h=u+r+(o.inverted?c:-t-c),f=d-e+s+15;return 7>h&&(h=r+vt(u,0)+c),h+t>r+a&&(h-=h+t-(r+a),f=d-e+s-c,n=!0),s+5>f&&(f=s+5,n&&d>=f&&f+e>=d&&(f=d+s+c)),f+e>s+l&&(f=vt(s,s+l-e-c)),{x:h,y:f}},defaultFormatter:function(t){var e,i=this.points||f(this),n=i[0].series;return e=[t.tooltipHeaderFormatter(i[0])],ve(i,function(t){n=t.series,e.push(n.tooltipFormatter&&n.tooltipFormatter(t)||t.point.tooltipFormatter(n.tooltipOptions.pointFormat))}),e.push(t.options.footerFormat||""),e.join("")},refresh:function(t,e){var i,n,o,r,s,a,l=this,c=l.chart,u=l.label,d=l.options,h={},p=[],m=d.formatter||l.defaultFormatter,g=c.hoverPoints,v=l.shared;clearTimeout(this.hideTimer),l.followPointer=f(t)[0].series.tooltipOptions.followPointer,o=l.getAnchor(t,e),i=o[0],n=o[1],!v||t.series&&t.series.noSharedTooltip?h=t.getLabelConfig():(c.hoverPoints=t,g&&ve(g,function(t){t.setState()}),ve(t,function(t){t.setState(Zt),p.push(t.getLabelConfig())}),h={x:t[0].category,y:t[0].y},h.points=p,t=t[0]),r=m.call(h,l),a=t.series,r===!1?this.hide():(l.isHidden&&(Se(u),u.attr("opacity",1).show()),u.attr({text:r}),s=d.borderColor||t.color||a.color||"#606060",u.attr({stroke:s}),l.updatePosition({plotX:i,plotY:n}),this.isHidden=!1),Ce(c,"tooltipRefresh",{text:r,x:i+c.plotLeft,y:n+c.plotTop,borderColor:s})},updatePosition:function(t){var e=this.chart,i=this.label,n=(this.options.positioner||this.getPosition).call(this,i.width,i.height,t);this.move(pt(n.x),pt(n.y),t.plotX+e.plotLeft,t.plotY+e.plotTop)},tooltipHeaderFormatter:function(t){var e,i=t.series,n=i.tooltipOptions,o=n.dateTimeLabelFormats,r=n.xDateFormat,s=i.xAxis,l=s&&"datetime"===s.options.type&&a(t.key),c=n.headerFormat,u=s&&s.closestPointRange;if(l&&!r){if(u){for(e in K)if(K[e]>=u||K[e]<=K[re]&&t.key%K[e]>0){r=o[e];break}}else r=o.day;r=r||o.year}return l&&r&&(c=c.replace("{point.key}","{point.key:"+r+"}")),w(c,{point:t,series:i})}};var ze;V=dt.documentElement.ontouchstart!==W;var We=de.Pointer=function(t,e){this.init(t,e)};if(We.prototype={init:function(t,e){var i,n,o=e.chart,r=o.events,s=$t?"":o.zoomType,a=t.inverted;this.options=e,this.chart=t,this.zoomX=i=/x/.test(s),this.zoomY=n=/y/.test(s),this.zoomHor=i&&!a||n&&a,this.zoomVert=n&&!a||i&&a,this.runChartClick=r&&!!r.click,this.pinchDown=[],this.lastValidTouch={},de.Tooltip&&e.tooltip.enabled&&(t.tooltip=new Be(t,e.tooltip)),this.setDOMEvents()},normalize:function(e,i){var n,o,r;return e=e||ht.event,e=ke(e),e.target||(e.target=e.srcElement),r=e.touches?e.touches.item(0):e,i||(this.chartPosition=i=be(this.chart.container)),r.pageX===W?(n=vt(e.x,e.clientX-i.left),o=e.y):(n=r.pageX-i.left,o=r.pageY-i.top),t(e,{chartX:pt(n),chartY:pt(o)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return ve(this.chart.axes,function(i){e[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(t[i.horiz?"chartX":"chartY"])})}),e},getIndex:function(t){var e=this.chart;return e.inverted?e.plotHeight+e.plotTop-t.chartY:t.chartX-e.plotLeft},runPointActions:function(t){var e,i,n,o,r,s=this,a=s.chart,l=a.series,c=a.tooltip,u=a.hoverPoint,h=a.hoverSeries,f=a.chartWidth,m=s.getIndex(t);if(c&&s.options.tooltip.shared&&(!h||!h.noSharedTooltip)){for(i=[],n=l.length,o=0;n>o;o++)l[o].visible&&l[o].options.enableMouseTracking!==!1&&!l[o].noSharedTooltip&&l[o].singularTooltips!==!0&&l[o].tooltipPoints.length&&(e=l[o].tooltipPoints[m],e&&e.series&&(e._dist=bt(m-e.clientX),f=yt(f,e._dist),i.push(e)));for(n=i.length;n--;)i[n]._dist>f&&i.splice(n,1);i.length&&i[0].clientX!==s.hoverX&&(c.refresh(i,t),s.hoverX=i[0].clientX)}!h||!h.tracker||c&&c.followPointer?c&&c.followPointer&&!c.isHidden&&(r=c.getAnchor([{}],t),c.updatePosition({plotX:r[0],plotY:r[1]})):(e=h.tooltipPoints[m],e&&e!==u&&e.onMouseOver(t)),c&&!s._onDocumentMouseMove&&(s._onDocumentMouseMove=function(t){d(ze)&&Ft[ze].pointer.onDocumentMouseMove(t)},_e(dt,"mousemove",s._onDocumentMouseMove)),ve(a.axes,function(i){i.drawCrosshair(t,p(e,u))})},reset:function(t){var e=this,i=e.chart,n=i.hoverSeries,o=i.hoverPoint,r=i.tooltip,s=r&&r.shared?i.hoverPoints:o;t=t&&r&&s,t&&f(s)[0].plotX===W&&(t=!1),t?(r.refresh(s),o&&o.setState(o.state,!0)):(o&&o.onMouseOut(),n&&n.onMouseOut(),r&&r.hide(),e._onDocumentMouseMove&&(we(dt,"mousemove",e._onDocumentMouseMove),e._onDocumentMouseMove=null),ve(i.axes,function(t){t.hideCrosshair()}),e.hoverX=null)},scaleGroups:function(t,e){var i,n=this.chart;ve(n.series,function(o){i=t||o.getPlotBox(),o.xAxis&&o.xAxis.zoomEnabled&&(o.group.attr(i),o.markerGroup&&(o.markerGroup.attr(i),o.markerGroup.clip(e?n.clipRect:null)),o.dataLabelsGroup&&o.dataLabelsGroup.attr(i))}),n.clipRect.attr(e||n.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,i,n=this.chart,o=n.options.chart,r=t.chartX,s=t.chartY,a=this.zoomHor,l=this.zoomVert,c=n.plotLeft,u=n.plotTop,d=n.plotWidth,h=n.plotHeight,f=this.mouseDownX,p=this.mouseDownY;c>r?r=c:r>c+d&&(r=c+d),u>s?s=u:s>u+h&&(s=u+h),this.hasDragged=Math.sqrt(Math.pow(f-r,2)+Math.pow(p-s,2)),this.hasDragged>10&&(e=n.isInsidePlot(f-c,p-u),n.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&(this.selectionMarker||(this.selectionMarker=n.renderer.rect(c,u,a?1:d,l?1:h,0).attr({fill:o.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add())),this.selectionMarker&&a&&(i=r-f,this.selectionMarker.attr({width:bt(i),x:(i>0?0:i)+f})),this.selectionMarker&&l&&(i=s-p,this.selectionMarker.attr({height:bt(i),y:(i>0?0:i)+p})),e&&!this.selectionMarker&&o.panning&&n.pan(t,o.panning))},drop:function(e){var i=this.chart,n=this.hasPinched;if(this.selectionMarker){var o,r={xAxis:[],yAxis:[],originalEvent:e.originalEvent||e},s=this.selectionMarker,a=s.x,l=s.y;(this.hasDragged||n)&&(ve(i.axes,function(t){if(t.zoomEnabled){var e=t.horiz,i=t.toValue(e?a:l),n=t.toValue(e?a+s.width:l+s.height);isNaN(i)||isNaN(n)||(r[t.coll].push({axis:t,min:yt(i,n),max:vt(i,n)}),o=!0)}}),o&&Ce(i,"selection",r,function(e){i.zoom(t(e,n?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),n&&this.scaleGroups()}i&&(m(i.container,{cursor:i._cursor}),i.cancelClick=this.hasDragged>10,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){t=this.normalize(t),t.preventDefault&&t.preventDefault(),this.dragStart(t)},onDocumentMouseUp:function(t){d(ze)&&Ft[ze].pointer.drop(t)},onDocumentMouseMove:function(t){var e=this.chart,i=this.chartPosition,n=e.hoverSeries;t=this.normalize(t,i),i&&n&&!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&this.reset()},onContainerMouseLeave:function(){var t=Ft[ze];t&&(t.pointer.reset(),t.pointer.chartPosition=null),ze=null},onContainerMouseMove:function(t){var e=this.chart;ze=e.index,t=this.normalize(t),"mousedown"===e.mouseIsDown&&this.drag(t),!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||e.openMenu||this.runPointActions(t)},inClass:function(t,e){for(var i;t;){if(i=h(t,"class")){if(-1!==i.indexOf(e))return!0;if(-1!==i.indexOf(Ut+"container"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries,i=t.relatedTarget||t.toElement,n=i&&i.point&&i.point.series;!e||e.options.stickyTracking||this.inClass(i,Ut+"tooltip")||n===e||e.onMouseOut()},onContainerClick:function(e){var i,n,o,r=this.chart,s=r.hoverPoint,a=r.plotLeft,l=r.plotTop,c=r.inverted;e=this.normalize(e),e.cancelBubble=!0,r.cancelClick||(s&&this.inClass(e.target,Ut+"tracker")?(i=this.chartPosition,n=s.plotX,o=s.plotY,t(s,{pageX:i.left+a+(c?r.plotWidth-o:n),pageY:i.top+l+(c?r.plotHeight-n:o)}),Ce(s.series,"click",t(e,{point:s})),r.hoverPoint&&s.firePointEvent("click",e)):(t(e,this.getCoordinates(e)),r.isInsidePlot(e.chartX-a,e.chartY-l)&&Ce(r,"click",e)))},setDOMEvents:function(){var t=this,e=t.chart.container;e.onmousedown=function(e){t.onContainerMouseDown(e)},e.onmousemove=function(e){t.onContainerMouseMove(e)},e.onclick=function(e){t.onContainerClick(e)},_e(e,"mouseleave",t.onContainerMouseLeave),_e(dt,"mouseup",t.onDocumentMouseUp),V&&(e.ontouchstart=function(e){t.onContainerTouchStart(e)},e.ontouchmove=function(e){t.onContainerTouchMove(e)},_e(dt,"touchend",t.onDocumentTouchEnd))},destroy:function(){var t;we(this.chart.container,"mouseleave",this.onContainerMouseLeave),we(dt,"mouseup",this.onDocumentMouseUp),we(dt,"touchend",this.onDocumentTouchEnd),clearInterval(this.tooltipTimeout);for(t in this)this[t]=null}},t(de.Pointer.prototype,{pinchTranslate:function(t,e,i,n,o,r,s,a){t&&this.pinchTranslateDirection(!0,i,n,o,r,s,a),e&&this.pinchTranslateDirection(!1,i,n,o,r,s,a)},pinchTranslateDirection:function(t,e,i,n,o,r,s,a){var l,c,u,d,h,f,p=this.chart,m=t?"x":"y",g=t?"X":"Y",v="chart"+g,y=t?"width":"height",b=p["plot"+(t?"Left":"Top")],x=a||1,_=p.inverted,w=p.bounds[t?"h":"v"],C=1===e.length,k=e[0][v],T=i[0][v],S=!C&&e[1][v],N=!C&&i[1][v],D=function(){!C&&bt(k-S)>20&&(x=a||bt(T-N)/bt(k-S)),u=(b-T)/x+k,l=p["plot"+(t?"Width":"Height")]/x};D(),c=u,c<w.min?(c=w.min,d=!0):c+l>w.max&&(c=w.max-l,d=!0),d?(T-=.8*(T-s[m][0]),C||(N-=.8*(N-s[m][1])),D()):s[m]=[T,N],_||(r[m]=u-b,r[y]=l),f=_?t?"scaleY":"scaleX":"scale"+g,h=_?1/x:x,o[y]=l,o[m]=c,n[f]=x,n["translate"+g]=h*b+(T-h*k)},pinch:function(e){var i=this,n=i.chart,o=i.pinchDown,r=n.tooltip&&n.tooltip.options.followTouchMove,s=e.touches,a=s.length,l=i.lastValidTouch,c=i.zoomHor||i.pinchHor,u=i.zoomVert||i.pinchVert,d=c||u,h=i.selectionMarker,f={},p=1===a&&(i.inClass(e.target,Ut+"tracker")&&n.runTrackerClick||n.runChartClick),m={};!d&&!r||p||e.preventDefault(),xe(s,function(t){return i.normalize(t)}),"touchstart"===e.type?(ve(s,function(t,e){o[e]={chartX:t.chartX,chartY:t.chartY}}),l.x=[o[0].chartX,o[1]&&o[1].chartX],l.y=[o[0].chartY,o[1]&&o[1].chartY],ve(n.axes,function(t){if(t.zoomEnabled){var e=n.bounds[t.horiz?"h":"v"],i=t.minPixelPadding,o=t.toPixels(t.dataMin),r=t.toPixels(t.dataMax),s=yt(o,r),a=vt(o,r);e.min=yt(t.pos,s-i),e.max=vt(t.pos+t.len,a+i)}})):o.length&&(h||(i.selectionMarker=h=t({destroy:Lt},n.plotBox)),i.pinchTranslate(c,u,o,s,f,h,m,l),i.hasPinched=d,i.scaleGroups(f,m),!d&&r&&1===a&&this.runPointActions(i.normalize(e)))},onContainerTouchStart:function(t){var e=this.chart;ze=e.index,1===t.touches.length?(t=this.normalize(t),e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)?(this.runPointActions(t),this.pinch(t)):this.reset()):2===t.touches.length&&this.pinch(t)},onContainerTouchMove:function(t){(1===t.touches.length||2===t.touches.length)&&this.pinch(t)},onDocumentTouchEnd:function(t){d(ze)&&Ft[ze].pointer.drop(t)}}),ht.PointerEvent||ht.MSPointerEvent){var je={},Ve=!!ht.PointerEvent,Ue=function(){var t,e=[];e.item=function(t){return this[t]};for(t in je)je.hasOwnProperty(t)&&e.push({pageX:je[t].pageX,pageY:je[t].pageY,target:je[t].target});return e},qe=function(t,e,i,n){var o;t=t.originalEvent||t,"touch"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_TOUCH||!Ft[ze]||(n(t),o=Ft[ze].pointer,o[e]({type:i,target:t.currentTarget,preventDefault:Lt,touches:Ue()}))};t(We.prototype,{onContainerPointerDown:function(t){qe(t,"onContainerTouchStart","touchstart",function(t){je[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}})},onContainerPointerMove:function(t){qe(t,"onContainerTouchMove","touchmove",function(t){je[t.pointerId]={pageX:t.pageX,pageY:t.pageY},je[t.pointerId].target||(je[t.pointerId].target=t.currentTarget)})},onDocumentPointerUp:function(t){qe(t,"onContainerTouchEnd","touchend",function(t){delete je[t.pointerId]})},batchMSEvents:function(t){t(this.chart.container,Ve?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,Ve?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(dt,Ve?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),x(We.prototype,"init",function(t,e,i){m(e.container,{"-ms-touch-action":Xt,"touch-action":Xt}),t.call(this,e,i)}),x(We.prototype,"setDOMEvents",function(t){t.apply(this),this.batchMSEvents(_e)}),x(We.prototype,"destroy",function(t){this.batchMSEvents(we),t.call(this)})}var Ye=de.Legend=function(t,e){this.init(t,e)};Ye.prototype={init:function(t,i){var o=this,r=i.itemStyle,s=p(i.padding,8),a=i.itemMarginTop||0;this.options=i,i.enabled&&(o.baseline=n(r.fontSize)+3+a,o.itemStyle=r,o.itemHiddenStyle=e(r,i.itemHiddenStyle),o.itemMarginTop=a,o.padding=s,o.initialItemX=s,o.initialItemY=s-5,o.maxItemWidth=0,o.chart=t,o.itemHeight=0,o.lastLineHeight=0,o.symbolWidth=p(i.symbolWidth,16),o.pages=[],o.render(),_e(o.chart,"endResize",function(){o.positionCheckboxes()}))},colorizeItem:function(t,e){var i,n,o=this,r=o.options,s=t.legendItem,a=t.legendLine,l=t.legendSymbol,c=o.itemHiddenStyle.color,u=e?r.itemStyle.color:c,d=e?t.legendColor||t.color||"#CCC":c,h=t.options&&t.options.marker,f={stroke:d,fill:d};if(s&&s.css({fill:u,color:u}),a&&a.attr({stroke:d}),l){if(h&&l.isMarker){h=t.convertAttribs(h);for(i in h)n=h[i],n!==W&&(f[i]=n)}l.attr(f)}},positionItem:function(t){var e=this,i=e.options,n=i.symbolPadding,o=!i.rtl,r=t._legendItemPos,s=r[0],a=r[1],l=t.checkbox;t.legendGroup&&t.legendGroup.translate(o?s:e.legendWidth-s-2*n-4,a),l&&(l.x=s,l.y=a);
},destroyItem:function(t){var e=t.checkbox;ve(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),e&&P(t.checkbox)},destroy:function(){var t=this,e=t.group,i=t.box;i&&(t.box=i.destroy()),e&&(t.group=e.destroy())},positionCheckboxes:function(t){var e,i=this.group.alignAttr,n=this.clipHeight||this.legendHeight;i&&(e=i.translateY,ve(this.allItems,function(o){var r,s=o.checkbox;s&&(r=e+s.y+(t||0)+3,m(s,{left:i.translateX+o.legendItemWidth+s.x-20+Yt,top:r+Yt,display:r>e-6&&e+n-6>r?"":Xt}))}))},renderTitle:function(){var t,e=this.options,i=this.padding,n=e.title,o=0;n.text&&(this.title||(this.title=this.chart.renderer.label(n.text,i-3,i-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(n.style).add(this.group)),t=this.title.getBBox(),o=t.height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:o})),this.titleHeight=o},renderItem:function(t){var i,n,o,r=this,s=r.chart,a=s.renderer,l=r.options,c="horizontal"===l.layout,u=r.symbolWidth,d=l.symbolPadding,h=r.itemStyle,f=r.itemHiddenStyle,m=r.padding,g=c?p(l.itemDistance,8):0,v=!l.rtl,y=l.width,b=l.itemMarginBottom||0,x=r.itemMarginTop,_=r.initialItemX,C=t.legendItem,k=t.series&&t.series.drawLegendSymbol?t.series:t,T=k.options,S=r.createCheckboxForItem&&T&&T.showCheckbox,N=l.useHTML;C||(t.legendGroup=a.g("legend-item").attr({zIndex:1}).add(r.scrollGroup),k.drawLegendSymbol(r,t),t.legendItem=C=a.text(l.labelFormat?w(l.labelFormat,t):l.labelFormatter.call(t),v?u+d:-d,r.baseline,N).css(e(t.visible?h:f)).attr({align:v?"left":"right",zIndex:2}).add(t.legendGroup),r.setItemEvents&&r.setItemEvents(t,C,N,h,f),r.colorizeItem(t,t.visible),S&&r.createCheckboxForItem(t)),n=C.getBBox(),o=t.legendItemWidth=l.itemWidth||t.legendItemWidth||u+d+n.width+g+(S?20:0),r.itemHeight=i=pt(t.legendItemHeight||n.height),c&&r.itemX-_+o>(y||s.chartWidth-2*m-_-l.x)&&(r.itemX=_,r.itemY+=x+r.lastLineHeight+b,r.lastLineHeight=0),r.maxItemWidth=vt(r.maxItemWidth,o),r.lastItemY=x+r.itemY+b,r.lastLineHeight=vt(i,r.lastLineHeight),t._legendItemPos=[r.itemX,r.itemY],c?r.itemX+=o:(r.itemY+=x+i+b,r.lastLineHeight=i),r.offsetWidth=y||vt((c?r.itemX-_-g:o)+m,r.offsetWidth)},getAllItems:function(){var t=[];return ve(this.chart.series,function(e){var i=e.options;p(i.showInLegend,d(i.linkedTo)?!1:W,!0)&&(t=t.concat(e.legendItems||("point"===i.legendType?e.data:e)))}),t},render:function(){var e,i,n,o,r=this,s=r.chart,a=s.renderer,l=r.group,c=r.box,u=r.options,d=r.padding,h=u.borderWidth,f=u.backgroundColor;r.itemX=r.initialItemX,r.itemY=r.initialItemY,r.offsetWidth=0,r.lastItemY=0,l||(r.group=l=a.g("legend").attr({zIndex:7}).add(),r.contentGroup=a.g().attr({zIndex:1}).add(l),r.scrollGroup=a.g().add(r.contentGroup)),r.renderTitle(),e=r.getAllItems(),S(e,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),u.reversed&&e.reverse(),r.allItems=e,r.display=i=!!e.length,ve(e,function(t){r.renderItem(t)}),n=u.width||r.offsetWidth,o=r.lastItemY+r.lastLineHeight+r.titleHeight,o=r.handleOverflow(o),(h||f)&&(n+=d,o+=d,c?n>0&&o>0&&(c[c.isNew?"attr":"animate"](c.crisp({width:n,height:o})),c.isNew=!1):(r.box=c=a.rect(0,0,n,o,u.borderRadius,h||0).attr({stroke:u.borderColor,"stroke-width":h||0,fill:f||Xt}).add(l).shadow(u.shadow),c.isNew=!0),c[i?"show":"hide"]()),r.legendWidth=n,r.legendHeight=o,ve(e,function(t){r.positionItem(t)}),i&&l.align(t({width:n,height:o},u),!0,"spacingBox"),s.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var e,i,n=this,o=this.chart,r=o.renderer,s=this.options,a=s.y,l="top"===s.verticalAlign,c=o.spacingBox.height+(l?-a:a)-this.padding,u=s.maxHeight,d=this.clipRect,h=s.navigation,f=p(h.animation,!0),m=h.arrowSize||12,g=this.nav,v=this.pages,y=this.allItems;return"horizontal"===s.layout&&(c/=2),u&&(c=yt(c,u)),v.length=0,t>c&&!s.useHTML?(this.clipHeight=e=c-20-this.titleHeight-this.padding,this.currentPage=p(this.currentPage,1),this.fullHeight=t,ve(y,function(t,n){var o=t._legendItemPos[1],r=pt(t.legendItem.getBBox().height),s=v.length;(!s||o-v[s-1]>e&&(i||o)!==v[s-1])&&(v.push(i||o),s++),n===y.length-1&&o+r-v[s-1]>e&&v.push(o),o!==i&&(i=o)}),d||(d=n.clipRect=r.clipRect(0,this.padding,9999,0),n.contentGroup.clip(d)),d.attr({height:e}),g||(this.nav=g=r.g().attr({zIndex:1}).add(this.group),this.up=r.symbol("triangle",0,0,m,m).on("click",function(){n.scroll(-1,f)}).add(g),this.pager=r.text("",15,10).css(h.style).add(g),this.down=r.symbol("triangle-down",0,0,m,m).on("click",function(){n.scroll(1,f)}).add(g)),n.scroll(0),t=c):g&&(d.attr({height:o.chartHeight}),g.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var i,n=this.pages,o=n.length,r=this.currentPage+t,s=this.clipHeight,a=this.options.navigation,l=a.activeColor,c=a.inactiveColor,u=this.pager,d=this.padding;r>o&&(r=o),r>0&&(e!==W&&I(e,this.chart),this.nav.attr({translateX:d,translateY:s+this.padding+7+this.titleHeight,visibility:qt}),this.up.attr({fill:1===r?c:l}).css({cursor:1===r?"default":"pointer"}),u.attr({text:r+"/"+o}),this.down.attr({x:18+this.pager.getBBox().width,fill:r===o?c:l}).css({cursor:r===o?"default":"pointer"}),i=-n[r-1]+this.initialItemY,this.scrollGroup.animate({translateY:i}),this.currentPage=r,this.positionCheckboxes(i))}};var Xe=de.LegendSymbolMixin={drawRectangle:function(t,e){var i=t.options.symbolHeight||12;e.legendSymbol=this.chart.renderer.rect(0,t.baseline-5-i/2,t.symbolWidth,i,p(t.options.symbolRadius,2)).attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e,i,n,o=this.options,r=o.marker,s=t.options,a=t.symbolWidth,l=this.chart.renderer,c=this.legendGroup,u=t.baseline-pt(.3*l.fontMetrics(s.itemStyle.fontSize).b);o.lineWidth&&(n={"stroke-width":o.lineWidth},o.dashStyle&&(n.dashstyle=o.dashStyle),this.legendLine=l.path([Gt,0,u,Kt,a,u]).attr(n).add(c)),r&&r.enabled&&(e=r.radius,this.legendSymbol=i=l.symbol(this.symbol,a/2-e,u-e,2*e,2*e).add(c),i.isMarker=!0)}};(/Trident\/7\.0/.test(kt)||Et)&&x(Ye.prototype,"positionItem",function(t,e){var i=this,n=function(){e._legendItemPos&&t.call(i,e)};i.chart.renderer.forExport?n():setTimeout(n)}),B.prototype={init:function(t,i){var n,o=t.series;t.series=null,n=e(q,t),n.series=t.series=o,this.userOptions=t;var r=n.chart;this.margin=this.splashArray("margin",r),this.spacing=this.splashArray("spacing",r);var s=r.events;this.bounds={h:{},v:{}},this.callback=i,this.isResizing=0,this.options=n,this.axes=[],this.series=[],this.hasCartesianSeries=r.showAxes;var a,l=this;if(l.index=Ft.length,Ft.push(l),r.reflow!==!1&&_e(l,"load",function(){l.initReflow()}),s)for(a in s)_e(l,a,s[a]);l.xAxis=[],l.yAxis=[],l.animation=$t?!1:p(r.animation,!0),l.pointCount=0,l.counters=new T,l.firstRender()},initSeries:function(t){var e,i=this,n=i.options.chart,o=t.type||n.type||n.defaultSeriesType,r=ue[o];return r||A(17,!0),e=new r,e.init(this,t),e},isInsidePlot:function(t,e,i){var n=i?e:t,o=i?t:e;return n>=0&&n<=this.plotWidth&&o>=0&&o<=this.plotHeight},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&ve(this.axes,function(t){t.adjustTickAmount()}),this.maxTicks=null},redraw:function(e){var i,n,o,r=this,s=r.axes,a=r.series,l=r.pointer,c=r.legend,u=r.isDirtyLegend,d=r.isDirtyBox,h=a.length,f=h,p=r.renderer,m=p.isHidden(),g=[];for(I(e,r),m&&r.cloneRenderTo(),r.layOutTitles();f--;)if(o=a[f],o.options.stacking&&(i=!0,o.isDirty)){n=!0;break}if(n)for(f=h;f--;)o=a[f],o.options.stacking&&(o.isDirty=!0);ve(a,function(t){t.isDirty&&"point"===t.options.legendType&&(u=!0)}),u&&c.options.enabled&&(c.render(),r.isDirtyLegend=!1),i&&r.getStacks(),r.hasCartesianSeries&&(r.isResizing||(r.maxTicks=null,ve(s,function(t){t.setScale()})),r.adjustTickAmounts(),r.getMargins(),ve(s,function(t){t.isDirty&&(d=!0)}),ve(s,function(e){e.isDirtyExtremes&&(e.isDirtyExtremes=!1,g.push(function(){Ce(e,"afterSetExtremes",t(e.eventArgs,e.getExtremes())),delete e.eventArgs})),(d||i)&&e.redraw()})),d&&r.drawChartBox(),ve(a,function(t){t.isDirty&&t.visible&&(!t.isCartesian||t.xAxis)&&t.redraw()}),l&&l.reset(!0),p.draw(),Ce(r,"redraw"),m&&r.cloneRenderTo(!0),ve(g,function(t){t.call()})},get:function(t){var e,i,n,o=this,r=o.axes,s=o.series;for(e=0;e<r.length;e++)if(r[e].options.id===t)return r[e];for(e=0;e<s.length;e++)if(s[e].options.id===t)return s[e];for(e=0;e<s.length;e++)for(n=s[e].points||[],i=0;i<n.length;i++)if(n[i].id===t)return n[i];return null},getAxes:function(){var t,e,i=this,n=this.options,o=n.xAxis=f(n.xAxis||{}),r=n.yAxis=f(n.yAxis||{});ve(o,function(t,e){t.index=e,t.isX=!0}),ve(r,function(t,e){t.index=e}),t=o.concat(r),ve(t,function(t){e=new H(i,t)}),i.adjustTickAmounts()},getSelectedPoints:function(){var t=[];return ve(this.series,function(e){t=t.concat(ye(e.points||[],function(t){return t.selected}))}),t},getSelectedSeries:function(){return ye(this.series,function(t){return t.selected})},getStacks:function(){var t=this;ve(t.yAxis,function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),ve(t.series,function(e){!e.options.stacking||e.visible!==!0&&t.options.chart.ignoreHiddenSeries!==!1||(e.stackKey=e.type+p(e.options.stack,""))})},setTitle:function(t,i,n){var o,r,s=this,a=s.options;o=a.title=e(a.title,t),r=a.subtitle=e(a.subtitle,i),ve([["title",t,o],["subtitle",i,r]],function(t){var e=t[0],i=s[e],n=t[1],o=t[2];i&&n&&(s[e]=i=i.destroy()),o&&o.text&&!i&&(s[e]=s.renderer.text(o.text,0,0,o.useHTML).attr({align:o.align,"class":Ut+e,zIndex:o.zIndex||4}).css(o.style).add())}),s.layOutTitles(n)},layOutTitles:function(e){var i,n=0,o=this.title,r=this.subtitle,s=this.options,a=s.title,l=s.subtitle,c=this.spacingBox.width-44;o&&(o.css({width:(a.width||c)+Yt}).align(t({y:15},a),!1,"spacingBox"),a.floating||a.verticalAlign||(n=o.getBBox().height,n>=18&&25>=n&&(n=15))),r&&(r.css({width:(l.width||c)+Yt}).align(t({y:n+a.margin},l),!1,"spacingBox"),l.floating||l.verticalAlign||(n=gt(n+r.getBBox().height))),i=this.titleOffset!==n,this.titleOffset=n,!this.isDirtyBox&&i&&(this.isDirtyBox=i,this.hasRendered&&p(e,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var t=this,e=t.options.chart,i=e.width,n=e.height,o=t.renderToClone||t.renderTo;d(i)||(t.containerWidth=pe(o,"width")),d(n)||(t.containerHeight=pe(o,"height")),t.chartWidth=vt(0,i||t.containerWidth||600),t.chartHeight=vt(0,p(n,t.containerHeight>19?t.containerHeight:400))},cloneRenderTo:function(t){var e=this.renderToClone,i=this.container;t?e&&(this.renderTo.appendChild(i),P(e),delete this.renderToClone):(i&&i.parentNode===this.renderTo&&this.renderTo.removeChild(i),this.renderToClone=e=this.renderTo.cloneNode(0),m(e,{position:Wt,top:"-9999px",display:"block"}),e.style.setProperty&&e.style.setProperty("display","block","important"),dt.body.appendChild(e),i&&e.appendChild(i))},getContainer:function(){var e,i,r,s,a,l,c=this,u=c.options.chart,d="data-highcharts-chart";c.renderTo=s=u.renderTo,l=Ut+Ot++,o(s)&&(c.renderTo=s=dt.getElementById(s)),s||A(13,!0),a=n(h(s,d)),!isNaN(a)&&Ft[a]&&Ft[a].hasRendered&&Ft[a].destroy(),h(s,d,c.index),s.innerHTML="",u.skipClone||s.offsetWidth||c.cloneRenderTo(),c.getChartSize(),i=c.chartWidth,r=c.chartHeight,c.container=e=g(zt,{className:Ut+"container"+(u.className?" "+u.className:""),id:l},t({position:jt,overflow:Vt,width:i+Yt,height:r+Yt,textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},u.style),c.renderToClone||s),c._cursor=e.style.cursor,c.renderer=u.forExport?new $e(e,i,r,u.style,!0):new j(e,i,r,u.style),$t&&c.renderer.create(c,e,i,r)},getMargins:function(){var t,e=this,i=e.spacing,n=e.legend,o=e.margin,r=e.options.legend,s=p(r.margin,10),a=r.x,l=r.y,c=r.align,u=r.verticalAlign,h=e.titleOffset;e.resetMargins(),t=e.axisOffset,h&&!d(o[0])&&(e.plotTop=vt(e.plotTop,h+e.options.title.margin+i[0])),n.display&&!r.floating&&("right"===c?d(o[1])||(e.marginRight=vt(e.marginRight,n.legendWidth-a+s+i[1])):"left"===c?d(o[3])||(e.plotLeft=vt(e.plotLeft,n.legendWidth+a+s+i[3])):"top"===u?d(o[0])||(e.plotTop=vt(e.plotTop,n.legendHeight+l+s+i[0])):"bottom"===u&&(d(o[2])||(e.marginBottom=vt(e.marginBottom,n.legendHeight-l+s+i[2])))),e.extraBottomMargin&&(e.marginBottom+=e.extraBottomMargin),e.extraTopMargin&&(e.plotTop+=e.extraTopMargin),e.hasCartesianSeries&&ve(e.axes,function(t){t.getOffset()}),d(o[3])||(e.plotLeft+=t[3]),d(o[0])||(e.plotTop+=t[0]),d(o[2])||(e.marginBottom+=t[2]),d(o[1])||(e.marginRight+=t[1]),e.setChartSize()},reflow:function(t){var e=this,i=e.options.chart,n=e.renderTo,o=i.width||pe(n,"width"),r=i.height||pe(n,"height"),s=t?t.target:ht,a=function(){e.container&&(e.setSize(o,r,!1),e.hasUserSize=null)};e.hasUserSize||!o||!r||s!==ht&&s!==dt||((o!==e.containerWidth||r!==e.containerHeight)&&(clearTimeout(e.reflowTimeout),t?e.reflowTimeout=setTimeout(a,100):a()),e.containerWidth=o,e.containerHeight=r)},initReflow:function(){var t=this,e=function(e){t.reflow(e)};_e(ht,"resize",e),_e(t,"destroy",function(){we(ht,"resize",e)})},setSize:function(t,e,i){var n,o,r,s=this;s.isResizing+=1,r=function(){s&&Ce(s,"endResize",null,function(){s.isResizing-=1})},I(i,s),s.oldChartHeight=s.chartHeight,s.oldChartWidth=s.chartWidth,d(t)&&(s.chartWidth=n=vt(0,pt(t)),s.hasUserSize=!!n),d(e)&&(s.chartHeight=o=vt(0,pt(e))),(X?Te:m)(s.container,{width:n+Yt,height:o+Yt},X),s.setChartSize(!0),s.renderer.setSize(n,o,i),s.maxTicks=null,ve(s.axes,function(t){t.isDirty=!0,t.setScale()}),ve(s.series,function(t){t.isDirty=!0}),s.isDirtyLegend=!0,s.isDirtyBox=!0,s.getMargins(),s.redraw(i),s.oldChartHeight=null,Ce(s,"resize"),X===!1?r():setTimeout(r,X&&X.duration||500)},setChartSize:function(t){var e,i,n,o,r,s,a,l=this,c=l.inverted,u=l.renderer,d=l.chartWidth,h=l.chartHeight,f=l.options.chart,p=l.spacing,m=l.clipOffset;l.plotLeft=n=pt(l.plotLeft),l.plotTop=o=pt(l.plotTop),l.plotWidth=r=vt(0,pt(d-n-l.marginRight)),l.plotHeight=s=vt(0,pt(h-o-l.marginBottom)),l.plotSizeX=c?s:r,l.plotSizeY=c?r:s,l.plotBorderWidth=f.plotBorderWidth||0,l.spacingBox=u.spacingBox={x:p[3],y:p[0],width:d-p[3]-p[1],height:h-p[0]-p[2]},l.plotBox=u.plotBox={x:n,y:o,width:r,height:s},a=2*mt(l.plotBorderWidth/2),e=gt(vt(a,m[3])/2),i=gt(vt(a,m[0])/2),l.clipBox={x:e,y:i,width:mt(l.plotSizeX-vt(a,m[1])/2-e),height:mt(l.plotSizeY-vt(a,m[2])/2-i)},t||ve(l.axes,function(t){t.setAxisSize(),t.setAxisTranslation()})},resetMargins:function(){var t=this,e=t.spacing,i=t.margin;t.plotTop=p(i[0],e[0]),t.marginRight=p(i[1],e[1]),t.marginBottom=p(i[2],e[2]),t.plotLeft=p(i[3],e[3]),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e,i=this,n=i.options.chart,o=i.renderer,r=i.chartWidth,s=i.chartHeight,a=i.chartBackground,l=i.plotBackground,c=i.plotBorder,u=i.plotBGImage,d=n.borderWidth||0,h=n.backgroundColor,f=n.plotBackgroundColor,p=n.plotBackgroundImage,m=n.plotBorderWidth||0,g=i.plotLeft,v=i.plotTop,y=i.plotWidth,b=i.plotHeight,x=i.plotBox,_=i.clipRect,w=i.clipBox;t=d+(n.shadow?8:0),(d||h)&&(a?a.animate(a.crisp({width:r-t,height:s-t})):(e={fill:h||Xt},d&&(e.stroke=n.borderColor,e["stroke-width"]=d),i.chartBackground=o.rect(t/2,t/2,r-t,s-t,n.borderRadius,d).attr(e).addClass(Ut+"background").add().shadow(n.shadow))),f&&(l?l.animate(x):i.plotBackground=o.rect(g,v,y,b,0).attr({fill:f}).add().shadow(n.plotShadow)),p&&(u?u.animate(x):i.plotBGImage=o.image(p,g,v,y,b).add()),_?_.animate({width:w.width,height:w.height}):i.clipRect=o.clipRect(w),m&&(c?c.animate(c.crisp({x:g,y:v,width:y,height:b})):i.plotBorder=o.rect(g,v,y,b,0,-m).attr({stroke:n.plotBorderColor,"stroke-width":m,fill:Xt,zIndex:1}).add()),i.isDirtyBox=!1},propFromSeries:function(){var t,e,i,n=this,o=n.options.chart,r=n.options.series;ve(["inverted","angular","polar"],function(s){for(t=ue[o.type||o.defaultSeriesType],i=n[s]||o[s]||t&&t.prototype[s],e=r&&r.length;!i&&e--;)t=ue[r[e].type],t&&t.prototype[s]&&(i=!0);n[s]=i})},linkSeries:function(){var t=this,e=t.series;ve(e,function(t){t.linkedSeries.length=0}),ve(e,function(e){var i=e.options.linkedTo;o(i)&&(i=":previous"===i?t.series[e.index-1]:t.get(i),i&&(i.linkedSeries.push(e),e.linkedParent=i))})},renderSeries:function(){ve(this.series,function(t){t.translate(),t.setTooltipPoints&&t.setTooltipPoints(),t.render()})},render:function(){var e,i=this,o=i.axes,r=i.renderer,s=i.options,a=s.labels,l=s.credits;i.setTitle(),i.legend=new Ye(i,s.legend),i.getStacks(),ve(o,function(t){t.setScale()}),i.getMargins(),i.maxTicks=null,ve(o,function(t){t.setTickPositions(!0),t.setMaxTicks()}),i.adjustTickAmounts(),i.getMargins(),i.drawChartBox(),i.hasCartesianSeries&&ve(o,function(t){t.render()}),i.seriesGroup||(i.seriesGroup=r.g("series-group").attr({zIndex:3}).add()),i.renderSeries(),a.items&&ve(a.items,function(e){var o=t(a.style,e.style),s=n(o.left)+i.plotLeft,l=n(o.top)+i.plotTop+12;delete o.left,delete o.top,r.text(e.html,s,l).attr({zIndex:2}).css(o).add()}),l.enabled&&!i.credits&&(e=l.href,i.credits=r.text(l.text,0,0).on("click",function(){e&&(location.href=e)}).attr({align:l.position.align,zIndex:8}).css(l.style).add().align(l.position)),i.hasRendered=!0},destroy:function(){var t,e=this,i=e.axes,n=e.series,o=e.container,r=o&&o.parentNode;for(Ce(e,"destroy"),Ft[e.index]=W,e.renderTo.removeAttribute("data-highcharts-chart"),we(e),t=i.length;t--;)i[t]=i[t].destroy();for(t=n.length;t--;)n[t]=n[t].destroy();ve(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","scroller","rangeSelector","legend","resetZoomButton","tooltip","renderer"],function(t){var i=e[t];i&&i.destroy&&(e[t]=i.destroy())}),o&&(o.innerHTML="",we(o),r&&P(o));for(t in e)delete e[t]},isReadyToRender:function(){var t=this;return!Mt&&ht==ht.top&&"complete"!==dt.readyState||$t&&!ht.canvg?($t?He.push(function(){t.firstRender()},t.options.global.canvasToolsURL):dt.attachEvent("onreadystatechange",function(){dt.detachEvent("onreadystatechange",t.firstRender),"complete"===dt.readyState&&t.firstRender()}),!1):!0},firstRender:function(){var t=this,e=t.options,i=t.callback;t.isReadyToRender()&&(t.getContainer(),Ce(t,"init"),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),ve(e.series||[],function(e){t.initSeries(e)}),t.linkSeries(),Ce(t,"beforeRender"),de.Pointer&&(t.pointer=new We(t,e)),t.render(),t.renderer.draw(),i&&i.apply(t,[t]),ve(t.callbacks,function(e){e.apply(t,[t])}),t.cloneRenderTo(!0),Ce(t,"load"))},splashArray:function(t,e){var i=e[t],n=r(i)?i:[i,i,i,i];return[p(e[t+"Top"],n[0]),p(e[t+"Right"],n[1]),p(e[t+"Bottom"],n[2]),p(e[t+"Left"],n[3])]}},B.prototype.callbacks=[];var Ge=de.CenteredSeriesMixin={getCenter:function(){var t,e,i=this.options,o=this.chart,r=2*(i.slicedOffset||0),s=o.plotWidth-2*r,a=o.plotHeight-2*r,l=i.center,c=[p(l[0],"50%"),p(l[1],"50%"),i.size||"100%",i.innerSize||0],u=yt(s,a);return xe(c,function(i,o){return e=/%$/.test(i),t=2>o||2===o&&e,(e?[s,a,u,u][o]*n(i)/100:i)+(t?r:0)})}},Ke=function(){};Ke.prototype={init:function(t,e,i){var n,o=this;return o.series=t,o.applyOptions(e,i),o.pointAttr={},t.options.colorByPoint&&(n=t.options.colors||t.chart.options.colors,o.color=o.color||n[t.colorCounter++],t.colorCounter===n.length&&(t.colorCounter=0)),t.chart.pointCount++,o},applyOptions:function(e,i){var n=this,o=n.series,r=o.pointValKey;return e=Ke.prototype.optionsToObject.call(this,e),t(n,e),n.options=n.options?t(n.options,e):e,r&&(n.y=n[r]),n.x===W&&o&&(n.x=i===W?o.autoIncrement():i),n},optionsToObject:function(t){var e,i={},n=this.series,o=n.pointArrayMap||["y"],r=o.length,a=0,l=0;if("number"==typeof t||null===t)i[o[0]]=t;else if(s(t))for(t.length>r&&(e=typeof t[0],"string"===e?i.name=t[0]:"number"===e&&(i.x=t[0]),a++);r>l;)i[o[l++]]=t[a++];else"object"==typeof t&&(i=t,t.dataLabels&&(n._hasPointLabels=!0),t.marker&&(n._hasPointMarkers=!0));return i},destroy:function(){var t,e=this,i=e.series,n=i.chart,o=n.hoverPoints;n.pointCount--,o&&(e.setState(),u(o,e),o.length||(n.hoverPoints=null)),e===n.hoverPoint&&e.onMouseOut(),(e.graphic||e.dataLabel)&&(we(e),e.destroyElements()),e.legendItem&&n.legend.destroyItem(e);for(t in e)e[t]=null},destroyElements:function(){for(var t,e=this,i=["graphic","dataLabel","dataLabelUpper","group","connector","shadowGroup"],n=6;n--;)t=i[n],e[t]&&(e[t]=e[t].destroy())},getLabelConfig:function(){var t=this;return{x:t.category,y:t.y,key:t.name||t.category,series:t.series,point:t,percentage:t.percentage,total:t.total||t.stackTotal}},tooltipFormatter:function(t){var e=this.series,i=e.tooltipOptions,n=p(i.valueDecimals,""),o=i.valuePrefix||"",r=i.valueSuffix||"";return ve(e.pointArrayMap||["y"],function(e){e="{point."+e,(o||r)&&(t=t.replace(e+"}",o+e+"}"+r)),t=t.replace(e+"}",e+":,."+n+"f}")}),w(t,{point:this,series:this.series})}};var Qe=function(){};Qe.prototype={isCartesian:!0,type:"line",pointClass:Ke,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(e,i){var n,o,r=this,s=e.series,a=function(t,e){return p(t.options.index,t._i)-p(e.options.index,e._i)};r.chart=e,r.options=i=r.setOptions(i),r.linkedSeries=[],r.bindAxes(),t(r,{name:i.name,state:Jt,pointAttr:{},visible:i.visible!==!1,selected:i.selected===!0}),$t&&(i.animation=!1),o=i.events;for(n in o)_e(r,n,o[n]);(o&&o.click||i.point&&i.point.events&&i.point.events.click||i.allowPointSelect)&&(e.runTrackerClick=!0),r.getColor(),r.getSymbol(),ve(r.parallelArrays,function(t){r[t+"Data"]=[]}),r.setData(i.data,!1),r.isCartesian&&(e.hasCartesianSeries=!0),s.push(r),r._i=s.length-1,S(s,a),this.yAxis&&S(this.yAxis.series,a),ve(s,function(t,e){t.index=e,t.name=t.name||"Series "+(e+1)})},bindAxes:function(){var t,e=this,i=e.options,n=e.chart;ve(e.axisTypes||[],function(o){ve(n[o],function(n){t=n.options,(i[o]===t.index||i[o]!==W&&i[o]===t.id||i[o]===W&&0===t.index)&&(n.series.push(e),e[o]=n,n.isDirty=!0)}),e[o]||e.optionalAxis===o||A(18,!0)})},updateParallelArrays:function(t,e){var i=t.series,n=arguments,o="number"==typeof e?function(n){var o="y"===n&&i.toYData?i.toYData(t):t[n];i[n+"Data"][e]=o}:function(t){Array.prototype[e].apply(i[t+"Data"],Array.prototype.slice.call(n,2))};ve(i.parallelArrays,o)},autoIncrement:function(){var t=this,e=t.options,i=t.xIncrement;return i=p(i,e.pointStart,0),t.pointInterval=p(t.pointInterval,e.pointInterval,1),t.xIncrement=i+t.pointInterval,i},getSegments:function(){var t,e=this,i=-1,n=[],o=e.points,r=o.length;if(r)if(e.options.connectNulls){for(t=r;t--;)null===o[t].y&&o.splice(t,1);o.length&&(n=[o])}else ve(o,function(t,e){null===t.y?(e>i+1&&n.push(o.slice(i+1,e)),i=e):e===r-1&&n.push(o.slice(i+1,e+1))});e.segments=n},setOptions:function(t){var i,n=this.chart,o=n.options,r=o.plotOptions,s=n.userOptions||{},a=s.plotOptions||{},l=r[this.type];return this.userOptions=t,i=e(l,r.series,t),this.tooltipOptions=e(q.tooltip,q.plotOptions[this.type].tooltip,s.tooltip,a.series&&a.series.tooltip,a[this.type]&&a[this.type].tooltip,t.tooltip),null===l.marker&&delete i.marker,i},getColor:function(){var t,e,i=this.options,n=this.userOptions,o=this.chart.options.colors,r=this.chart.counters;t=i.color||De[this.type].color,t||i.colorByPoint||(d(n._colorIndex)?e=n._colorIndex:(n._colorIndex=r.color,e=r.color++),t=o[e]),this.color=t,r.wrapColor(o.length)},getSymbol:function(){var t,e=this,i=e.userOptions,n=e.options.marker,o=e.chart,r=o.options.symbols,s=o.counters;e.symbol=n.symbol,e.symbol||(d(i._symbolIndex)?t=i._symbolIndex:(i._symbolIndex=s.symbol,t=s.symbol++),e.symbol=r[t]),/^url/.test(e.symbol)&&(n.radius=0),s.wrapSymbol(r.length)},drawLegendSymbol:Xe.drawLineMarker,setData:function(t,e,i,n){var r,l,c,u=this,d=u.points,h=d&&d.length||0,f=u.options,m=u.chart,g=null,v=u.xAxis,y=v&&!!v.categories,b=u.tooltipPoints,x=f.turboThreshold,_=this.xData,w=this.yData,C=u.pointArrayMap,k=C&&C.length;if(t=t||[],r=t.length,e=p(e,!0),n===!1||!r||h!==r||u.cropped||u.hasGroupedData){if(u.xIncrement=null,u.pointRange=y?1:f.pointRange,u.colorCounter=0,ve(this.parallelArrays,function(t){u[t+"Data"].length=0}),x&&r>x){for(l=0;null===g&&r>l;)g=t[l],l++;if(a(g)){var T=p(f.pointStart,0),S=p(f.pointInterval,1);for(l=0;r>l;l++)_[l]=T,w[l]=t[l],T+=S;u.xIncrement=T}else if(s(g))if(k)for(l=0;r>l;l++)c=t[l],_[l]=c[0],w[l]=c.slice(1,k+1);else for(l=0;r>l;l++)c=t[l],_[l]=c[0],w[l]=c[1];else A(12)}else for(l=0;r>l;l++)t[l]!==W&&(c={series:u},u.pointClass.prototype.applyOptions.apply(c,[t[l]]),u.updateParallelArrays(c,l),y&&c.name&&(v.names[c.x]=c.name));for(o(w[0])&&A(14,!0),u.data=[],u.options.data=t,l=h;l--;)d[l]&&d[l].destroy&&d[l].destroy();b&&(b.length=0),v&&(v.minRange=v.userMinRange),u.isDirty=u.isDirtyData=m.isDirtyBox=!0,i=!1}else ve(t,function(t,e){d[e].update(t,!1)});e&&m.redraw(i)},processData:function(t){var e,i,n,o,r,s=this,a=s.xData,l=s.yData,c=a.length,u=0,d=s.xAxis,h=s.options,f=h.cropThreshold,p=s.isCartesian;if(p&&!s.isDirty&&!d.isDirty&&!s.yAxis.isDirty&&!t)return!1;if(p&&s.sorted&&(!f||c>f||s.forceCrop)){var m=d.min,g=d.max;a[c-1]<m||a[0]>g?(a=[],l=[]):(a[0]<m||a[c-1]>g)&&(e=this.cropData(s.xData,s.yData,m,g),a=e.xData,l=e.yData,u=e.start,i=!0)}for(r=a.length-1;r>=0;r--)n=a[r]-a[r-1],n>0&&(o===W||o>n)?o=n:0>n&&s.requireSorting&&A(15);s.cropped=i,s.cropStart=u,s.processedXData=a,s.processedYData=l,null===h.pointRange&&(s.pointRange=o||1),s.closestPointRange=o},cropData:function(t,e,i,n){var o,r=t.length,s=0,a=r,l=p(this.cropShoulder,1);for(o=0;r>o;o++)if(t[o]>=i){s=vt(0,o-l);break}for(;r>o;o++)if(t[o]>n){a=o+l;break}return{xData:t.slice(s,a),yData:e.slice(s,a),start:s,end:a}},generatePoints:function(){var t,e,i,n,o=this,r=o.options,s=r.data,a=o.data,l=o.processedXData,c=o.processedYData,u=o.pointClass,d=l.length,h=o.cropStart||0,p=o.hasGroupedData,m=[];if(!a&&!p){var g=[];g.length=s.length,a=o.data=g}for(n=0;d>n;n++)e=h+n,p?m[n]=(new u).init(o,[l[n]].concat(f(c[n]))):(a[e]?i=a[e]:s[e]!==W&&(a[e]=i=(new u).init(o,s[e],l[n])),m[n]=i);if(a&&(d!==(t=a.length)||p))for(n=0;t>n;n++)n!==h||p||(n+=d),a[n]&&(a[n].destroyElements(),a[n].plotX=W);o.data=a,o.points=m},getExtremes:function(t){var e,i,n,o,r,s,a,l,c,u=this.xAxis,d=this.yAxis,h=this.processedXData,f=[],m=0,g=u.getExtremes(),v=g.min,y=g.max;for(t=t||this.stackedYData||this.processedYData,e=t.length,l=0;e>l;l++)if(s=h[l],a=t[l],i=null!==a&&a!==W&&(!d.isLog||a.length||a>0),n=this.getExtremesFromAll||this.cropped||(h[l+1]||s)>=v&&(h[l-1]||s)<=y,i&&n)if(c=a.length)for(;c--;)null!==a[c]&&(f[m++]=a[c]);else f[m++]=a;this.dataMin=p(o,N(f)),this.dataMax=p(r,D(f))},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t,e=this,i=e.options,n=i.stacking,o=e.xAxis,r=o.categories,s=e.yAxis,l=e.points,c=l.length,u=!!e.modifyValue,h=i.pointPlacement,f="between"===h||a(h),m=i.threshold;for(t=0;c>t;t++){var g,v,y=l[t],b=y.x,x=y.y,_=y.low,w=n&&s.stacks[(e.negStacks&&m>x?"-":"")+e.stackKey];s.isLog&&0>=x&&(y.y=x=null),y.plotX=o.translate(b,0,0,0,1,h,"flags"===this.type),n&&e.visible&&w&&w[b]&&(g=w[b],v=g.points[e.index],_=v[0],x=v[1],0===_&&(_=p(m,s.min)),s.isLog&&0>=_&&(_=null),y.total=y.stackTotal=g.total,y.percentage=g.total&&y.y/g.total*100,y.stackY=x,g.setOffset(e.pointXOffset||0,e.barW||0)),y.yBottom=d(_)?s.translate(_,0,1,0,1):null,u&&(x=e.modifyValue(x,y)),y.plotY="number"==typeof x&&x!==1/0?s.translate(x,0,1,0,1):W,y.clientX=f?o.translate(b,0,0,0,1):y.plotX,y.negative=y.y<(m||0),y.category=r&&r[y.x]!==W?r[y.x]:y.x}e.getSegments()},animate:function(e){var i,n,o,s=this,a=s.chart,l=a.renderer,c=s.options.animation,u=a.clipBox,d=a.inverted;c&&!r(c)&&(c=De[s.type].animation),o="_sharedClip"+c.duration+c.easing,e?(i=a[o],n=a[o+"m"],i||(a[o]=i=l.clipRect(t(u,{width:0})),a[o+"m"]=n=l.clipRect(-99,d?-a.plotLeft:-a.plotTop,99,d?a.chartWidth:a.chartHeight)),s.group.clip(i),s.markerGroup.clip(n),s.sharedClipKey=o):(i=a[o],i&&(i.animate({width:a.plotSizeX},c),a[o+"m"].animate({width:a.plotSizeX+99},c)),s.animate=null,s.animationTimeout=setTimeout(function(){s.afterAnimate()},c.duration))},afterAnimate:function(){var t=this.chart,e=this.sharedClipKey,i=this.group;i&&this.options.clip!==!1&&(i.clip(t.clipRect),this.markerGroup.clip()),setTimeout(function(){e&&t[e]&&(t[e]=t[e].destroy(),t[e+"m"]=t[e+"m"].destroy())},100)},drawPoints:function(){var e,i,n,o,r,s,a,l,c,u,d,h,f=this,m=f.points,g=f.chart,v=f.options,y=v.marker,b=f.pointAttr[""],x=f.markerGroup;if(y.enabled||f._hasPointMarkers)for(o=m.length;o--;)r=m[o],i=mt(r.plotX),n=r.plotY,c=r.graphic,u=r.marker||{},d=y.enabled&&u.enabled===W||u.enabled,h=g.isInsidePlot(pt(i),n,g.inverted),d&&n!==W&&!isNaN(n)&&null!==r.y?(e=r.pointAttr[r.selected?te:Jt]||b,s=e.r,a=p(u.symbol,f.symbol),l=0===a.indexOf("url"),c?c.attr({visibility:h?"inherit":Vt}).animate(t({x:i-s,y:n-s},c.symbolName?{width:2*s,height:2*s}:{})):h&&(s>0||l)&&(r.graphic=c=g.renderer.symbol(a,i-s,n-s,2*s,2*s).attr(e).add(x))):c&&(r.graphic=c.destroy())},convertAttribs:function(t,e,i,n){var o,r,s=this.pointAttrToOptions,a={};t=t||{},e=e||{},i=i||{},n=n||{};for(o in s)r=s[o],a[o]=p(t[r],e[o],i[o],n[o]);return a},getAttribs:function(){var e,i,n,o,r,s,a=this,l=a.options,c=De[a.type].marker?l.marker:l,u=c.states,h=u[Zt],f=a.color,p={stroke:f,fill:f},m=a.points||[],g=[],v=a.pointAttrToOptions,y=a.hasPointSpecificOptions,b=l.negativeColor,x=c.lineColor,_=c.fillColor,w=l.turboThreshold;if(l.marker?(h.radius=h.radius||c.radius+2,h.lineWidth=h.lineWidth||c.lineWidth+1):h.color=h.color||Ie(h.color||f).brighten(h.brightness).get(),g[Jt]=a.convertAttribs(c,p),ve([Zt,te],function(t){g[t]=a.convertAttribs(u[t],g[Jt])}),a.pointAttr=g,i=m.length,!w||w>i||y)for(;i--;){if(n=m[i],c=n.options&&n.options.marker||n.options,c&&c.enabled===!1&&(c.radius=0),n.negative&&b&&(n.color=n.fillColor=b),y=l.colorByPoint||n.color,n.options)for(s in v)d(c[v[s]])&&(y=!0);y?(c=c||{},o=[],u=c.states||{},e=u[Zt]=u[Zt]||{},l.marker||(e.color=e.color||!n.options.color&&h.color||Ie(n.color).brighten(e.brightness||h.brightness).get()),r={color:n.color},_||(r.fillColor=n.color),x||(r.lineColor=n.color),o[Jt]=a.convertAttribs(t(r,c),g[Jt]),o[Zt]=a.convertAttribs(u[Zt],g[Zt],o[Jt]),o[te]=a.convertAttribs(u[te],g[te],o[Jt])):o=g,n.pointAttr=o}},destroy:function(){var t,e,i,n,o,r=this,s=r.chart,a=/AppleWebKit\/533/.test(kt),l=r.data||[];for(Ce(r,"destroy"),we(r),ve(r.axisTypes||[],function(t){o=r[t],o&&(u(o.series,r),o.isDirty=o.forceRedraw=!0)}),r.legendItem&&r.chart.legend.destroyItem(r),e=l.length;e--;)i=l[e],i&&i.destroy&&i.destroy();r.points=null,clearTimeout(r.animationTimeout),ve(["area","graph","dataLabelsGroup","group","markerGroup","tracker","graphNeg","areaNeg","posClip","negClip"],function(e){r[e]&&(t=a&&"group"===e?"hide":"destroy",r[e][t]())}),s.hoverSeries===r&&(s.hoverSeries=null),u(s.series,r);for(n in r)delete r[n]},getSegmentPath:function(t){var e=this,i=[],n=e.options.step;return ve(t,function(o,r){var s,a=o.plotX,l=o.plotY;e.getPointSpline?i.push.apply(i,e.getPointSpline(t,o,r)):(i.push(r?Kt:Gt),n&&r&&(s=t[r-1],"right"===n?i.push(s.plotX,l):"center"===n?i.push((s.plotX+a)/2,s.plotY,(s.plotX+a)/2,l):i.push(a,s.plotY)),i.push(o.plotX,o.plotY))}),i},getGraphPath:function(){var t,e=this,i=[],n=[];return ve(e.segments,function(o){t=e.getSegmentPath(o),o.length>1?i=i.concat(t):n.push(o[0])}),e.singlePoints=n,e.graphPath=i,i},drawGraph:function(){var t=this,e=this.options,i=[["graph",e.lineColor||this.color]],n=e.lineWidth,o=e.dashStyle,r="square"!==e.linecap,s=this.getGraphPath(),a=e.negativeColor;a&&i.push(["graphNeg",a]),ve(i,function(i,a){var l,c=i[0],u=t[c];u?(Se(u),u.animate({d:s})):n&&s.length&&(l={stroke:i[1],"stroke-width":n,fill:Xt,zIndex:1},o?l.dashstyle=o:r&&(l["stroke-linecap"]=l["stroke-linejoin"]="round"),t[c]=t.chart.renderer.path(s).attr(l).add(t.group).shadow(!a&&e.shadow))})},clipNeg:function(){var t,e,i,n,o,r=this.options,s=this.chart,a=s.renderer,l=r.negativeColor||r.negativeFillColor,c=this.graph,u=this.area,d=this.posClip,h=this.negClip,f=s.chartWidth,p=s.chartHeight,m=vt(f,p),g=this.yAxis;l&&(c||u)&&(t=pt(g.toPixels(r.threshold||0,!0)),0>t&&(m-=t),n={x:0,y:0,width:m,height:t},o={x:0,y:t,width:m,height:m},s.inverted&&(n.height=o.y=s.plotWidth-t,a.isVML&&(n={x:s.plotWidth-t-s.plotLeft,y:0,width:f,height:p},o={x:t+s.plotLeft-f,y:0,width:s.plotLeft+t,height:f})),g.reversed?(e=o,i=n):(e=n,i=o),d?(d.animate(e),h.animate(i)):(this.posClip=d=a.clipRect(e),this.negClip=h=a.clipRect(i),c&&this.graphNeg&&(c.clip(d),this.graphNeg.clip(h)),u&&(u.clip(d),this.areaNeg.clip(h))))},invertGroups:function(){function t(){var t={width:e.yAxis.len,height:e.xAxis.len};ve(["group","markerGroup"],function(i){e[i]&&e[i].attr(t).invert()})}var e=this,i=e.chart;e.xAxis&&(_e(i,"resize",t),_e(e,"destroy",function(){we(i,"resize",t)}),t(),e.invertGroups=t)},plotGroup:function(t,e,i,n,o){var r=this[t],s=!r;return s&&(this[t]=r=this.chart.renderer.g(e).attr({visibility:i,zIndex:n||.1}).add(o)),r[s?"attr":"animate"](this.getPlotBox()),r},getPlotBox:function(){return{translateX:this.xAxis?this.xAxis.left:this.chart.plotLeft,
translateY:this.yAxis?this.yAxis.top:this.chart.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,i=e.chart,n=e.options,o=n.animation,r=o&&!!e.animate&&i.renderer.isSVG,s=e.visible?qt:Vt,a=n.zIndex,l=e.hasRendered,c=i.seriesGroup;t=e.plotGroup("group","series",s,a,c),e.markerGroup=e.plotGroup("markerGroup","markers",s,a,c),r&&e.animate(!0),e.getAttribs(),t.inverted=e.isCartesian?i.inverted:!1,e.drawGraph&&(e.drawGraph(),e.clipNeg()),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&e.options.enableMouseTracking!==!1&&e.drawTracker(),i.inverted&&e.invertGroups(),n.clip===!1||e.sharedClipKey||l||t.clip(i.clipRect),r?e.animate():l||e.afterAnimate(),e.isDirty=e.isDirtyData=!1,e.hasRendered=!0},redraw:function(){var t=this,e=t.chart,i=t.isDirtyData,n=t.group,o=t.xAxis,r=t.yAxis;n&&(e.inverted&&n.attr({width:e.plotWidth,height:e.plotHeight}),n.animate({translateX:p(o&&o.left,e.plotLeft),translateY:p(r&&r.top,e.plotTop)})),t.translate(),t.setTooltipPoints(!0),t.render(),i&&Ce(t,"updatedData")}},z.prototype={destroy:function(){E(this,this.axis)},render:function(t){var e=this.options,i=e.format,n=i?w(i,this):e.formatter.call(this);this.label?this.label.attr({text:n,visibility:Vt}):this.label=this.axis.chart.renderer.text(n,0,0,e.useHTML).css(e.style).attr({align:this.textAlign,rotation:e.rotation,visibility:Vt}).add(t)},setOffset:function(t,e){var i,n=this,o=n.axis,r=o.chart,s=r.inverted,a=this.isNegative,l=o.translate(this.percent?100:this.total,0,0,0,1),c=o.translate(0),u=bt(l-c),d=r.xAxis[0].translate(this.x)+t,h=r.plotHeight,f={x:s?a?l:l-u:d,y:s?h-d-e:a?h-l-u:h-l,width:s?u:e,height:s?e:u},p=this.label;p&&(p.align(this.alignOptions,null,f),i=p.alignAttr,p[this.options.crop===!1||r.isInsidePlot(i.x,i.y)?"show":"hide"](!0))}},H.prototype.buildStacks=function(){var t=this.series,e=p(this.options.reversedStacks,!0),i=t.length;if(!this.isXAxis){for(this.usePercentage=!1;i--;)t[e?i:t.length-i-1].setStackedPoints();if(this.usePercentage)for(i=0;i<t.length;i++)t[i].setPercentStacks()}},H.prototype.renderStackTotals=function(){var t,e,i,n=this,o=n.chart,r=o.renderer,s=n.stacks,a=n.stackTotalGroup;a||(n.stackTotalGroup=a=r.g("stack-labels").attr({visibility:qt,zIndex:6}).add()),a.translate(o.plotLeft,o.plotTop);for(t in s){e=s[t];for(i in e)e[i].render(a)}},Qe.prototype.setStackedPoints=function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var t,e,i,n,o,r,s,a=this,l=a.processedXData,c=a.processedYData,u=[],d=c.length,h=a.options,f=h.threshold,p=h.stack,m=h.stacking,g=a.stackKey,v="-"+g,y=a.negStacks,b=a.yAxis,x=b.stacks,_=b.oldStacks;for(o=0;d>o;o++)r=l[o],s=c[o],t=y&&f>s,n=t?v:g,x[n]||(x[n]={}),x[n][r]||(_[n]&&_[n][r]?(x[n][r]=_[n][r],x[n][r].total=null):x[n][r]=new z(b,b.options.stackLabels,t,r,p,m)),e=x[n][r],e.points[a.index]=[e.cum||0],"percent"===m?(i=t?g:v,y&&x[i]&&x[i][r]?(i=x[i][r],e.total=i.total=vt(i.total,e.total)+bt(s)||0):e.total=M(e.total+(bt(s)||0))):e.total=M(e.total+(s||0)),e.cum=(e.cum||0)+(s||0),e.points[a.index].push(e.cum),u[o]=e.cum;"percent"===m&&(b.usePercentage=!0),this.stackedYData=u,b.oldStacks={}}},Qe.prototype.setPercentStacks=function(){var t=this,e=t.stackKey,i=t.yAxis.stacks,n=t.processedXData;ve([e,"-"+e],function(e){for(var o,r,s,a,l=n.length;l--;)o=n[l],r=i[e]&&i[e][o],s=r&&r.points[t.index],s&&(a=r.total?100/r.total:0,s[0]=M(s[0]*a),s[1]=M(s[1]*a),t.stackedYData[l]=s[1])})},t(B.prototype,{addSeries:function(t,e,i){var n,o=this;return t&&(e=p(e,!0),Ce(o,"addSeries",{options:t},function(){n=o.initSeries(t),o.isDirtyLegend=!0,o.linkSeries(),e&&o.redraw(i)})),n},addAxis:function(t,i,n,o){var r,s=i?"xAxis":"yAxis",a=this.options;r=new H(this,e(t,{index:this[s].length,isX:i})),a[s]=f(a[s]||{}),a[s].push(t),p(n,!0)&&this.redraw(o)},showLoading:function(e){var i=this,n=i.options,o=i.loadingDiv,r=n.loading;o||(i.loadingDiv=o=g(zt,{className:Ut+"loading"},t(r.style,{zIndex:10,display:Xt}),i.container),i.loadingSpan=g("span",null,r.labelStyle,o)),i.loadingSpan.innerHTML=e||n.lang.loading,i.loadingShown||(m(o,{opacity:0,display:"",left:i.plotLeft+Yt,top:i.plotTop+Yt,width:i.plotWidth+Yt,height:i.plotHeight+Yt}),Te(o,{opacity:r.style.opacity},{duration:r.showDuration||0}),i.loadingShown=!0)},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&Te(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){m(e,{display:Xt})}}),this.loadingShown=!1}}),t(Ke.prototype,{update:function(t,e,i){var n,o=this,s=o.series,a=o.graphic,l=s.data,c=s.chart,u=s.options;e=p(e,!0),o.firePointEvent("update",{options:t},function(){o.applyOptions(t),r(t)&&(s.getAttribs(),a&&(t&&t.marker&&t.marker.symbol?o.graphic=a.destroy():a.attr(o.pointAttr[o.state||""])),t&&t.dataLabels&&o.dataLabel&&(o.dataLabel=o.dataLabel.destroy())),n=ge(o,l),s.updateParallelArrays(o,n),u.data[n]=o.options,s.isDirty=s.isDirtyData=!0,!s.fixedBox&&s.hasCartesianSeries&&(c.isDirtyBox=!0),"point"===u.legendType&&c.legend.destroyItem(o),e&&c.redraw(i)})},remove:function(t,e){var i,n=this,o=n.series,r=o.points,s=o.chart,a=o.data;I(e,s),t=p(t,!0),n.firePointEvent("remove",null,function(){i=ge(n,a),a.length===r.length&&r.splice(i,1),a.splice(i,1),o.options.data.splice(i,1),o.updateParallelArrays(n,"splice",i,1),n.destroy(),o.isDirty=!0,o.isDirtyData=!0,t&&s.redraw()})}}),t(Qe.prototype,{addPoint:function(t,e,i,n){var o,r,s,a,l=this,c=l.options,u=l.data,d=l.graph,h=l.area,f=l.chart,m=l.xAxis&&l.xAxis.names,g=d&&d.shift||0,v=c.data,y=l.xData;if(I(n,f),i&&ve([d,h,l.graphNeg,l.areaNeg],function(t){t&&(t.shift=g+1)}),h&&(h.isArea=!0),e=p(e,!0),o={series:l},l.pointClass.prototype.applyOptions.apply(o,[t]),s=o.x,a=y.length,l.requireSorting&&s<y[a-1])for(r=!0;a&&y[a-1]>s;)a--;l.updateParallelArrays(o,"splice",a,0,0),l.updateParallelArrays(o,a),m&&(m[s]=o.name),v.splice(a,0,t),r&&(l.data.splice(a,0,null),l.processData()),"point"===c.legendType&&l.generatePoints(),i&&(u[0]&&u[0].remove?u[0].remove(!1):(u.shift(),l.updateParallelArrays(o,"shift"),v.shift())),l.isDirty=!0,l.isDirtyData=!0,e&&(l.getAttribs(),f.redraw())},remove:function(t,e){var i=this,n=i.chart;t=p(t,!0),i.isRemoving||(i.isRemoving=!0,Ce(i,"remove",null,function(){i.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,n.linkSeries(),t&&n.redraw(e)})),i.isRemoving=!1},update:function(i,n){var o,r=this.chart,s=this.userOptions,a=this.type,l=ue[a].prototype;i=e(s,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},i),this.remove(!1);for(o in l)l.hasOwnProperty(o)&&(this[o]=W);t(this,ue[i.type||a].prototype),this.init(r,i),p(n,!0)&&r.redraw(!1)}}),t(H.prototype,{update:function(i,n){var o=this.chart;i=o.options[this.coll][this.options.index]=e(this.userOptions,i),this.destroy(!0),this._addedPlotLB=this.userMin=this.userMax=W,this.init(o,t(i,{events:W})),o.isDirtyBox=!0,p(n,!0)&&o.redraw()},remove:function(t){for(var e=this.chart,i=this.coll,n=this.series,o=n.length;o--;)n[o]&&n[o].remove(!1);u(e.axes,this),u(e[i],this),e.options[i].splice(this.options.index,1),ve(e[i],function(t,e){t.options.index=e}),this.destroy(),e.isDirtyBox=!0,p(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}});var Je=v(Qe);ue.line=Je,De.area=e(Ee,{threshold:0});var Ze=v(Qe,{type:"area",getSegments:function(){var t,e,i,n,o,r=[],s=[],a=[],l=this.xAxis,c=this.yAxis,u=c.stacks[this.stackKey],d={},h=this.points,f=this.options.connectNulls;if(this.options.stacking&&!this.cropped){for(n=0;n<h.length;n++)d[h[n].x]=h[n];for(o in u)null!==u[o].total&&a.push(+o);a.sort(function(t,e){return t-e}),ve(a,function(n){(!f||d[n]&&null!==d[n].y)&&(d[n]?s.push(d[n]):(t=l.translate(n),i=u[n].percent?u[n].total?100*u[n].cum/u[n].total:0:u[n].cum,e=c.toPixels(i,!0),s.push({y:null,plotX:t,clientX:t,plotY:e,yBottom:e,onMouseOver:Lt})))}),s.length&&r.push(s)}else Qe.prototype.getSegments.call(this),r=this.segments;this.segments=r},getSegmentPath:function(t){var e,i,n=Qe.prototype.getSegmentPath.call(this,t),o=[].concat(n),r=this.options,s=n.length,a=this.yAxis.getThreshold(r.threshold);if(3===s&&o.push(Kt,n[1],n[2]),r.stacking&&!this.closedStacks)for(e=t.length-1;e>=0;e--)i=p(t[e].yBottom,a),e<t.length-1&&r.step&&o.push(t[e+1].plotX,i),o.push(t[e].plotX,i);else this.closeSegment(o,t,a);return this.areaPath=this.areaPath.concat(o),n},closeSegment:function(t,e,i){t.push(Kt,e[e.length-1].plotX,i,Kt,e[0].plotX,i)},drawGraph:function(){this.areaPath=[],Qe.prototype.drawGraph.apply(this);var t=this,e=this.areaPath,i=this.options,n=i.negativeColor,o=i.negativeFillColor,r=[["area",this.color,i.fillColor]];(n||o)&&r.push(["areaNeg",n,o]),ve(r,function(n){var o=n[0],r=t[o];r?r.animate({d:e}):t[o]=t.chart.renderer.path(e).attr({fill:p(n[2],Ie(n[1]).setOpacity(p(i.fillOpacity,.75)).get()),zIndex:0}).add(t.group)})},drawLegendSymbol:Xe.drawRectangle});ue.area=Ze,De.spline=e(Ee);var ti=v(Qe,{type:"spline",getPointSpline:function(t,e,i){var n,o,r,s,a,l=1.5,c=l+1,u=e.plotX,d=e.plotY,h=t[i-1],f=t[i+1];if(h&&f){var p,m=h.plotX,g=h.plotY,v=f.plotX,y=f.plotY;n=(l*u+m)/c,o=(l*d+g)/c,r=(l*u+v)/c,s=(l*d+y)/c,p=(s-o)*(r-u)/(r-n)+d-s,o+=p,s+=p,o>g&&o>d?(o=vt(g,d),s=2*d-o):g>o&&d>o&&(o=yt(g,d),s=2*d-o),s>y&&s>d?(s=vt(y,d),o=2*d-s):y>s&&d>s&&(s=yt(y,d),o=2*d-s),e.rightContX=r,e.rightContY=s}return i?(a=["C",h.rightContX||h.plotX,h.rightContY||h.plotY,n||u,o||d,u,d],h.rightContX=h.rightContY=null):a=[Gt,u,d],a}});ue.spline=ti,De.areaspline=e(De.area);var ei=Ze.prototype,ii=v(ti,{type:"areaspline",closedStacks:!0,getSegmentPath:ei.getSegmentPath,closeSegment:ei.closeSegment,drawGraph:ei.drawGraph,drawLegendSymbol:Xe.drawRectangle});ue.areaspline=ii,De.column=e(Ee,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,threshold:0});var ni=v(Qe,{type:"column",pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},cropShoulder:0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){Qe.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&ve(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t,e,i=this,n=i.options,o=i.xAxis,r=i.yAxis,s=o.reversed,a={},l=0;n.grouping===!1?l=1:ve(i.chart.series,function(n){var o=n.options,s=n.yAxis;n.type===i.type&&n.visible&&r.len===s.len&&r.pos===s.pos&&(o.stacking?(t=n.stackKey,a[t]===W&&(a[t]=l++),e=a[t]):o.grouping!==!1&&(e=l++),n.columnIndex=e)});var c=yt(bt(o.transA)*(o.ordinalSlope||n.pointRange||o.closestPointRange||o.tickInterval||1),o.len),u=c*n.groupPadding,h=c-2*u,f=h/l,m=n.pointWidth,g=d(m)?(f-m)/2:f*n.pointPadding,v=p(m,f-2*g),y=(s?l-(i.columnIndex||0):i.columnIndex)||0,b=g+(u+y*f-c/2)*(s?-1:1);return i.columnMetrics={width:v,offset:b}},translate:function(){var t=this,e=t.chart,i=t.options,n=i.borderWidth,o=t.yAxis,r=i.threshold,s=t.translatedThreshold=o.getThreshold(r),a=p(i.minPointLength,5),l=t.getColumnMetrics(),c=l.width,u=t.barW=gt(vt(c,1+2*n)),d=t.pointXOffset=l.offset,h=-(n%2?.5:0),f=n%2?.5:1;e.renderer.isVML&&e.inverted&&(f+=1),Qe.prototype.translate.apply(t),ve(t.points,function(t){var e,i,n,r,l=p(t.yBottom,s),m=yt(vt(-999-l,t.plotY),o.len+999+l),g=t.plotX+d,v=u,y=yt(m,l),b=vt(m,l)-y;bt(b)<a&&a&&(b=a,y=pt(bt(y-s)>a?l-a:s-(o.translate(t.y,0,1,0,1)<=s?a:0))),t.barX=g,t.pointWidth=c,r=bt(g)<.5,e=pt(g+v)+h,g=pt(g)+h,v=e-g,n=bt(y)<.5,i=pt(y+b)+f,y=pt(y)+f,b=i-y,r&&(g+=1,v-=1),n&&(y-=1,b+=1),t.shapeType="rect",t.shapeArgs={x:g,y:y,width:v,height:b}})},getSymbol:Lt,drawLegendSymbol:Xe.drawRectangle,drawGraph:Lt,drawPoints:function(){var t,i=this,n=this.chart,o=i.options,r=n.renderer,s=o.animationLimit||250;ve(i.points,function(n){var a=n.plotY,l=n.graphic;a===W||isNaN(a)||null===n.y?l&&(n.graphic=l.destroy()):(t=n.shapeArgs,l?(Se(l),l[i.points.length<s?"animate":"attr"](e(t))):n.graphic=l=r[n.shapeType](t).attr(n.pointAttr[n.selected?te:Jt]).add(i.group).shadow(o.shadow,null,o.stacking&&!o.borderRadius))})},animate:function(t){var e,i=this,n=this.yAxis,o=i.options,r=this.chart.inverted,s={};Mt&&(t?(s.scaleY=.001,e=yt(n.pos+n.len,vt(n.pos,n.toPixels(o.threshold))),r?s.translateX=e-n.len:s.translateY=e,i.group.attr(s)):(s.scaleY=1,s[r?"translateX":"translateY"]=n.pos,i.group.animate(s,i.options.animation),i.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&ve(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),Qe.prototype.remove.apply(t,arguments)}});ue.column=ni,De.bar=e(De.column);var oi=v(ni,{type:"bar",inverted:!0});ue.bar=oi,De.scatter=e(Ee,{lineWidth:0,tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>",followPointer:!0},stickyTracking:!1});var ri=v(Qe,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["markerGroup"],takeOrdinalPosition:!1,singularTooltips:!0,drawGraph:function(){this.options.lineWidth&&Qe.prototype.drawGraph.call(this)}});ue.scatter=ri,De.pie=e(Ee,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}});var si=v(Ke,{init:function(){Ke.prototype.init.apply(this,arguments);var e,i=this;return i.y<0&&(i.y=null),t(i,{visible:i.visible!==!1,name:p(i.name,"Slice")}),e=function(t){i.slice("select"===t.type)},_e(i,"select",e),_e(i,"unselect",e),i},setVisible:function(t){var e=this,i=e.series,n=i.chart;e.visible=e.options.visible=t=t===W?!e.visible:t,i.options.data[ge(e,i.data)]=e.options,ve(["graphic","dataLabel","connector","shadowGroup"],function(i){e[i]&&e[i][t?"show":"hide"](!0)}),e.legendItem&&n.legend.colorizeItem(e,t),!i.isDirty&&i.options.ignoreHiddenPoint&&(i.isDirty=!0,n.redraw())},slice:function(t,e,i){var n,o=this,r=o.series,s=r.chart;I(i,s),e=p(e,!0),o.sliced=o.options.sliced=t=d(t)?t:!o.sliced,r.options.data[ge(o,r.data)]=o.options,n=t?o.slicedTranslation:{translateX:0,translateY:0},o.graphic.animate(n),o.shadowGroup&&o.shadowGroup.animate(n)}}),ai={type:"pie",isCartesian:!1,pointClass:si,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},singularTooltips:!0,getColor:Lt,animate:function(t){var e=this,i=e.points,n=e.startAngleRad;t||(ve(i,function(t){var i=t.graphic,o=t.shapeArgs;i&&(i.attr({r:e.center[3]/2,start:n,end:n}),i.animate({r:o.r,start:o.start,end:o.end},e.options.animation))}),e.animate=null)},setData:function(t,e,i,n){Qe.prototype.setData.call(this,t,!1,i,n),this.processData(),this.generatePoints(),p(e,!0)&&this.chart.redraw(i)},generatePoints:function(){var t,e,i,n,o=0,r=this.options.ignoreHiddenPoint;for(Qe.prototype.generatePoints.call(this),e=this.points,i=e.length,t=0;i>t;t++)n=e[t],o+=r&&!n.visible?0:n.y;for(this.total=o,t=0;i>t;t++)n=e[t],n.percentage=o>0?n.y/o*100:0,n.total=o},translate:function(t){this.generatePoints();var e,i,n,o,r,s,a,l=this,c=0,u=1e3,d=l.options,h=d.slicedOffset,f=h+d.borderWidth,m=d.startAngle||0,g=l.startAngleRad=wt/180*(m-90),v=l.endAngleRad=wt/180*(p(d.endAngle,m+360)-90),y=v-g,b=l.points,x=d.dataLabels.distance,_=d.ignoreHiddenPoint,w=b.length;for(t||(l.center=t=l.getCenter()),l.getX=function(e,i){return n=ft.asin(yt((e-t[1])/(t[2]/2+x),1)),t[0]+(i?-1:1)*(xt(n)*(t[2]/2+x))},s=0;w>s;s++)a=b[s],e=g+c*y,(!_||a.visible)&&(c+=a.percentage/100),i=g+c*y,a.shapeType="arc",a.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:pt(e*u)/u,end:pt(i*u)/u},n=(i+e)/2,n>1.5*wt?n-=2*wt:-wt/2>n&&(n+=2*wt),a.slicedTranslation={translateX:pt(xt(n)*h),translateY:pt(_t(n)*h)},o=xt(n)*t[2]/2,r=_t(n)*t[2]/2,a.tooltipPos=[t[0]+.7*o,t[1]+.7*r],a.half=-wt/2>n||n>wt/2?1:0,a.angle=n,f=yt(f,x/2),a.labelPos=[t[0]+o+xt(n)*x,t[1]+r+_t(n)*x,t[0]+o+xt(n)*f,t[1]+r+_t(n)*f,t[0]+o,t[1]+r,0>x?"center":a.half?"right":"left",n]},drawGraph:null,drawPoints:function(){var e,i,n,o,r=this,s=r.chart,a=s.renderer,l=r.options.shadow;l&&!r.shadowGroup&&(r.shadowGroup=a.g("shadow").add(r.group)),ve(r.points,function(s){i=s.graphic,o=s.shapeArgs,n=s.shadowGroup,l&&!n&&(n=s.shadowGroup=a.g("shadow").add(r.shadowGroup)),e=s.sliced?s.slicedTranslation:{translateX:0,translateY:0},n&&n.attr(e),i?i.animate(t(o,e)):s.graphic=i=a[s.shapeType](o).setRadialReference(r.center).attr(s.pointAttr[s.selected?te:Jt]).attr({"stroke-linejoin":"round"}).attr(e).add(r.group).shadow(l,n),void 0!==s.visible&&s.setVisible(s.visible)})},sortByAngle:function(t,e){t.sort(function(t,i){return void 0!==t.angle&&(i.angle-t.angle)*e})},drawLegendSymbol:Xe.drawRectangle,getCenter:Ge.getCenter,getSymbol:Lt};ai=v(Qe,ai),ue.pie=ai,Qe.prototype.drawDataLabels=function(){var i,n,o,r,s=this,a=s.options,l=a.cursor,c=a.dataLabels,u=s.points;(c.enabled||s._hasPointLabels)&&(s.dlProcessOptions&&s.dlProcessOptions(c),r=s.plotGroup("dataLabelsGroup","data-labels",s.visible?qt:Vt,c.zIndex||6),n=c,ve(u,function(a){var u,h,f,m,g,v=a.dataLabel,y=a.connector,b=!0;if(i=a.options&&a.options.dataLabels,u=p(i&&i.enabled,n.enabled),v&&!u)a.dataLabel=v.destroy();else if(u){if(c=e(n,i),g=c.rotation,h=a.getLabelConfig(),o=c.format?w(c.format,h):c.formatter.call(h,c),c.style.color=p(c.color,c.style.color,s.color,"black"),v)d(o)?(v.attr({text:o}),b=!1):(a.dataLabel=v=v.destroy(),y&&(a.connector=y.destroy()));else if(d(o)){f={fill:c.backgroundColor,stroke:c.borderColor,"stroke-width":c.borderWidth,r:c.borderRadius||0,rotation:g,padding:c.padding,zIndex:1};for(m in f)f[m]===W&&delete f[m];v=a.dataLabel=s.chart.renderer[g?"text":"label"](o,0,-999,null,null,null,c.useHTML).attr(f).css(t(c.style,l&&{cursor:l})).add(r).shadow(c.shadow)}v&&s.alignDataLabel(a,v,c,null,b)}}))},Qe.prototype.alignDataLabel=function(e,i,n,o,r){var s,a=this.chart,l=a.inverted,c=p(e.plotX,-999),u=p(e.plotY,-999),d=i.getBBox(),h=this.visible&&(e.series.forceDL||a.isInsidePlot(c,pt(u),l)||o&&a.isInsidePlot(c,l?o.x+1:o.y+o.height-1,l));h&&(o=t({x:l?a.plotWidth-u:c,y:pt(l?a.plotHeight-c:u),width:0,height:0},o),t(n,{width:d.width,height:d.height}),n.rotation?(s={align:n.align,x:o.x+n.x+o.width/2,y:o.y+n.y+o.height/2},i[r?"attr":"animate"](s)):(i.align(n,null,o),s=i.alignAttr,"justify"===p(n.overflow,"justify")?this.justifyDataLabel(i,n,s,d,o,r):p(n.crop,!0)&&(h=a.isInsidePlot(s.x,s.y)&&a.isInsidePlot(s.x+d.width,s.y+d.height)))),h||(i.attr({y:-999}),i.placed=!1)},Qe.prototype.justifyDataLabel=function(t,e,i,n,o,r){var s,a,l=this.chart,c=e.align,u=e.verticalAlign;s=i.x,0>s&&("right"===c?e.align="left":e.x=-s,a=!0),s=i.x+n.width,s>l.plotWidth&&("left"===c?e.align="right":e.x=l.plotWidth-s,a=!0),s=i.y,0>s&&("bottom"===u?e.verticalAlign="top":e.y=-s,a=!0),s=i.y+n.height,s>l.plotHeight&&("top"===u?e.verticalAlign="bottom":e.y=l.plotHeight-s,a=!0),a&&(t.placed=!r,t.align(e,null,o))},ue.pie&&(ue.pie.prototype.drawDataLabels=function(){var t,e,i,n,o,r,s,a,l,c,u,d,h,f=this,m=f.data,g=f.chart,v=f.options.dataLabels,y=p(v.connectorPadding,10),b=p(v.connectorWidth,1),x=g.plotWidth,_=g.plotHeight,w=p(v.softConnector,!0),C=v.distance,k=f.center,T=k[2]/2,S=k[1],N=C>0,E=[[],[]],P=[0,0,0,0],A=function(t,e){return e.y-t.y};if(f.visible&&(v.enabled||f._hasPointLabels)){for(Qe.prototype.drawDataLabels.apply(f),ve(m,function(t){t.dataLabel&&t.visible&&E[t.half].push(t)}),d=0;!s&&m[d];)s=m[d]&&m[d].dataLabel&&(m[d].dataLabel.getBBox().height||21),d++;for(d=2;d--;){var M,I,$,R=[],O=[],L=E[d],F=L.length;if(f.sortByAngle(L,d-.5),C>0){for(I=S-T-C;S+T+C>=I;I+=s)R.push(I);if(M=R.length,F>M){for(u=[].concat(L),u.sort(A),h=F;h--;)u[h].rank=h;for(h=F;h--;)L[h].rank>=M&&L.splice(h,1);F=L.length}for(h=0;F>h;h++){t=L[h],r=t.labelPos;var H,B,z=9999;for(B=0;M>B;B++)H=bt(R[B]-r[1]),z>H&&(z=H,$=B);if(h>$&&null!==R[h])$=h;else if(F-h+$>M&&null!==R[h])for($=M-F+h;null===R[$];)$++;else for(;null===R[$];)$++;O.push({i:$,y:R[$]}),R[$]=null}O.sort(A)}for(h=0;F>h;h++){var W,j;t=L[h],r=t.labelPos,n=t.dataLabel,c=t.visible===!1?Vt:qt,j=r[1],C>0?(W=O.pop(),$=W.i,l=W.y,(j>l&&null!==R[$+1]||l>j&&null!==R[$-1])&&(l=j)):l=j,a=v.justify?k[0]+(d?-1:1)*(T+C):f.getX(0===$||$===R.length-1?j:l,d),n._attr={visibility:c,align:r[6]},n._pos={x:a+v.x+({left:y,right:-y}[r[6]]||0),y:l+v.y-10},n.connX=a,n.connY=l,null===this.options.size&&(o=n.width,y>a-o?P[3]=vt(pt(o-a+y),P[3]):a+o>x-y&&(P[1]=vt(pt(a+o-x+y),P[1])),0>l-s/2?P[0]=vt(pt(-l+s/2),P[0]):l+s/2>_&&(P[2]=vt(pt(l+s/2-_),P[2])))}}(0===D(P)||this.verifyDataLabelOverflow(P))&&(this.placeDataLabels(),N&&b&&ve(this.points,function(t){e=t.connector,r=t.labelPos,n=t.dataLabel,n&&n._pos?(c=n._attr.visibility,a=n.connX,l=n.connY,i=w?[Gt,a+("left"===r[6]?5:-5),l,"C",a,l,2*r[2]-r[4],2*r[3]-r[5],r[2],r[3],Kt,r[4],r[5]]:[Gt,a+("left"===r[6]?5:-5),l,Kt,r[2],r[3],Kt,r[4],r[5]],e?(e.animate({d:i}),e.attr("visibility",c)):t.connector=e=f.chart.renderer.path(i).attr({"stroke-width":b,stroke:v.connectorColor||t.color||"#606060",visibility:c}).add(f.group)):e&&(t.connector=e.destroy())}))}},ue.pie.prototype.placeDataLabels=function(){ve(this.points,function(t){var e,i=t.dataLabel;i&&(e=i._pos,e?(i.attr(i._attr),i[i.moved?"animate":"attr"](e),i.moved=!0):i&&i.attr({y:-999}))})},ue.pie.prototype.alignDataLabel=Lt,ue.pie.prototype.verifyDataLabelOverflow=function(t){var e,i=this.center,n=this.options,o=n.center,r=n.minSize||80,s=r;return null!==o[0]?s=vt(i[2]-vt(t[1],t[3]),r):(s=vt(i[2]-t[1]-t[3],r),i[0]+=(t[3]-t[1])/2),null!==o[1]?s=vt(yt(s,i[2]-vt(t[0],t[2])),r):(s=vt(yt(s,i[2]-t[0]-t[2]),r),i[1]+=(t[0]-t[2])/2),s<i[2]?(i[2]=s,this.translate(i),ve(this.points,function(t){t.dataLabel&&(t.dataLabel._pos=null)}),this.drawDataLabels&&this.drawDataLabels()):e=!0,e}),ue.column&&(ue.column.prototype.alignDataLabel=function(t,i,n,o,r){var s=this.chart,a=s.inverted,l=t.dlBox||t.shapeArgs,c=t.below||t.plotY>p(this.translatedThreshold,s.plotSizeY),u=p(n.inside,!!this.options.stacking);l&&(o=e(l),a&&(o={x:s.plotWidth-o.y-o.height,y:s.plotHeight-o.x-o.width,width:o.height,height:o.width}),u||(a?(o.x+=c?0:o.width,o.width=0):(o.y+=c?o.height:0,o.height=0))),n.align=p(n.align,!a||u?"center":c?"right":"left"),n.verticalAlign=p(n.verticalAlign,a||u?"middle":c?"top":"bottom"),Qe.prototype.alignDataLabel.call(this,t,i,n,o,r)});var li=de.TrackerMixin={drawTrackerPoint:function(){var t=this,e=t.chart,i=e.pointer,n=t.options.cursor,o=n&&{cursor:n},r=function(i){var n,o=i.target;for(e.hoverSeries!==t&&t.onMouseOver();o&&!n;)n=o.point,o=o.parentNode;n!==W&&n!==e.hoverPoint&&n.onMouseOver(i)};ve(t.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.element.point=t)}),t._hasTracking||(ve(t.trackerGroups,function(e){t[e]&&(t[e].addClass(Ut+"tracker").on("mouseover",r).on("mouseout",function(t){i.onTrackerMouseOut(t)}).css(o),V&&t[e].on("touchstart",r))}),t._hasTracking=!0)},drawTrackerGraph:function(){var t,e,i=this,n=i.options,o=n.trackByArea,r=[].concat(o?i.areaPath:i.graphPath),s=r.length,a=i.chart,l=a.pointer,c=a.renderer,u=a.options.tooltip.snap,d=i.tracker,h=n.cursor,f=h&&{cursor:h},p=i.singlePoints,m=function(){a.hoverSeries!==i&&i.onMouseOver()},g="rgba(192,192,192,"+(Mt?1e-4:.002)+")";if(s&&!o)for(e=s+1;e--;)r[e]===Gt&&r.splice(e+1,0,r[e+1]-u,r[e+2],Kt),(e&&r[e]===Gt||e===s)&&r.splice(e,0,Kt,r[e-2]+u,r[e-1]);for(e=0;e<p.length;e++)t=p[e],r.push(Gt,t.plotX-u,t.plotY,Kt,t.plotX+u,t.plotY);d?d.attr({d:r}):(i.tracker=c.path(r).attr({"stroke-linejoin":"round",visibility:i.visible?qt:Vt,stroke:g,fill:o?g:Xt,"stroke-width":n.lineWidth+(o?0:2*u),zIndex:2}).add(i.group),ve([i.tracker,i.markerGroup],function(t){t.addClass(Ut+"tracker").on("mouseover",m).on("mouseout",function(t){l.onTrackerMouseOut(t)}).css(f),V&&t.on("touchstart",m)}))}};ue.column&&(ni.prototype.drawTracker=li.drawTrackerPoint),ue.pie&&(ue.pie.prototype.drawTracker=li.drawTrackerPoint),ue.scatter&&(ri.prototype.drawTracker=li.drawTrackerPoint),t(Ye.prototype,{setItemEvents:function(t,e,i,n,o){var r=this;(i?e:t.legendGroup).on("mouseover",function(){t.setState(Zt),e.css(r.options.itemHoverStyle)}).on("mouseout",function(){e.css(t.visible?n:o),t.setState()}).on("click",function(e){var i="legendItemClick",n=function(){t.setVisible()};e={browserEvent:e},t.firePointEvent?t.firePointEvent(i,e,n):Ce(t,i,e,n)})},createCheckboxForItem:function(t){var e=this;t.checkbox=g("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},e.options.itemCheckboxStyle,e.chart.container),_e(t.checkbox,"click",function(e){var i=e.target;Ce(t,"checkboxClick",{checked:i.checked},function(){t.select()})})}}),q.legend.itemStyle.cursor="pointer",t(B.prototype,{showResetZoom:function(){var t=this,e=q.lang,i=t.options.chart.resetZoomButton,n=i.theme,o=n.states,r="chart"===i.relativeTo?null:"plotBox";this.resetZoomButton=t.renderer.button(e.resetZoom,null,null,function(){t.zoomOut()},n,o&&o.hover).attr({align:i.position.align,title:e.resetZoomTitle}).add().align(i.position,!1,r)},zoomOut:function(){var t=this;Ce(t,"selection",{resetSelection:!0},function(){t.zoom()})},zoom:function(t){var e,i,n=this,o=n.pointer,s=!1;!t||t.resetSelection?ve(n.axes,function(t){e=t.zoom()}):ve(t.xAxis.concat(t.yAxis),function(t){var i=t.axis,n=i.isXAxis;(o[n?"zoomX":"zoomY"]||o[n?"pinchX":"pinchY"])&&(e=i.zoom(t.min,t.max),i.displayBtn&&(s=!0))}),i=n.resetZoomButton,s&&!i?n.showResetZoom():!s&&r(i)&&(n.resetZoomButton=i.destroy()),e&&n.redraw(p(n.options.chart.animation,t&&t.animation,n.pointCount<100))},pan:function(t,e){var i,n=this,o=n.hoverPoints;o&&ve(o,function(t){t.setState()}),ve("xy"===e?[1,0]:[1],function(e){var o=t[e?"chartX":"chartY"],r=n[e?"xAxis":"yAxis"][0],s=n[e?"mouseDownX":"mouseDownY"],a=(r.pointRange||0)/2,l=r.getExtremes(),c=r.toValue(s-o,!0)+a,u=r.toValue(s+n[e?"plotWidth":"plotHeight"]-o,!0)-a;r.series.length&&c>yt(l.dataMin,l.min)&&u<vt(l.dataMax,l.max)&&(r.setExtremes(c,u,!1,!1,{trigger:"pan"}),i=!0),n[e?"mouseDownX":"mouseDownY"]=o}),i&&n.redraw(!1),m(n.container,{cursor:"move"})}}),t(Ke.prototype,{select:function(t,e){var i=this,n=i.series,o=n.chart;t=p(t,!i.selected),i.firePointEvent(t?"select":"unselect",{accumulate:e},function(){i.selected=i.options.selected=t,n.options.data[ge(i,n.data)]=i.options,i.setState(t&&te),e||ve(o.getSelectedPoints(),function(t){t.selected&&t!==i&&(t.selected=t.options.selected=!1,n.options.data[ge(t,n.data)]=t.options,t.setState(Jt),t.firePointEvent("unselect"))})})},onMouseOver:function(t){var e=this,i=e.series,n=i.chart,o=n.tooltip,r=n.hoverPoint;r&&r!==e&&r.onMouseOut(),e.firePointEvent("mouseOver"),!o||o.shared&&!i.noSharedTooltip||o.refresh(e,t),e.setState(Zt),n.hoverPoint=e},onMouseOut:function(){var t=this.series.chart,e=t.hoverPoints;e&&-1!==ge(this,e)||(this.firePointEvent("mouseOut"),this.setState(),t.hoverPoint=null)},firePointEvent:function(t,e,i){var n=this,o=this.series,r=o.options;(r.point.events[t]||n.options&&n.options.events&&n.options.events[t])&&this.importEvents(),"click"===t&&r.allowPointSelect&&(i=function(t){n.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),Ce(this,t,e,i)},importEvents:function(){if(!this.hasImportedEvents){var t,i=this,n=e(i.series.options.point,i.options),o=n.events;i.events=o;for(t in o)_e(i,t,o[t]);this.hasImportedEvents=!0}},setState:function(t,i){var n,o,r=this,s=r.plotX,a=r.plotY,l=r.series,c=l.options.states,u=De[l.type].marker&&l.options.marker,d=u&&!u.enabled,h=u&&u.states[t],f=h&&h.enabled===!1,p=l.stateMarkerGraphic,m=r.marker||{},g=l.chart,v=r.pointAttr;t=t||Jt,i=i&&p,t===r.state&&!i||r.selected&&t!==te||c[t]&&c[t].enabled===!1||t&&(f||d&&!h.enabled)||t&&m.states&&m.states[t]&&m.states[t].enabled===!1||(r.graphic?(n=u&&r.graphic.symbolName&&v[t].r,r.graphic.attr(e(v[t],n?{x:s-n,y:a-n,width:2*n,height:2*n}:{}))):(t&&h&&(n=h.radius,o=m.symbol||l.symbol,p&&p.currentSymbol!==o&&(p=p.destroy()),p?p[i?"animate":"attr"]({x:s-n,y:a-n}):(l.stateMarkerGraphic=p=g.renderer.symbol(o,s-n,a-n,2*n,2*n).attr(v[t]).add(l.markerGroup),p.currentSymbol=o)),p&&p[t&&g.isInsidePlot(s,a,g.inverted)?"show":"hide"]()),r.state=t)}}),t(Qe.prototype,{onMouseOver:function(){var t=this,e=t.chart,i=e.hoverSeries;i&&i!==t&&i.onMouseOut(),t.options.events.mouseOver&&Ce(t,"mouseOver"),t.setState(Zt),e.hoverSeries=t},onMouseOut:function(){var t=this,e=t.options,i=t.chart,n=i.tooltip,o=i.hoverPoint;o&&o.onMouseOut(),t&&e.events.mouseOut&&Ce(t,"mouseOut"),!n||e.stickyTracking||n.shared&&!t.noSharedTooltip||n.hide(),t.setState(),i.hoverSeries=null},setState:function(t){var e,i=this,n=i.options,o=i.graph,r=i.graphNeg,s=n.states,a=n.lineWidth;if(t=t||Jt,i.state!==t){if(i.state=t,s[t]&&s[t].enabled===!1)return;t&&(a=s[t].lineWidth||a+1),o&&!o.dashstyle&&(e={"stroke-width":a},o.attr(e),r&&r.attr(e))}},setVisible:function(t,e){var i,n=this,o=n.chart,r=n.legendItem,s=o.options.chart.ignoreHiddenSeries,a=n.visible;n.visible=t=n.userOptions.visible=t===W?!a:t,i=t?"show":"hide",ve(["group","dataLabelsGroup","markerGroup","tracker"],function(t){n[t]&&n[t][i]()}),o.hoverSeries===n&&n.onMouseOut(),r&&o.legend.colorizeItem(n,t),n.isDirty=!0,n.options.stacking&&ve(o.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),ve(n.linkedSeries,function(e){e.setVisible(t,!1)}),s&&(o.isDirtyBox=!0),e!==!1&&o.redraw(),Ce(n,i)},setTooltipPoints:function(t){var e,i,n,o,r,s,a,l=this,c=[],u=l.xAxis,d=u&&u.getExtremes(),h=u?u.tooltipLen||u.len:l.chart.plotSizeX,f=[];if(l.options.enableMouseTracking!==!1&&!l.singularTooltips){for(t&&(l.tooltipPoints=null),ve(l.segments||l.points,function(t){c=c.concat(t)}),u&&u.reversed&&(c=c.reverse()),l.orderTooltipPoints&&l.orderTooltipPoints(c),e=c.length,a=0;e>a;a++)if(o=c[a],r=o.x,r>=d.min&&r<=d.max)for(s=c[a+1],i=n===W?0:n+1,n=c[a+1]?yt(vt(0,mt((o.clientX+(s?s.wrappedClientX||s.clientX:h))/2)),h):h;i>=0&&n>=i;)f[i++]=o;l.tooltipPoints=f}},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){var e=this;e.selected=t=t===W?!e.selected:t,e.checkbox&&(e.checkbox.checked=t),Ce(e,t?"select":"unselect")},drawTracker:li.drawTrackerGraph}),t(de,{Axis:H,Chart:B,Color:Ie,Point:Ke,Tick:F,Renderer:j,Series:Qe,SVGElement:L,SVGRenderer:$e,arrayMin:N,arrayMax:D,charts:Ft,dateFormat:Y,format:w,pathAnim:G,getOptions:O,hasBidiBug:It,isTouchDevice:Pt,numberFormat:y,seriesTypes:ue,setOptions:R,addEvent:_e,removeEvent:we,createElement:g,discardElement:P,css:m,each:ve,extend:t,map:xe,merge:e,pick:p,splat:f,extendClass:v,pInt:n,wrap:x,svg:Mt,canvas:$t,vml:!Mt&&!$t,product:Ht,version:Bt})}(),function(t){var e,i,n=t.Chart,o=t.addEvent,r=t.removeEvent,s=t.createElement,a=t.discardElement,l=t.css,c=t.merge,u=t.each,d=t.extend,h=Math,f=h.max,p=document,m=window,g=t.isTouchDevice,v="M",y="L",b="div",x="hidden",_="none",w="highcharts-",C="absolute",k="px",T=t.Renderer.prototype.symbols,S=t.getOptions();d(S.lang,{printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"}),S.navigation={menuStyle:{border:"1px solid #A0A0A0",background:"#FFFFFF",padding:"5px 0"},menuItemStyle:{padding:"0 10px",background:_,color:"#303030",fontSize:g?"14px":"11px"},menuItemHoverStyle:{background:"#4572A5",color:"#FFFFFF"},buttonOptions:{symbolFill:"#E0E0E0",symbolSize:14,symbolStroke:"#666",symbolStrokeWidth:3,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,theme:{fill:"white",stroke:"none"},verticalAlign:"top",width:24}},S.exporting={type:"image/png",url:"http://export.highcharts.com/",buttons:{contextButton:{menuClassName:w+"contextmenu",symbol:"menu",_titleKey:"contextButtonTitle",menuItems:[{textKey:"printChart",onclick:function(){this.print()}},{separator:!0},{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]}}},t.post=function(t,e,i){var n,o;o=s("form",c({method:"post",action:t,enctype:"multipart/form-data"},i),{display:_},p.body);for(n in e)s("input",{type:x,name:n,value:e[n]},null,o);o.submit(),a(o)},d(n.prototype,{getSVG:function(i){var n,o,r,l,h,f,m,g,v=this,y=c(v.options,i);return p.createElementNS||(p.createElementNS=function(t,e){return p.createElement(e)}),o=s(b,null,{position:C,top:"-9999em",width:v.chartWidth+k,height:v.chartHeight+k},p.body),m=v.renderTo.style.width,
g=v.renderTo.style.height,h=y.exporting.sourceWidth||y.chart.width||/px$/.test(m)&&parseInt(m,10)||600,f=y.exporting.sourceHeight||y.chart.height||/px$/.test(g)&&parseInt(g,10)||400,d(y.chart,{animation:!1,renderTo:o,forExport:!0,width:h,height:f}),y.exporting.enabled=!1,y.series=[],u(v.series,function(t){l=c(t.options,{animation:!1,showCheckbox:!1,visible:t.visible}),l.isInternal||y.series.push(l)}),n=new t.Chart(y,v.callback),u(["xAxis","yAxis"],function(t){u(v[t],function(i,o){var r=n[t][o],s=i.getExtremes(),a=s.userMin,l=s.userMax;!r||a===e&&l===e||r.setExtremes(a,l,!0,!1)})}),r=n.container.innerHTML,y=null,n.destroy(),a(o),r=r.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ href=/g," xlink:href=").replace(/\n/," ").replace(/<\/svg>.*?$/,"</svg>").replace(/&nbsp;/g,"\xa0").replace(/&shy;/g,"\xad").replace(/<IMG /g,"<image ").replace(/height=([^" ]+)/g,'height="$1"').replace(/width=([^" ]+)/g,'width="$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href="$1"/>').replace(/id=([^" >]+)/g,'id="$1"').replace(/class=([^" >]+)/g,'class="$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(t){return t.toLowerCase()}),r=r.replace(/(url\(#highcharts-[0-9]+)&quot;/g,"$1").replace(/&quot;/g,"'")},exportChart:function(e,i){e=e||{};var n=this,o=n.options.exporting,r=n.getSVG(c({chart:{borderRadius:0}},o.chartOptions,i,{exporting:{sourceWidth:e.sourceWidth||o.sourceWidth,sourceHeight:e.sourceHeight||o.sourceHeight}}));e=c(n.options.exporting,e),t.post(e.url,{filename:e.filename||"chart",type:e.type,width:e.width||0,scale:e.scale||2,svg:r},e.formAttributes)},print:function(){var t=this,e=t.container,i=[],n=e.parentNode,o=p.body,r=o.childNodes;t.isPrinting||(t.isPrinting=!0,u(r,function(t,e){1===t.nodeType&&(i[e]=t.style.display,t.style.display=_)}),o.appendChild(e),m.focus(),m.print(),setTimeout(function(){n.appendChild(e),u(r,function(t,e){1===t.nodeType&&(t.style.display=i[e])}),t.isPrinting=!1},1e3))},contextMenu:function(t,e,i,n,a,c,h){var p,m,g,v,y=this,x=y.options.navigation,w=x.menuItemStyle,T=y.chartWidth,S=y.chartHeight,N="cache-"+t,D=y[N],E=f(a,c),P="3px 3px 10px #888",A=function(e){y.pointer.inClass(e.target,t)||m()};D||(y[N]=D=s(b,{className:t},{position:C,zIndex:1e3,padding:E+k},y.container),p=s(b,null,d({MozBoxShadow:P,WebkitBoxShadow:P,boxShadow:P},x.menuStyle),D),m=function(){l(D,{display:_}),h&&h.setState(0),y.openMenu=!1},o(D,"mouseleave",function(){g=setTimeout(m,500)}),o(D,"mouseenter",function(){clearTimeout(g)}),o(document,"mouseup",A),o(y,"destroy",function(){r(document,"mouseup",A)}),u(e,function(t){if(t){var e=t.separator?s("hr",null,null,p):s(b,{onmouseover:function(){l(this,x.menuItemHoverStyle)},onmouseout:function(){l(this,w)},onclick:function(){m(),t.onclick.apply(y,arguments)},innerHTML:t.text||y.options.lang[t.textKey]},d({cursor:"pointer"},w),p);y.exportDivElements.push(e)}}),y.exportDivElements.push(p,D),y.exportMenuWidth=D.offsetWidth,y.exportMenuHeight=D.offsetHeight),v={display:"block"},i+y.exportMenuWidth>T?v.right=T-i-a-E+k:v.left=i-E+k,n+c+y.exportMenuHeight>S&&"top"!==h.alignOptions.verticalAlign?v.bottom=S-n-E+k:v.top=n+c-E+k,l(D,v),y.openMenu=!0},addButton:function(e){var n,o,r=this,s=r.renderer,a=c(r.options.navigation.buttonOptions,e),l=a.onclick,u=a.menuItems,h={stroke:a.symbolStroke,fill:a.symbolFill},f=a.symbolSize||12;if(r.btnCount||(r.btnCount=0),r.exportDivElements||(r.exportDivElements=[],r.exportSVGElements=[]),a.enabled!==!1){var p,m=a.theme,g=m.states,v=g&&g.hover,y=g&&g.select;delete m.states,l?p=function(){l.apply(r,arguments)}:u&&(p=function(){r.contextMenu(o.menuClassName,u,o.translateX,o.translateY,o.width,o.height,o),o.setState(2)}),a.text&&a.symbol?m.paddingLeft=t.pick(m.paddingLeft,25):a.text||d(m,{width:a.width,height:a.height,padding:0}),o=s.button(a.text,0,0,p,m,v,y).attr({title:r.options.lang[a._titleKey],"stroke-linecap":"round"}),o.menuClassName=e.menuClassName||w+"menu-"+r.btnCount++,a.symbol&&(n=s.symbol(a.symbol,a.symbolX-f/2,a.symbolY-f/2,f,f).attr(d(h,{"stroke-width":a.symbolStrokeWidth||1,zIndex:1})).add(o)),o.add().align(d(a,{width:o.width,x:t.pick(a.x,i)}),!0,"spacingBox"),i+=(o.width+a.buttonSpacing)*("right"===a.align?-1:1),r.exportSVGElements.push(o,n)}},destroyExport:function(t){var e,i,n=t.target;for(e=0;e<n.exportSVGElements.length;e++)i=n.exportSVGElements[e],i&&(i.onclick=i.ontouchstart=null,n.exportSVGElements[e]=i.destroy());for(e=0;e<n.exportDivElements.length;e++)i=n.exportDivElements[e],r(i,"mouseleave"),n.exportDivElements[e]=i.onmouseout=i.onmouseover=i.ontouchstart=i.onclick=null,a(i)}}),T.menu=function(t,e,i,n){var o=[v,t,e+2.5,y,t+i,e+2.5,v,t,e+n/2+.5,y,t+i,e+n/2+.5,v,t,e+n-1.5,y,t+i,e+n-1.5];return o},n.prototype.callbacks.push(function(t){var e,n=t.options.exporting,r=n.buttons;if(i=0,n.enabled!==!1){for(e in r)t.addButton(r[e]);o(t,"destroy",t.destroyExport)}})}(Highcharts),Highcharts.theme={colors:["#DDDF0D","#7798BF","#55BF3B","#DF5353","#aaeeee","#ff0066","#eeaaee","#55BF3B","#DF5353","#7798BF","#aaeeee"],chart:{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"rgb(96, 96, 96)"],[1,"rgb(16, 16, 16)"]]},borderWidth:0,borderRadius:0,plotBackgroundColor:null,plotShadow:!1,plotBorderWidth:0},title:{style:{color:"#FFF",font:"16px Lucida Grande, Lucida Sans Unicode, Verdana, Arial, Helvetica, sans-serif"}},subtitle:{style:{color:"#DDD",font:"12px Lucida Grande, Lucida Sans Unicode, Verdana, Arial, Helvetica, sans-serif"}},xAxis:{gridLineWidth:0,lineColor:"#999",tickColor:"#999",labels:{style:{color:"#999",fontWeight:"bold"}},title:{style:{color:"#AAA",font:"bold 12px Lucida Grande, Lucida Sans Unicode, Verdana, Arial, Helvetica, sans-serif"}}},yAxis:{alternateGridColor:null,minorTickInterval:null,gridLineColor:"rgba(255, 255, 255, .1)",minorGridLineColor:"rgba(255,255,255,0.07)",lineWidth:0,tickWidth:0,labels:{style:{color:"#999",fontWeight:"bold"}},title:{style:{color:"#AAA",font:"bold 12px Lucida Grande, Lucida Sans Unicode, Verdana, Arial, Helvetica, sans-serif"}}},legend:{itemStyle:{color:"#CCC"},itemHoverStyle:{color:"#FFF"},itemHiddenStyle:{color:"#333"}},labels:{style:{color:"#CCC"}},tooltip:{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"rgba(96, 96, 96, .8)"],[1,"rgba(16, 16, 16, .8)"]]},borderWidth:0,style:{color:"#FFF"}},plotOptions:{series:{nullColor:"#444444"},line:{dataLabels:{color:"#CCC"},marker:{lineColor:"#333"}},spline:{marker:{lineColor:"#333"}},scatter:{marker:{lineColor:"#333"}},candlestick:{lineColor:"white"}},toolbar:{itemStyle:{color:"#CCC"}},navigation:{buttonOptions:{symbolStroke:"#DDDDDD",hoverSymbolStroke:"#FFFFFF",theme:{fill:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[.4,"#606060"],[.6,"#333333"]]},stroke:"#000000"}}},rangeSelector:{buttonTheme:{fill:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[.4,"#888"],[.6,"#555"]]},stroke:"#000000",style:{color:"#CCC",fontWeight:"bold"},states:{hover:{fill:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[.4,"#BBB"],[.6,"#888"]]},stroke:"#000000",style:{color:"white"}},select:{fill:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[.1,"#000"],[.3,"#333"]]},stroke:"#000000",style:{color:"yellow"}}}},inputStyle:{backgroundColor:"#333",color:"silver"},labelStyle:{color:"silver"}},navigator:{handles:{backgroundColor:"#666",borderColor:"#AAA"},outlineColor:"#CCC",maskFill:"rgba(16, 16, 16, 0.5)",series:{color:"#7798BF",lineColor:"#A6C7ED"}},scrollbar:{barBackgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[.4,"#888"],[.6,"#555"]]},barBorderColor:"#CCC",buttonArrowColor:"#CCC",buttonBackgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[.4,"#888"],[.6,"#555"]]},buttonBorderColor:"#CCC",rifleColor:"#FFF",trackBackgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#000"],[1,"#333"]]},trackBorderColor:"#666"},legendBackgroundColor:"rgba(48, 48, 48, 0.8)",legendBackgroundColorSolid:"rgb(70, 70, 70)",dataLabelsColor:"#444",textColor:"#E0E0E0",maskColor:"rgba(255,255,255,0.3)"};var highchartsOptions=Highcharts.setOptions(Highcharts.theme);