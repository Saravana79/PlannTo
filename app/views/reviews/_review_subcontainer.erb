<div id="reviewSubContainer" class="contentSubContainer">
  <%= form_for ReviewContent.new, :remote => true do |f| %>
    <div style="padding:5px 5px 0px 0px;text-align:center">
      <div class="title_header float_lft">Title :</div>
      <div class="float_lft"> <%= f.text_field :title, :style=> "margin-left:5px;width:400px" %> </div>
    </div>
    <div class="productreview" style="clear:both;">
      <div class="title_header float_lft">Rating :</div>
      <!-- <img src="/images/rating_stars.png" style="padding-left:3px;"/> -->
      <div id="rating" class="thereisnosuchclass"></div>
    </div>

    <div style="padding:5px 5px 0px 0px;clear:both;" id="reviewProducts">
      <div class="title_header float_lft">Product  :</div>
      <div class="taggingdiv" style="margin-left:5px;">
        <ul id="review_product_item_list" class="tagging"></ul>
        <div class="float_lft " style="clear:both;"><input style="margin-top:5px;width:250px" placeholder="Start Typing for suggestions.." type="text" value="" id="review_product_item"/></div>
        <div style="clear:both;"></div>
      </div>
      <div style="clear:both;"></div>
    </div>
    <script type="text/javascript">
      $(document).ready(function(){
      settings={
      close:true, addButton: false,
      url: "/search/autocomplete_items",
      editMode: false, multiple: true,
      hidden_field: "review_content_item"
    };
    $.textTagger("review_product_item","review_product_item_list",settings);
    <% unless @item.blank? %>
      $.addTag("review_product_item","review_product_item_list", settings,"<%= @item.name %>", "<%= @item.id %>");
      $.addIdToField(settings.hidden_field, "<%= @item.id %>")
      $("ul#review_product_item_list li:first span a.icon_close_tagging").remove();
<% end %>
  });
  
  function validateReviewForm(){
    $('#review_content_title').poshytip('destroy')
    var valid = true;
    if ($("#review_content_title").val() == ""){
      $('#review_content_title').poshytip({
        className: 'tip-darkgray',
        content: 'Please select a title.',
        showOn: 'none',
        alignTo: 'target',
        alignX: 'right',
        offsetX: 5,
        alignY: 'center'
      });
      $('#review_content_title').poshytip('show');
      valid = false
    }
    return valid
  }

  $(document).ready(function(){
    $("#publishReview").click(function(){
      var valid = validateReviewForm();
      if (!valid){
        return false;
      }
    });
  });
    </script>
    <div style="padding:5px 5px 0px 0px; width:550px;">
      <div class="title_header float_lft">Pros :</div>
      <%= f.text_field :pros,:style => "margin-left:5px;width:400px;",:placeholder => "Start typing to get recommendations..." %>
    </div>
    <div style="padding:5px 5px 0px 0px; width:550px;">
      <div class="title_header float_lft">Cons :</div>
      <%= f.text_field :cons,:style => "margin-left:5px;width:400px;",:placeholder => "Start typing to get recommendations..." %>
    </div>
    <div style="padding:5px 5px 0px 5px;">
      <div class="title_header float_lft">Description :</div>
      <div>
        <%= f.text_area :description, :class=>"textFilling", :style => "width:400px;height:50px;"  %>
      </div>
    </div>
    <div style="padding:5px 5px 0px 80px; width:350px; ">
      Would you recommend this product to your friend
      <button class="btn_follow review_content_reco" type="button" value="true" > Yes </button>
      <button class="btn_follow review_content_reco" type="button" value="false" > No </button>
      <%= f.hidden_field :recommend_this, :value => "" %>
    </div>
  <%#= f.hidden_field :item, :value => @item.id %>
    <input id="review_content_item" name="item_id" type="hidden" value=<%= @item.id %>  />
    <div style="padding:0px 5px 5px 5px; float:right; width:100%; margin-right:40px; ">
      <%= f.submit 'Share This Review',:class => 'btn_submitanswer', :id => "publishReview"   %>
      <!-- </input> -->
    </div>
  <% end %>
</div>
